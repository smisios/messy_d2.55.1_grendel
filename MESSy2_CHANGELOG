******************************************************************************
**                          MESSy/ECHAM5 history                            **
******************************************************************************

******************************************************************************

WARNINGS about the latest version are in the file WARNINGS!

******************************************************************************

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
NOTE: for changes after messy_d2.54.0 see CHANGELOG
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

******************************************************************************

messy_d2.54.0 (25 Sep 2018)

Changes by Patrick Joeckel:
= <<STEP 8: dau-ngrade, ...
  ( ./configure --enable-YAXT --enable-CESM1 \
		--enable-MESSYTENDENCY RUNMODE=PRODUCTION)
    - intel/18.0.2 openmpi/2.0.2p2_hpcx-intel14:
      - COMPILATION: OK
      - nml/CCMI/R1EME-01: OK
= <<STEP 7: dau-ngrade, TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION
  -----------------------------------------------------------
  - openmpi/1.10.3/gfortran/4.9.4      PRODUCTION  OK
  - openmpi/1.10.3/g95-dint32/0.93     PRODUCTION  OK
  - openmpi/1.10.3/intel/16.0-2        PRODUCTION  OK
  - openmpi/1.10.3/gfortran/6.2.0      PRODUCTION  partly OK
     ( internal compiler error: Segmentation fault in messy_init of
       messy/mbm/caaba/messy_main_control_cb.f90)
  - openmpi/3.1.1/gfortran/4.9.4       PRODUCTION  OK

******************************************************************************

messy_d2.53.0.27 (24 Sep 2018)

Changes by Patrick Joeckel:
- config/mh-linux-64:
  - minor update for pa2 @ DLR
- xmessy_mmd:
  - update (MPI_OPT) for pa2 @ DLR (openMPI 3.1.*)
  - (thanks to Joerg Behrens): workaround to avoid core-dumps
    at MPI_FINALIZE on mistral @ DKRZ when using openmpi/2.0.2p2_hpcx-*
- VERTEX: izwet an istrom now only known in SMCL, since they are not used
	  on SMIL

Changes by Tamara Emmerichs:
- VERTEX: last minute fixes and updates

Changes by Patrick Joeckel (thanks to Astrid Kerkweg):
- AEROPT: correction of height calculation from geopotential
- TROPOP: correction of height caclulation from geopotential for
	  Ri-number based PBLH

Changes by Astrid Kerkweg:
- GRID_TRAFO: bug-fix in messy_main_grid_trafo::reduce_input_grid for
  non-overlapping grids

Changes by Patrick Joeckel:
= <<STEP 6b: TEST COMPILATION on mistral @ DKRZ>>:
  ( ./configure --enable-YAXT --enable-ICON --enable-CESM1 \
		--enable-COSMO --enable-I2CINC --enable-MESSYMMD \
		--enable-GUESS --enable-MESSYTENDENCY RUNMODE=PRODUCTION)
    - bullxmpi + ... + intel                   : OK
    - intel/18.0.2 openmpi/2.0.2p2_hpcx-intel14: OK
    - intel intelmpi                           : OK
    - gcc/6.4.0 openmpi/2.0.2p1_hpcx-gcc64     : OK
    - nag/6.2 openmpi/2.0.2p2_hpcx-nag62       : <under construction>
= <<STEP 6a: TEST COMPILATION on SuperMUC @ LRZ>>:
  ( ./configure --enable-ICON --enable-CESM1 --enable-COSMO \
		--enable-I2CINC --enable-MESSYMMD --enable-GUESS \
		--enable-MESSYTENDENCY RUNMODE=PRODUCTION )
    - intel/17.0 mpi.ibm/1.4): OK, CCMI/R1EME-01 setup running
- <BASEMODELs>/Makefile.in: LD and LDFLAGS corrected
- config/mh-linux-64: update for mistral@ DKRZ ($SPEED added to SPEC_LIB
  to make it occur also for linking)

Changes by Mariano Mertens:
- DATA (COMSO): new switch l_solarcyc (=T, if solar cycle data from IMPORT_TS
  are available)
- COSMO (5.00_clm10: src_radiation.f90, 5.04e: radiation_utilities.f90):
  - update solar parameters every time step (in case of MESSY and l_solarcyc)
    to avoid restart frequency dependence due to update of solar "constant"
    in messy_main_data_bi:messy_global_start(2)

******************************************************************************

messy_d2.53.0.26 (14 Aug 2018)

Changes by Patrick Joeckel:
- IMPORT_GRID:
  - messy_main_import_grid_tools_bi.f90, rgtool_bi_read_ncfile_5d:
    - avoid non-needed allocates and data copies
= <<STEP 5: TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION
  -----------------------------------------------------------
  - openmpi/1.10.3/gfortran/4.9.4      PRODUCTION  OK
  - openmpi/1.10.3/g95-dint32/0.93     PRODUCTION  OK
  - openmpi/1.10.3/intel/16.0-2        PRODUCTION  OK
  - openmpi/1.10.3/gfortran/6.2.0      PRODUCTION  OK
  - openmpi/3.1.1/gfortran/4.9.4       PRODUCTION  OK
- xmessy_mmd:
  - update for Hybbrid(MPI/OpenMP) parallelistion on mistral
  - MSH_MEASURE completely revised (for valgrind, ddt, map etc. usage)
= <<STEP 4: MEMORY LEAK DETECTION, NML_SETUP=CCMI/R1EME-01 on pa2 @ DLR>>:
	    (with openmpi/3.1.1/gfortran/4.9.4, valgrind/3.13.0)
- MPI (mo_mpi.f90):
  - b_bcast_real_sp_*: p_real_sp instead of p_real in MPI-call
- NCREGRID:
  - messy_ncregrid_netcdf.f90:
    - several INTENT(OUT) replaced by INTENT(INOUT) to avoid memory leaks
     (thanks to Astrid Kerkweg)
  - messy_ncregrid_base.f90:
    - index renamed to idx (in qsort-subroutines), since indesx is fortran
      intrinsic
- TRACER:
  - messy_main_tracer_bi.f90, TRACER_INIT (2x): RGT deallocated/nullified
- TRACER_FAMILY:
  - messy_main_tracer_family.f90: allocate IS_TRACER only once
- JVAL, JVST, SCAV:
  - improved free_memory
- GRID:
  - messy_main_grid_netcdf_bi.f90:
    - p_bcast_narray: bug-fix in dimensioning
    - p_bcast_ncvar: additional init at beginning
  - messy_main_grid.f90:
    - init_geohybgrid: additional inits
    - copy_geohybgrid: additional copies
  - messy_main_grid_bi.f90:
    - p_bcast_grid: missing components added
  - messy_main_grid_netcdf.f90:
    - maxfrac2idx_ncvar: memory leaks fixed
    - several INTENT(OUT) replaced by INTENT(INOUT) to avoid memory leaks
      (thanks to Astrid Kerkweg)
  - messy_main_grid_tools_bi.f90:
    - rgtool_bi_read_ncvar_5d, rgtool_bi_read_ncfile_5d: bug-fix
      (corrected grid)
- IMPORT_GRID:
  - messy_main_import_grid.f90:
    - construct_igridmask: memory leaks fixed
    - parse_str: sl3 deallocated/nullified
- TIMER:
  - messy_main_timer.f90, timer_dealloc_clock: 3 additional deallocates
- config/mh-linux-64: update for supermuc @ LRZ (guess, OpenMP)
- SCACL:
  - bug-fix (thanks to Astrid Kerkweg): copy of %when component added
- CVTRANS:
  - pointers NULLIFied
- H2O:
  - new subroutine h2o_free_memory
- O3ORIG:
  - NULLIFY pointers in o3orig_free_memory
- SATSIMS:
  - pointer isccp_cldtypes NULLIFied
- CONTRAIL:
  - SMCL: pointers NULLIFied
= <<STEP 3: TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION RESTART_IDENTITY
  ----------------------------------------------------------------------------
  - gnu openmpi/1.10.3/gfortran/4.9.4  PRODUCTION  OK         OK
  - g95 openmpi/1.10.3/g95-dint32/0.93 PRODUCTION  OK         OK
  - int openmpi/1.10.3/intel/16.0-2    PRODUCTION  OK         OK
  - g62 openmpi/1.10.3/gfortran/6.2.0  PRODUCTION  OK         OK
= <<STEP 2: CORRECTING RUN-TIME ERRORS>>
  [CMIP6-AMIP.bat, NML_SETUP=CMIP6/DECK/piControl-37]:
  - RAD (messy_rad_si.f90): correction of treatment of #const aerosol; the
    usage of names in the CASE constructs has been conceptionally wrong,
    since it lead to segmentationfaults if object names are different; this has
    now been replaced by using indices in the CASE constructs, which
    allow for a free choice of object names; in addition the obsolete
    differntiation between ECHAM5 and CESM1 has been removed and the
    units attribute with contentes 'mol/mol' is NOT longer added to the
    aerosol optical properties
  - CLOUD (messy_cloud_lohmann10.f90): bug-fix in array dimensions of
    vervel_ls and vervel_tke (1:kproma)
  - A2O (messy_a2o_si.f90):
    - moved MPI communication out of openMP directive
    - openMP directives encapsulated in #ifdef _MESSY_OMP ... #endif
  - AIRTRAF (messy_airtraf_tools_ga.f90):
    - syntax correction (spaces around stop statements) [gfortran on mistral]
  - CLOUD (messy_cloud_si.f90): bug-fix (segmentation fault) in case if GMXE
    without UAF
= <<STEP 1: CONFIGURATION and COMPILATION>>
  - config/mh-linux-64:
    - LIBCXX for g95 @ pa2 - DLR
    - F90OMPLIB set correctly for OpenMP enabled compilation (Intel,
      pa2 @ DLR and mistral @ DKRZ)
  - EDITH (SMCL): bug-fix in dimensioning of tx
  - KP4 (create_kpp_module.C): update/correction
    (according to Theodoros Christoudias)

Changes by Patrick Joeckel:
- configure option --disable-MESSYTIMER removed:
  - all pre-processor directives (#ifdef MESSY ... #endif) removed
  - all alternative branches (#ifndef MESSYTIMER or #else) removed
  - all #if(n)def MESSYTIMER replaced by #if(n)def MESSY
  - modified files:
    - Makefiles:
	./cesm1_2_1_c/Makefile.in
	./cesm1_2_1/Makefile.in
	./cosmo_131108_5.00_clm10/Makefile.in
	./cosmo_170323_5.04e/Makefile.in
	./echam5.3.02_c/Makefile.in
	./echam5.3.02/Makefile.in
	mbm/blank/main.mk
	mbm/clams/main.mk
	mbm/cmat/main.mk
	mbm/dissoc_3d/main.mk
	mbm/gwave/main.mk
	mbm/mpiom/main.mk
	mbm/qbo/main.mk
	mbm/rad/main.mk
	mbm/spe/main.mk
	mbm/vertico/main.mk
	mbm/vglue/main.mk
    - MESSy BMIL:
	messy_main_channel_cdi.f90, messy_main_tracer_family_bi.f90,
	messy_main_qtimer_bi.f90, messy_main_import_grid_tools_bi.f90,
	messy_main_data_bi.f90, messy_main_bmluse_bi.f90,
	messy_main_tracer_pdef_bi.f90, messy_main_tracer_bi.f90,
	messy_main_rnd_bi.f90, messy_main_import_ts_bi.f90,
	messy_main_grid_bi.f90, messy_main_channel_bi.f90,
	messy_main_control_[icon,echam5,cesm1].inc,
	messy_main_channel_[echam5,cmat,cesm1].inc,
	messy_ncregrid_interface_cesm1.inc,
	messy_ncregrid_interface_e5.f90, messy_ncregrid_tools_e5.f90,
	messy_ncregrid_interface.f90, messy_ncregrid_tools_bi.f90,
	messy_ncregrid_tools_c1.f90
    - SMIL:
	messy_viso_si.f90, messy_veg_si.f90, messy_tropop_si.f90,
	messy_tpulse_si.f90, messy_tbudget_si.f90, messy_sorbit_si.f90,
	messy_scav_si.f90, messy_rad_si.f90, messy_qbo_si.f90,
	messy_orogw_si.f90, messy_oracle_si.f90, messy_o3orig_si.f90,
	messy_mtskip_si.f90, messy_mmd2way_parent_si.f90,
	messy_mecca_si.f90, messy_mecca_aero_si.f90, messy_made3_si.f90,
	messy_lnox_si.f90, messy_jval_si.f90, messy_ions_si.f90,
	messy_gmxe_si.f90, messy_e5vdiff_si.f90, messy_dradon_si.f90,
	messy_dissoc_si.f90, messy_cvtrans_si.f90, messy_contrail_si.f90,
	messy_cloud_si.f90, messy_chemglue_si.f90, messy_bioburn_si.f90,
	messy_aeropt_si.f90, messy_vertex_si.f90, messy_trsync_si.f90,
	messy_trexp_si.f90, messy_tnudge_si.f90, messy_surface_si.f90,
	messy_sedi_si.f90, messy_s4d_si.f90, messy_rad_fubrad_si.f90,
	messy_plumegas_si.f90, messy_orbit_si.f90, messy_onemis_si.f90,
	messy_nan_si.f90, messy_msbm_si.f90, messy_megan_si.f90,
	messy_mecca_khet_si.f90, messy_made_si.f90, messy_m7_si.f90,
	messy_jvst_si.f90, messy_isopcor_si.f90, messy_gwave_si.f90,
	messy_gec_si.f90, messy_e4chem_si.f90, messy_diumod_si.f90,
	messy_ddep_si.f90, messy_convect_si.f90, messy_cmat_vglue_si.f90,
	messy_cloudj_si.f90, messy_ch4_si.f90, messy_airsea_si.f90
    - SMIL (e5):
	messy_timepos_e5.f90, messy_spacenox_e5.f90, messy_rad4all_orbit_e5.f90,
	messy_rad4all_e5.f90, messy_photo_e5.f90, messy_onlem_e5.f90,
	messy_mmforce_e5.f90, messy_mecca1_e5.f90, messy_lgvflux_e5.f90,
	messy_lgtmix_e5.f90, messy_lghpm_e5.f90, messy_lgfmm_e5.f90,
	messy_hetchem_e5.f90, messy_hamocc_e5.f90, messy_h2o_e5.f90,
	messy_edith_e5.f90, messy_d14co_e5.f90, messy_cat_e5.f90,
	messy_cam_e5.f90, messy_attila_tools_e5.f90, messy_airtraf_e5.f90,
	messy_accf_e5.f90, messy_spe_e5.f90, messy_relax_e5.f90,
	messy_rad4all_fubrad_e5.f90, messy_psc_e5.f90, messy_otphysc_e5.f90,
	messy_mpiom_e5.f90, messy_mlocean_e5.f90, messy_mecca1_aero_e5.f90,
	messy_lgvdiff_e5.f90, messy_lgmc_e5.f90, messy_lgh2o_e5.f90,
	messy_lgcloud_e5.f90, messy_hd_e5.f90, messy_h2oiso_e5.f90,
	messy_fire_e5.f90, messy_drydep_e5.f90, messy_cmat_vglue_e5.f90,
	messy_cam_sfflux_e5.f90, messy_bufly_e5.f90, messy_attila_e5.f90,
	messy_advect_e5.f90, messy_a2o_e5.f90
    - MBMs:
      - caaba/mecca/tag/imtag_tag_si.f90
      - mecca1/vector/smil/messy_mecca1_vec_e5.f90
      - spe/smil/messy_spe_box.f90
    - CESM1:
      - SMIL: messy_h2o_c1.f90, messy_mlocean_c1.f90:
    - ICON:
      - icon-nwp-2.1.01/src/atm_dyn_iconam/mo_nh_stepping.f90:
      - autom4te.cache/output.0, config/mh-linux, configure, configure.ac,
	externals/messy/util/configure.ac.lrz,
	externals/messy/util/configure.lrz, externals/messy/util/Makefile.lrz
	Makefile-MESSy.in
  - ECHAM5 (2x):
    - stepon.f90, mo_time_control.f90, mo_io.f90
    - mo_time_control.f90: L_TRIGGER_RESTART without MESSYTIMER removed

Changes by Frauke Fritsch:
- SCALC: new DIV operator
- TREXP: allow unit 'unknown' in the same way as '<unspecified>' (for SCALC)

******************************************************************************

messy_d2.53.0.25 (27 Jul 2018)

Changes by Tamara Emmerichs:
- DDEP:
  - new &CTRL namelist parameter l_ganzeori (default: .TRUE.) to switch
    (if set .FALSE.) from old scheme (Wesely 1998) to one which considers
    the canopy wetness (Zhang 2002)
- VERTEX:
  - new &CTRL namelsit parameter irstom (default = 0) to switch between
    5 (0 - 4) different schemes to calculate the stomatal resistance

Changes by Astrid Kerkweg:
- config/mh-linux-64: update fior FUB
- COSMO:
  - src_radiation.f90 expanded for CO2, O3 coupling
-DATA / CONTROL (COSMO)
  - subroutine data_init_coupling and data_global_start second call after
    import_global_start added for coupling of tracers to and for overwriting tsi
    constant used in COSMO radiation (+ additional diagnostic fields, only
    included temporarily)
- xmessy_mmd:
  - MPMD mode implemented for aprun
- dwdlibgrib:  Makefile.m : export and case for LINUX64 added

Changes by Patrick Joeckel:
- KP4 (create_kpp_module.C): update/correction
  (according to Theodoros Christoudias)
- config/mh-linux-64, xmessy_mmd: revised for mistral @ DKRZ with additional
  compile / run-time environment based on intel with intelmpi

Changes by Roland Walz and Hella Garny and Matthias Nuetzel:
- RELAX:
  - idealised heating
  - updated equilibrium temperature
  - new namelist parameters
- TOOLS:
  - subroutine strcrack with optional parameter lempty that allows for
    (counting and assigning) empty strings

Changes by Patrick Joeckel:
- ECHAM5 (2x!):
  - hdiff.f90): modifications for EDITh restricted to
    #ifdef MESSY and IF (ledith), the latter USEd from DATA
  - mo_time_control.f90 (echam5.3.02, see below)
- MECCA:
  - new batch, rpl and diagtrac files for EDITh setups conistently renamed
  - new messy/mbm/caaba/mecca/rpl/include/EDITh-temp.rpl to replace
    temp_ion and temp_ec by temp; now included in all mim1-EDITh-*.rpl
    (instead of hard-wired modifications in gas.eqn)
  - process_gas.tbl: additional entries for EDITh (from Stefans gas.tex)
  - translated "switch on transport for O2 and N2" from gas.tex into
    tracer properties (see TPROP(.) in &CTRL namelists (tracer.nml)
    of EDITH and AIRGLOW namelist setups)
- RAD:
  - messy_rad.f90:
    - LW-"blending" from HAMMONIA and cut-off at 1.0 Pa limited to ledith
      (passed from DATA as new formal parameter of rad_radheat_smcl)
- MSBM (SMIL):
  - limit PSC region to below 1.0 Pa only for ledith (from DATA)
- DATA (ECHAM5): set parameter ledith for ionosphere/thermosphere extension
  if uppermost half levels is < 0.1 Pa
- VERTEX (SMIL):
  - changes in E5VDIFF adapted
- E5VDIFF (SMIL):
  - limit inclusion of turbulent diffusion from hines scheme (channel object
    gweddy) to ledith setups (see messy_main_data_bi and below)
- GWAVE (messy_gwave_hines.f90):
  - local paramter ledith (is true if upper half levels is < 0.1 Pa);
    used instead of (papm1(1,1)
  - local variable diffco (which is now formal parameter) with INTEN(OUT)
    attribute (see below)
- CLOUD (messy_cloud_ori.f90):
  - module paramter ledith (is true if upper half levels is < 0.1 Pa);
    used instead of (papm1(1,1) to prevent mesospheric clouds
- CONVECT:
  - messy_convect_si.f90:
    - revised cut-off of zpt only for ledith
- dau-ngrade.tcsh: updated
- EDITH:
  - vmr_to_nd and nd_to_vmr USEd from TOOLS
  - illegal USEs to E5VDIFF replaced by USE of messy_main_constants_mem
  - SMIL:
    - USE of ldc from mo_decomposition removed and replaced
    - illegal USEs of basemodel modules (mo_memory_g1a, _g2a) replaced
- TOOLS (SMCL):
  - subroutines vmr_to_nd and nd_to_vmr added
- MESOENERGY:
  - USE of (obsolete) messy_ncregrid_tools_bi, RGTEVENTS removed
    (since not used anyway)
  - subroutines vmr_to_nd and nd_to_vmr moved to TOOLS (SMCL)
    to share between different submodels

Changes by Stefan Versick:
- ECHAM5:
  - hdiff.f90: modifications for EDITh
  - mo_time_control.f90: pre-settings of deltat_time for T*L74MA,L84MA,L94MA
- MECCA:
  - new batch, rpl and diagtrac files for EDITh setups
  - gas.spc: new species for EDITh
- RAD:
  - messy_rad.f90:
    - LW-"blending" from HAMMONIA
    - cut-off at 1.0 Pa
  - messy_rad_long.f90: hack to avoid out of bounds
  - messy_rad_si.f90: limit lookupoverflow detection only to p >= 1Pa
- MSBM (SMIL):
  - limit PSC region to below 1.0 Pa
- E5VDIFF (SMIL):
  - include turbulent diffusion from hines scheme (channel object gweddy)
- GWAVE:
  - messy_gwave_hines.f90:
    - icutoff and alt_cutoff are now &CTRL_HINES namelist parameters
    - alternative calculation of visc_mol for ionsophere/thermosphere
      extension
    - diffco limited
    - additional formal parameter diffco (subroutine gwspectrum)
  - messy_gwave_si.f90: new channel object gweddy (for options 1 (Hines)
    and 5)
- CLOUDOPT (SMCL, subroutine cloud_set_param):
  - zinpa and zinhomi settings for T42L74MA, T42L84MA, T42L94MA
- CLOUD (messy_cloud_cover.f90, messy_cloud_ori.f90):
  - limit lookupoverflow detection only to p >= 1Pa
  - messy_cloud_ori.f90:
    - prevent mesospheric clouds
    - limit lookupoverflow detection only to p >= 1Pa
    - subroutine sucloud_1: cauloc settings for T*L74MA, T*L84MA and T*L94MA
  - messy_cloud_si.f90, subroutine cloud_radiation:
    - limit lookupoverflow detection only to p >= 1Pa
- CONVECT:
  - messy_convect.f90, messy_convect_tiedtke.f90:
    - limit lookupoverflow detection only to p >= 1Pa
  - messy_convect_tiedtke_param.f90, subroutine cuparam_init:
    - cmfctop and cprcon settings for T*L74MA, T*L84MA and T*L94MA
  - messy_convect_si.f90:
    - limit lookupoverflow detection only to p >= 1Pa
    - revised cut-off of zpt
- SPE: update with new possibility to use positive ions
- config/mh-linux-64: updates for KIT
- MESOENERGY: new submodel (airglow and chemical heating)
- EDITH: new submodel (Extended Dynamics In the THermosphere)

Changes by Patrick Joeckel:
- all ECHAM5*nml: obsolete namelists removed and comments corrected

Changes by Rolf Sander and Jens-Uwe Grooss:
- DISSOC: update of SMCL file

Changes by Patrick Joeckel:
- MBM random reactivated and repaired
- GRID_TRAFO (messy_main_grid_trafo.f90): updates for grid expansion
- AVEOUT (SMIL):
  - bug-fix: ALLOCATABLE attribute is NOT allowed for namelist variables
  - SAVE attribute added
- dau-ngrade.tcsh: update

Changes by Astrid Kerkweg:
- TIMER: new features
	 - set YEAR, MONTH, ... also for lresume in initialize
	 - set YEAR_NEXT, MONTH_NEXT, ... already in initialize
- AVEOUT: new submodel to average channel objects based on regularly spaced
  subsets of time-steps (e.g. monthly averages based on 6-hourly steps)
- COSMO5.4e:
  - workaround for namelist reads for compilers not supporting IOMSG
  - some bugfixes for official COSMO code (DLR cluster compiler)
- CLAMSSEDI: bugfix (conversion of REAL to integers)

Christiane Hofmann:
- INT2LM: extensions for MESSYTWOWAY / MESOTEL

Changes by Patrick Joeckel:
- MEGAN (SMIL): bug-fix (corrected index)
- MONSOON: submodel removed

******************************************************************************

messy_d2.53.0.24 (4 Jul 2018)

Changes by Rolf Sander:
- new subdirectory messy/util/latex
- messy/util/validate: check for dead links added
- CAABA, MECCA, DISSOC: updates (see messy/mbm/caaba/CHANGELOG)
- messy_chemglue_si.f90: messyfied with get_tracer
- messy/util/mmg: *.tbl added (for chemprop)
- Makefile.in: bugfixes for gmake TAGS:
  - option "-a" also needed for first line:
    find . -name "*.f90" -type f | xargs etags -a -l fortran ;\
  - ctags option is --language, not --languages

CHANGES by Jens-Uwe Grooß and Rolf Sander:
- DISSOC, JVAL, JVST, CLOUDJ, messy_cmn_photol_mem.f90:
  ip_BrONO2 deleted

Changes by Patrick Joeckel:
- WARNINGS updated
- CLOUD (all *cloud*nml): &CTRL_L10 and &CTRL_K14 added for all
  cloud_param > 1

Changes by Markus Kunze:
- MBM/rad: updates
- MPIOM: additional channel object for output of stability
- CONVECT (messy_convect_tiedtke_param.f90): additional log output
- CHANNEL (SMCL): NMAXADDREF = 900 (instead of 800)

Changes by Patrick Joeckel:
- CLAMS (messy_clamstraj_si.f90, messy_clams_si.f90, messy_clamsbmix_si.f90):
  - daun-grade directives for distro without CLAMSCHEM

Changes by Mattia Righi:
- MADE3 (SMIL): bug-fix, 2 string lengths correceted

******************************************************************************
messy_d2.53.0.23 (27 Jun 2018)

Changes by Mattia Righi:
- CLOUD:
  - Kuebbeler14: update and bug-fixes with additional CTRL_K14 namelist
    - calculation of soluble aerosol number concentration using
      explicit indices instead of conditional loop overal all modes
    - bug-fix: correct for inconsistencies in phase and temperature (from ETH)
  - Lohman10:
    - modification with additional CTRL_L10 namelist
      (also limm_bn09 moved from CTRL to CTRL_L10)
    - bug-fix (use mass mixing ratio instead of volume mixing ratio as
      input for subroutine cloud_droplet_arg)
    - calculation of soluble aerosol number concentration using
      explicit indices instead of conditional loop overal all modes
- SCAV (messy_scav_inter.f90): update of MADE3 coupling

Changes by Hiroshi Yamashita and Patrick Joeckel:
- ACCF: illegal USE of mo_time_control in SMIL corrected

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: updated

Changes by Feijia Yin and Volker Grewe:
- ACCF: new submodel for Algorithmic Climate Change Function calculation

Changes by Hiroshi Yamashita:
- messy_main_tools_ga* renamed to messy_airtraf_tools_ga*
- AIRTRAF: update (version 2.0)
  - new rouing options
  - coupling with CONTRAIL and ACCF

Changes by Patrick Joeckel:
- messy/util/init_restart: bug-fixes (echo replaced by find, rerun* only for
  1st instance)
- CVTRANS: l_calc_trma = .FALSE. as default

Changes by Holger Tost:
- CVTRANS: update for transport matrix calculation; new &CTRL namelist
  parameter l_calc_trma

Changes by Patrick Joeckel:
- WARNINGS updated
- CLAMSTRACER (SMIL): SAVE attribute added
- CLAMS (SMIL)
  - global SAVE attribute
  - new main enty points clams_local_start and clams_local_end for
    saving diabatic heating rates, if coupled to EMAC
- MONSOON (SMIL):
  - restricted to #ifdef ECHAM5, because it does not compile
    for other basemodels
  - SAVE attribute added

Changes by Nicole Thomas and the CLaMS team:
- xmessy_mmd: variable INSTANCE[.] renamed to MINSTANCE[.] (to avoid conflict
  with with environemnt variable INSTANCE=GNOME)
- config/mh-linux-64: updates for IEK workstations
- CHANNEL
  - messy_main_channel_bi.f90: REPR_LEVARR_CLAMS, REPR_3DINP_CLAMS2 and
    REPR_2D_CLAMSTEST removed
  - messy_main_channel.f90, subroutinbe set_channel_output:
    set channel%int%lsuppr_out and channel%int%lforce_out
  - (BMIL) messy_main_channel_clams.inc: update
- CLAMSTRACER: new submodel
- CLAMS:
  - new entry points clams_init_coupling and clams_global_end
  - (CONTROL) messy_write_output and messy_write_restart
  - further updates
- CLAMSBMIX, CLAMSCHEM, CLAMSCIRRUS, CLAMSMIX, CLAMSSEDI, CLAMSTRAJ:
  - updates
- MONSOON: new submodel
- DISSOC, MBM DISSOC_3D (SMIL): allocate albedo_2d, if rad is off

Changes by Andrea Pozzer:
- AIRSEA (SMIL): bug-fix (fullname instead of basename)

Changes by Christoph Bruehl and Francois Benduhn:
- SEDI (now version 2.5):
  - see http://dx.doi.org/10.1002/jgrd.50622
  - 5 additional sedimentation schemes implemented, selectable with
    new CTRL namelist parameter scheme (default: 1 = standard trapezoid scheme)

******************************************************************************

messy_d2.53.0.22 (5 Jun 2018)

Changes by Patrick Joeckel:
- DISSOC (messy_dissoc.f90):
  - fixes (w.r.t. floating point precision) according to gfortran
- DATA (COSMO): xvar, xskew (for modifications in CONVECT, see below)

Changes by Holger Tost:
- MBM gmxe: update

Changes by Jasper Denissen:
- ECHAM5 (2x), mo_memory_g3b.f90: long_names of xvar and xskew corrected
- CLOUD (messy_cloud_cover.f90, messy_cloud_lohmann07.f90,
	 messy_cloud_lohmann10.f90, messy_cloud_ori.f90);
  CONVECT (messy_convect.f90, messy_convect_mem.f90, messy_convect_si.f90);
- H2OISO (messy_h2oiso_cloud.f90):
  - Implemented in the original code was
      i) an incorrectly calculated
     ii) proxy (distribution width (b-a)) for
    iii) the standard deviation of the total water amount.
    In the updated code we
      i) made sure the variable is calculated correctly, regardless of cloud
	 cover scheme,
     ii) actually calculate the standard deviation of moisture instead of the
	 distribution width (b-a), and
    iii) changed the variable description from variance to standard deviation
	 of moisture.
    Furthermore, we implied a novel parametrization, which calculates
    the cloud-core area fraction independent from mass flux calculations
    based on a moisture function (Sikma and Ouwersloot, 2015).

Changes by Patrick Joeckel:
- MBMs dissoc, dissoc_3d and MESSy SMIL & SMCL: clean up of symbolic links
- MBM dissoc:
  - README updated
  - main.mk: missing target install added
  - Makefile.m (for gmake mbm)
- MBM dissoc0 renamed to dissoc
- MBM dissoc renamed to dissoc_3d

Changes by Rolf Sander:
- CAABA/MECCA: updates, see messy/mbm/caaba/CHANGELOG
- zip.sh: several files added for CAABA that have been skipped so far
- mbm/dissoc0: another simple column model for DISSOC. Compared to
  mbm/dissoc, the implementation is much simpler, i.e., better to
  understand but using less of the MESSy infrastructure.
- new subdirectory messy/util/latex

Changes by Patrick Joeckel:
- CLOUD (messy_cloud_ice_bn09.f90): use isnan from TOOLS in case of
  Lahey/Fujitsu compiler
- TOOLS: new function isnan as workaround for Lahey/Fujitsu compiler
- config/mh-linux-64: MPICXX, MPICXXFLAGS and LIBCXX settings for
  lx* @ DLR, pa2 @ DLR, mistral @ DKRZ
- configure.in (configure), Makefile.in: modified LIBSRCS directory for GUESS
- VEG/GUESS:
  - libsrc/guess/build/Makefile.m for compilation without cmake
- dau-ngrade.tcsh: update for new submodels CAT, VEG, NAN, IONS
- configure/make: CXY renamed to standard conform MPICXX
- VEG:
  - filenames and modules renamed from vegetation to veg
    (according to MESSy naming convention)
  - p_pe used from MPI instead of DATA
  - preprocessor directive for only ECHAM5, COSMO, BLANK
- GMXE: SMIL module renamed from messy_gmxe_e5 to messy_gmxe_si
  (file was already named correctly)

Changes by Holger Tost (and colleagues):
- CAT:
  - new submodel (for ECHAM5 only)
  - calculation of turbulence index and optional tracer mixing by small
    scale turbulence
- VEG:
  - new submodel with interface to the LPJ-GUESS library
  - library for LPj-GUESS included in libsrc (libsrc/guess)
- TOOLS:
  - new subroutine IDXSORT_DP (merge sort)
- DATA (ECHAM5):
  - new pointers and channel objects tpoteq_3d and tpoteq2_3d
- CONTROL (COSMO):
  - call of GMXE main entry points
- changes in GMXE:
  - updates for COSMO
  - updates for ORACLE
  - internal updates and bugfixes
- changes in CLOUD: bugfixes
- MPI
  - p_isend, p_irecv, p_wait USEd through
- ECHAM5 (2x)
  - Makefile.in: preprocessor directive for GUESS
- init_restart: handling of GUESS restart files
- configure.in (configure):
  - new option --enable-GUESS (default: false)
  - preprocessr directive for GUESS
  - MPICXX compiler and flags
- config/mh-linux-64:
  - options for MOGON I / II
- xmessy_mmd:
  - options for MOGON I / II
  - special handling of GUESS setup and restart files

Changes by Sara Bacer:
- CLOUD:
  - implementation of Barahona et al. (2009) new icnc formation
  - new file messy_cloud_ice_bn09.f90
- GMXE:
  - coupling with ORACLE

Changes by Vlassis Karydis:
- CLOUD:
  - implemented "unified dust activation framework"
    (UAF : https://doi.org/10.5194/acp-17-5601-2017)
  -new files messy_cloud_droplet_uaf.f90, messy_cloud_parameters_uaf.inc

Changes by Vinod Kumar:
- SORBIT: new CPL-namelist parameter deltat_scale for relaxing the
  local time condition (default: 1.0)

Changes by Patrick Joeckel:
- COSMO (CONTROL and src_tracer.f90): optional parameter l_calcadv of
  subroutine messy_beforeadv made mandatory
- DRADON: decay constant(s) as static scalar channel objects for output
  and coupling

Changes by Andrea Pozzer:
- config/mh-linux-64
  - added new system cobra @ MPCDF (Garching, DE)
- xmessy_mmd
  - added new system cobra @ MPCDF (Garching, DE)
- MEGAN: modified to account for lumped species emissions
- nml/MOM  modified to account for heavy VOC not included in MOM
  but present in ORACLE
- mecca/rpl/MOM3d.rpl added missing ORACLE species

Changes by Rolf Sander:
- TRACER/CHEMPROP: updated messy_main_tracer_chemprop.tbl and
  added test for duplicates in xchemprop

Changes by Patrick Joeckel:
- nml/EXAMPLES/switch.nml updated
- dau-ngrade.tcsh updated
- IONS:
  - SMIL:
    - USE of time_step_len corrected
    - unused USE of t_scb removed
    - unallowed redundant save-statements removed
    - indirect index of philon/ilon philat/ilat replaced by philon_2d, philat_2d
    - some substr corrected
-NAN:
  - MBM: executable renamed to nan.exe (according to standard)
  - SMIL:
    - missing pointer xtp1_0 (for MESSYTENDENCY) declared
    - nan_driver_si: missing USE of p_parallel_io added
    - standard conform entry point nan_radiation with parameter 1 or 2 to
      call nan_radiation_b4 and nan_radiation_after, respectively

Changes by Sebastian Erhardt:
 - GEC: new features, expanded CTRL and CPL namelists
 - MBM NUCLEATION replaced by new MBM nan
 - IONS: new submodel (ionisation in the atmosphere)
 - NAN: new submodel (new aerosol nucleation)

Changes by Matthias Nuetzel and Patrick Joeckel:
- S4D: added attributes missing_value and _FillValue to all channel objects

Changes by Astrid Kerkweg:
- GRID_TRAFO (messy_main_grid_trafo.f90): bug-fix for non-overlapping grids

******************************************************************************

messy_d2.53.0.21 (2 May 2018)

Changes by Patrick Joeckel:
- SF6:
  - SMCL subroutine rnelec Fortan95 conform
  - SMCL US(E)age of messy_main_timer DAYOFYER moved to SMIL
- MBMs BLANK, QBO, DISSOC : (heavily based on BLANK) updated accordingly
- SWITCH, CONTROL, BLANK, CHANNEL, DATA:
  - preprocessor logic for sharing between different
    BLANK-based MBMs
- BLANK:
  - hard-wired redundancy between DATA and CHANNEL (inc) removed:
    - new file bml/messy_mbm_blank_bl.f90 with basemodel information,
      e.g. grid (latitude, longitude, level) and setup and finalize routines
    - bml/blank_main.f90: calls to new routines to setup/finalize mbm
    - DATA (BLANK): use grid information from mbm (i.e., from new file)
    - CHANNEL (messy_main_channel_blank.ink): use grid infor from mbm (i.e.,
      from new file)
- ECHAM5 (2x), NUDGING:
  - mo_nudging_init.f90, mo_nudging_io.f90: bug-fix (INT replaced by NINT to
    avoid rounding errors in date / time conversion) to allow for hourly
    nudging input
  - mo_nudging_sst.f90: log-ouput commented out
- CONTROL (all basemodels and MBMs):
  - CALL main_channel_init_coupling: added flag=2
  - CALL main_channel_init_coupling(1) added BEFORE calls to <SM>_init_coupling
- CHANNEL:
  - SMCL: new subroutine modify_attributes to apply ADD_ATT from CTRL namelist
  - BMIL: main_channel_init_coupling with parameter flag to be called twice
	  from CONTROL
- ECHAM5 (5.3.02, 5.3.02_c), NUDGING:
  - mo_nudging_init.f90, subroutine NudgingInit:
    - finish with error message, if nudging data file (netcdf) contains less
      than 2 time steps
  - mo_nudging_io.f90: finish with error message, if (netcdf) nudging file,
    which just has been closed, is opened again (without that fix, the model
    enters an endless loop, if the nudging data file is incomplete)
- CAABA/MECCA (messy_mecca_box.f90): dau-ngrade directives for radjimt
  re-introduced
- dau-ngrade.tcsh: update

******************************************************************************

messy_d2.53.0.20 (28 Mar 2018)

Changes by Patrick Joeckel:
-CHANNEL:
  - new CTRL namelist entry ADD_ATT to add/overwrite channel / object attributes
- configure(.in), Makefile.in:
  - save module list at configure and compile time, if module environment
    is available
  - autodetect compile-time environemnt (ENVOPT = openmpi vs. bullxmpi_mlx)
    on mistral @ DLRZ
- xmessy_mmd:
  - save module list at run-time if module environment is available
  - autodetect run-time environemnt (ENVOPT = openmpi vs. bullxmpi_mlx)
    on mistral @ DLRZ
- CFU: executable renamed to cfu.exe according to standard
- HYMACS, BOTTDC:
  - missing SAVE statements added to SMIL file
- Makefile.in: add IOMSG_NOT_AVAIL to F90DEFS0I2C for specific compilers
  (required for int2lm_170406_2.04a[_mod])
- COSMO (131108_5.00_clm10):
  - Makefile.in: set preprocessor directive IOMSG_NOT_AVAIL for specific
    compilers
  - dfi_initialization.f90, src_artifdata.f90, src_setup.f90,
    organize_assimilation.f90, organize_data.f90, organize_diagnosis.f90,
    organize_dynamics.f90, organize_eps.f90, organize_physics.f90,
    organize_satellites.f90:
    preprocessor directive IOMSG_NOT_AVAIL

Changes by Theo Christoudias:
- MEDINA:
  - messy/util/medina subdirectory with source code and instructions to run
    MECCA / KPP on GPUs

Changes by Patrick Joeckel:
- TRACER_CHEMPROP, MECCA:
  - messy/mbm/tracer/chemprop and messy/mbm/caaba/mecca/latex:
    links to files in messy/util/latex
- new subdirectory messy/util/latex with
  chem.sty, citefind.awk, citetags.awk, egu.bst from MECCA latex

Changes by Astrid Kerkweg:
- dau-ngrade.tcsh:
  - new option -ksp2 (to keep a set of sumbodels for COSMO starter package)
  - some improvements
- CHANNEL:
  - messy_main_channel_bi.f90, subroutine channel_readdistrib_ICON_data
    adapted to lreduceio option of dummy dimension
- messy/util/cclm_subchain: subdirectory containing the subchain scripts from
  CCLM community
- configure.in  CCLM added (sets "CCLMORI" and "CLM", enables COSMO
- MMD: add free memory routines
- cosmo_170323_5.04e added
- int2lm_161111_2.03_beta2 and int2lm_170406_2.04a_mod added
- cosmo_131108_5.00_clm7 updated to cosmo_131108_5.00_clm9:
  data_parameters.f90, /dfi_initialization.f90, environment.f90, lmorg.f90
  netcdf_io.f90, organize_assimilation.f90, organize_data.f90
  organize_diagnosis.f90, organize_dynamics.f90, organize_eps.f90
  organize_physics.f90, organize_satellites.f90, src_artifdata.f90
  src_meanvalues.f90, src_obs_rad.f90, src_output.f90 src_setup.f90
  src_soil_multlay.f90
- adaption to CCLM StarterPackage added + bugfix preprocessor directives
   MESSYTRAC / MESSYTRACP
  fast_waves_rk.f90, hori_diffusion.f90, io_utilities.f90 lmorg.f90
  near_surface.f90, organize_data.f90, organize_physics.f90,src_advection_rk.f90
  organize_satellites.f90, src_conv_shallow.f90, src_conv_tiedtke.f90
  src_diagbudget.f90, src_flake.f90, src_gridpoints.f90, src_gscp.f90
  src_input.f90, src_integrals.f90, src_lheat_nudge.f90, src_meanvalues.f90
  src_mult_local.f90, src_output.f90, src_radiation.f90, src_relaxation.f90
  src_runge_kutta.f90, src_setup.f90, src_slow_tendencies_rk.f90, src_soil.f90
  src_soil_multlay.f90, src_turbulence.f90, turbulence_interface.f90
  - pre processor directive CCLMORI added:
    cosmo/Makefile.in, numeric_utilities_rk.f90, src_advection_rk.f90,
    src_gscp.f90, src_radiation.f90, src_slow_tendencies_rk.f90, src_tracer.f90
  - for MESSY && CLM: avoid nevative precipitation in src_gscp.f90: MAX
    statements added.
  - src_setup.f90: change in TIMER stettings according to 10 or 14 digit dates
  - cosmo/Makefile.in: CLM directive added
- cosmo_131108_5.00_clm9/Makefile.in: enable compilation of IFS code
- Makefile.in: options for CCLMSP added as comments
- CHANNEL:
  - block memory for COSMO added
    - routines messy_channel_alloc_block, messy_channel_dealloc_block,
      messy_channel_register_block_fields, messy_channel_register_copy added
  - CHANNEL_BI:
    - DIMID_ILEVp1 added
    - accu ptr-arrays deleted
  - channel_cosmo_inc / messy_main_channel_int2cosmo.inc:
     new fields for COSMO_5.4e added
 - CONTROL / SWITCH: submodel BOTTDC and empty shell for submodel HYMACS
   added
 - DATA: adapted to COSMOv5s4
 - GRID_BI: bugfix, filename creation of COSMO file
 - QTIMER: measure tool added
 - TIMER_BI: bugfix for last timestep in COSMO model:
   routine timer_COSMO_resetfinalstop added
 - TRACER:
   - block memory added
   - "processes" : blockmem, sedim and spptpert added to be consistent with
     COSMO tracer handling
- MMD2WAY:
  - adaption to new INT2LM versions
  - call to qtimer measure routines added
- NML: namelist directories  COSMOv5s4_EVAL and COSMOv5s4 added
- mess/util/zipcclmsp.sh makefile zip option for CCLM StarterPackage added

Changes by Patrick Joeckel:
- CHANNEL:
  - ICON (messy_main_channel_icon.inc):
    - dummy dimension 'one' with lreduceio=.TRUE.
    - main_channel_icon_attributes: avoid self-references of clon and clat
  - messy_main_channel_dimensions.f90: new, optional switch lreduceio to
    suppress I/O of dummy-dimensions with length 1
  - messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90:
    - suppress I/O of dimensions with lreduceio=.TRUE.
- IMPORT_GRID (messy_main_import_grid_bi.f90): lower_case replaced by lcase
- TOOLS: lower_case renamed to lcase (to be consistent with ucase)
- TRACER
  - messy_main_tracer_bi.f90: lower_case replaced by lcase
  - (ICON): subroutine map_tracer_meta_m2i: itype_v/hlimit set
- DATA (ICON): clon/clat_vertices renamed to vlon and vlat

Changes by Markus Kunze:
- DATA (ECHAM5), messy_main_data_bi.f90:
  - changed representation for vdiff variables cfh, cfm, ebsh back to GP_3D_INT

******************************************************************************

messy_d2.53.0.19 (16 Mar 2018)

Changes by Patrick Joeckel:
- SF6: bug fixes: SAVE attribute added, loop counter converted to INTEGER
- messy/util/xusediagram_all.tcsh: modified with automatic loop over all
  submodels and gs instead of pdftk (which is not available everywhere)
- JVST: updates of JVAL included (see below)

Changes by Frauke Fritsch:
- CONTROL(ECHAM5):
  - calls to trexp_init_coupling and scalc_init_coupling moved in order to
    make new scalc objects available for trexp
- SF6: new submodel
- TPULSE: new submodel

Changes by Rolf Sander:
- CHEMGLUE: upadate
- TRACER_CHEMPROP: update of species and properties
- messy/tools/strato3bud: function k_3rd added
- CAABA, MECCA: update (see messy/mbm/caaba/CHANGELOG)
- KPP: update
- JVAL, JVPP:
  - update (see messy/mbm/jval/CHANGELOG); new photolyis rates for HO2, ClO
- messy_cmn_photol_mem.f90: new photolysis reactions added (HO2, ClO)
- messy/util/xusediagram.tcsh: add MECCA002, MECCA003 etc. from Polymecca
- Makefile.in: new target depend added

Changes by Andrea Pozzer:
- xmessy_mmd: new setup for GAIA @ RZG
- config/mh-linux-64: setup for GAIA @ RZG
- ORACLE: update and bug-fixes

Changes by Sara Bacer:
- CLOUD (messy_cloud_kuebbeler14.f90): bug-fix (correct scaling for units)

Changes by Klaus Klingmueller:
- RAD: constant values (in rad.nml) for aerosol optical properties now possible
- AEROPT now able to calculate diagnostic LW (for comparison with IASI at 10 um)

Changes by Sergey Gromov:
- messy_cmn_aqattr.f90: MAXSIZE increased to 1000
- messy_cmn_gasaq.f90: MAXSIZE increased to 1000

Changes by Andrea Pozzer, Klaus Klingmueller, Meryem Tanarhte, Sara Bacer:
- ONEMIS:
  - new dust emission routine "KKDU"
  - dust emissions composition added in Astitha schemes
  - new namelist for simulation with bioaerosol emissions (BIO)
  - Added "BIOL" aerosol emissions in onemis (new input files based on MODIS)

******************************************************************************

messy_d2.53.0.18 (13 Mar 2018)

Changes by Patrick Joeckel:
- RNDTEST: temporary workaround: ALLOCATABLE NCELL is not allowed as namelist
  parameter; therefore with fixes dimension now
- TREXP: new special case (order = -2 -> CH4 + OH reaction coefficient:
  k(temp) = 1.85E-20 * exp(2.82*log(temp) - 987/temp)
- Makefile.in: new target "dist" for tools, mbm, and basemodels
- DATA (CESM1): new channel object cfm (see below) for E5VDIFF

Changes by Astrid Kerkweg:
- ICON (for restarts):
  - icon/src/drivers/mo_atmo_nonhydrastatic.f90: additional call of
    read_restart to read objects made in init_coupling
- CHANNEL (ICON):
  - read_restart:
    - logical lisread added to fill object%..%lrestart_read in
      channel_read_data loop in MODE_DISTRIBUTE
    - channel_read_data outputs additionally channel name for ICON
    - readdist:
      - 0D, 1D for DC_BC read implemented,
      - 2D read for DC_AG     implemented,
- BMLUSE (ICON): USEs for ICON read subroutines added
- CONTROL (ICON):
  - bugfix, call main_channel_read_restart only once (not patchwise)
- RNDTEST:
  - new submodel to aquire random numbers for testing RND
    (implemented in ECHAM and ICON sofar)
- MPI: subroutine messy_mpi_initialize renamed to messy_mpi_setup
- RND: implemented in ICON
- QTIMER: implemented in ICON
- TIMER:  bugfix for output with unit 'steps'
- TRANSFORM: get_dc_domain moved to bottom, access for all base models
- SWITCH: QTIMER / RND / RNDTEST added for ICON

Changes by Markus Kunze:
- DATA (ECHAM5), messy_main_data_bi.f90:
  - changed representation for vdiff variables to GP_3D_MID. zcfh, zebsh are
    originlly declared as zcfh(kbdim,klev), zebsh(kbdim,klev) in vdiff.f90.
  - added 3D-pointer cfm to have an output channel for eddy viscosity
    (calculated in E5VDIFF, VERTEX).
- E5VDIFF (messy_e5vdiff_si.f90):
  - changed local 3D-array zcfm to pointer. zcfm points to cfm from
    messy_main_data_bi.f90.
- VERTEX (messy_vertex_si.f90):
  - changed local 3D-array zcfm to pointer. zcfm points to cfm from
    messy_main_data_bi.f90.

Changes by Thomas Jahns (DKRZ):
- config/mh-linux-64: new environment for NAG-compiler on mistral @ DKRZ
- libsrc/ifs/sucumf.F90: bug-fix (order of declarations)
- messy/smcl/Makefile.m: improved line breaks for compiler info in
  messy_main_compilerinfo_mem.f90
- AIRTRAF (messy_airtraf_gc.f90):
  - bug-fixes in format specifier (x->1x)
  - correct initialisation of ac_mass (REAL(DP) instead of INTEGER)

Changes by Rolf Sander:
- Makefile(.in): new target "depend" to create/update dependency files

Changes by Patrick Joeckel:
- TRACER (BMIL ICON):
  - tracer integration for ICON (tracer tendencies from ICON are added
    to tracers)
- CONTROL (ICON): calls to main_tracer_set_patch added
- DATA (ICON): new (static) grid objects clon_vertices, clat_vertices
- VISO:
  - messy_viso_si.f90: allow index fields without suffix '_i'
- TOOLS:
  - messy_main_tools.f90 (subroutine ind2val_1d):
    return FLAGGED_BAD, if index is out of bounds
- CHANNEL:
  - BMIL (ICON):
    - main_channel_icon_attributes to automatically add grid
      atrributes to ICON variables
    - new representation UVERT_2D_SURFACE
  - new SMCL module parameter ldom (default: false) indicating basemodels
    (the paramater is set in channel_setup at BMIL),
    which are capable of internally nested domains (or grid refinements),
    such as ICON (true)
  - improved logic to check possible channel object references (as defined
    in the namelist) for ldom=.TRUE. models (subroutine fixate_channels)
  - channel location for "patch models" (ldom = .TRUE.) via optional
    parameter patch_id OR appended domain number "_Dxy" (via get_name_domain)
    OR current_patch (in this hierarchical order)
    - subroutines: new_channel, loc_channel_by_name
- TOOLS:
  - get_name_domain returns now global_patch (instead of -1) as default

Changes by Markus Kunze:
- RAD
  - messy_rad_short_v1.f90: bug-fixes
  - messy_rad_short_v2.f90: obsolete variables commented out
- RAD_FUBRAD (messy_rad_si.f90, messy_rad_fubrad_si.f90):
  - some parameters removed, this is a bug-fix for the case when not
    each time step is a radiation time step

******************************************************************************

messy_d2.53.0.17 (23 Jan 2018)

Changes by Markus Kunze (op_mk):
- E5VDIFF (messy_e5vdiff_si.f90)
  - messy_e5vdiff_si.f90: updated channel object: emter no longer
    available in rad01, replaced by flxt
- VERTEX (messy_vertex_si.f90)
  - messy_vertex_si.f90: updated channel object: emter no longer
    available in rad01, replaced by flxt
- RAD/FUBRAD (messy_rad_fubrad_si.f90, messy_rad_si.f90, messy_rad.f90,
    messy_rad_short_v1.f90, messy_rad_short_v2.f90):
  - messy_rad_fubrad_si.f90: added output heatswc (clear sky SW HR)
    added flux/transmissivity correction for new upward directed
    output of RAD;
    added the possibility to change the lowest operation level of FUBRAD
    (blev) via namelist.
  - messy_rad_si.f90: added output: flxus, flxusf, flxut, flxutf,
    flxuni, flxunif (upward directed fluxes (all sky, clear sky)
    for SW, LW, NIR); added output: trus, trusf, truni, trunif
    (upward directed transmissivities (all sky, clear sky) for
    SW and NIR; added output: dtswc (SW heating rates), dtlwc (LW
    heating rates) for clear sky conditions.
    removed output: emter, emtef as they are redundant. emter, emtef
    are the longwave fluxes (all sky, clear sky) and not the emissivities;
    LW fluxes already output as flxt, flxtf.
    Output by the SMCL routine rad_rad_smcl changed to SW transmissivities
    instead of SW fluxes; conversions from SW fluxes to transmissivities area
    therfor obsolete.
  - messy_rad.f90: added to interface of SUBROUTINE rad_rad_smcl: pflut , ptrus,
    pflutc, ptrusc, ptruni, ptrunic, to save upward directed fluxes and
    transmissivities. Changed the output for SW calculations from fluxes to
    transmissivities, as these are needed in the SMIL. Cleaned up the code;
    commented all obsolete local variables.
  - messy_rad_short_v1.f90, messy_rad_short_v2.f90: output are the
    SW transmissivities (see changes for messy_rad.f90); commented all variables
    which now are obsolete.
  - messy_rad_fubrad.f90: added calculation of clear sky SW heating rates.
  - messy_rad_fubrad_mem.f90, messy_rad_fubrad_init.f90, : added variable blev
    (basic level of FUBRAD, default 7000 Pa), which can be changed via namelist.
- MPIOM (messy_mpiom_e5.f90)
  - messy_mpiom_e5.f90: added new output channel objects, to calculate
    additional diagnostics offline: dlxu, dlyu, dlxv, dlyv (length grid
    box vector), uko, vke (x-, y-velocity), dduo, ddue
    (layer thickness at vector points).
- SCOUT (messy_scout_si.f90)
  - messy_scout_si.f90: TYPE IO_SCOUT: changed length of character str to
    STRLEN_XLONG.

Changes by Matthias Nuetzel:
- CLOUDOPT: soubroutine cloud_opt split into cloud_opt_prelwsw, cloud_opt_lw1,
	    cloud_opt_sw1 in preparation for implementation of alternative
	    radiation schemes
- RAD: new /CPL/ namelist parameter i_lw for the selection of alternative
       long-wave schemes (similar as i_sw)

Changes by Patrick Joeckel:
- DATA (ICON): new static channel objects clon and clat
- CHANNEL (BMIL, ICON):
  - messy_main_channel_bi.f90: bug-fix in array copy for CASE(3) in subroutine
    channel_readdistrib_ICON_data
  - messy_main_channel_icon.inc: EXEC_CHECKSUM as global attribute with md5
    checksum of executable (icon.exe)
- IMPORT_GRID (BMIL):
  - messy_main_import_grid_bi.f90 (subroutine import_grid_initialize):
    - cycle for patch_id = 0 in case of ICON
    - call rgtevent_init_nml with patch_id instead of modifying modstr
  - messy_main_import_grid_tools_bi.f90: subroutine rgtevent_init_nml with
    optional parameter patch_id (instead of modyfing namelist file name)

******************************************************************************

messy_d2.53.0.16 (11 Jan 2018)

Changes by Astrid Kerkweg:
- BMLUSE:  additional ICON fields added for reading data
- GRID_BI: unnecessary if-statement deleted
- GRID_TRAFO: EXPAND LON ... expanded
- TIMER: further adaption to ICON patches
   - subroutine timer_add_seconds_to_date_real added in SMCL
- CHANNEL: (BI / IO / (p)netcdf / cdi): ICON restart enabled

Changes by Patrick Joeckel:
- config/mh-linux-64: updates for openmpi-3.0.0 on pa2 @ DLR
- IMPORT_LT (SMCL): bug-fix in subroutine ilt_read_lt_netcdf; pointer vec
  correctly nullified

******************************************************************************

messy_d2.53.0.15 (15 Dec 2017)

Changes by Mariano Mertens:
- JVAL (SMIL): compiler workaround for MAX(0.0, clp_2d)

Changes by Patrick Joeckel:
- configure.in, configure: bug-fix w.r.t. availability of pnetcdf library
- mh-linux-64: updates for gcc / openmpi on mistral @ DKRZ
- ISOPCOR: new submodel for the production rate calculation of isotopes
  produced by cosmic rays
- JVST (messy_jvst_jvpp.inc): updated to the status of JVAL, 14.1.1

Changes by Rolf Sander (thanks to Stefan Versick):
- JVAL: upadate (version 14.1.1) with revised/corrected O3 and OCS spectra
  (modified files: O3.s2t, OCS.s2t, messy_jval_jvpp.inc)

Changes by Patrick Joeckel:
- MSBM (SMIL): adjustment of large scale cloud cover (aclc) after
  repartitioning of xl and xi
- CLOUD (SMIL): adjustment of saved large scale cloud cover (aclc) in case
  of MSBM is active in stratosphere:
  Note: After the calculation of aclc in cloud_radiation -> cover_ori,
  the liquid water and ice tendencies are (numerically) modified, e.g.
  by E5VDIFF (and maybe others); thus, the initial values of aclc in
  cloud_convec are occasionally inconsistent with xlte and/or xite.
  In the standard case the consistenty between aclc and xlte & xite
  is re-adjusted in cloud_convec -> cloud_ori. In case of MSBM, however,
  this re-adjustment is bypassed by saving and resetting the original
  inconsistent value. Thus, the saved value needs to be re-adjusted as well.
- TIMER (BMIL, main_timer_read_nml_cpl): bug-fix (POINTERs must NOT be
  part of NAMELISTS, at least g95 complains ...); thus: local variable
  delta_time to be read from namelist copied to clock(1)%delta_time

Changes by Patrick Joeckel and Mariano Mertens, thanks to Holger Tost:
- JVAL, JVST (SMIL): bug-fix in memory management for specific representation
  REPR_JV_AER_4D
- messy_main_ppd_bi.inc: _RI_YdZdWd_ modified

Changes by Patrick Joeckel:
- config/mh-linux-64 and xmessy_mmd:
  alternative intel-based compile-/run-time parallel environment
  for mistral (to be selected with ENVOPT=1 or 2 and only for development)

Changes by Mariano Mertens:
- DATA (COSMO), GRID_TOOLS: calculation of wind vector components in
  geographical coordinates
- TAGGING: update; flexible tagging classes controlled via namelist
  (requires namelist updates,see WARNINGS or WiKi)

******************************************************************************

messy_d2.53.0.14 (10 Nov 2017)

Changes by Patrick Joeckel:
- SCAV (scav_init_coupling): bug-fix to avoid calculation of LOG(0) = nan
  for inactive modes (sigma = 0)
- ICON (2.0.17) removed

Changes by Astrid Kerkweg:
- MBMs (BLANK, CLAMS, CMAT, DISSOC, GWAVE, MPIOM, QBO, RAD, SPE, VERTICO,
  VGLUE):
  - messy_main_control_*.f90 updated according to TIMER update
- messy/util/init_restart: copy / link ICON ori files
- messy/util/xmessy_mmd: bugfix restart_ICON does not longer exist;
			 changed to tracer_gp and test of icon*.nc files
- TIMER: include domain handling:
  - introduce arbitrary number of clocks and BMtimes
  - set IO_RERUN_EVENT / no_cycles for ICON
  - bugfix for ICON: set of resume date to current date instead of start date
- IMPORT_GRID: change domain handling of RGTEVENT counter restart;
	       added domain number to modstr (as in CHANNEL)
- ICON (nwp-2.1.01):
  - icon/src/atm_dyn_iconam/mo_nh_stepping.f90: include calls to timer_time
    in patch iteration
  - messy/nml/ICON/NWP:
    - NAMELIST_cascade_R2B04_ALL031_2006072500:
      - check_uuid_gracefully = .TRUE. introduced in run_nml as restart produces
	in uuid_ofHGrid check for extpar_file a zero string (?? why ??)
      - comment out dt_checkpoint => overwritten by TIMER.
    - icon_master.namelist:
      - fill master_time_control_nml with meaningful values (will be overwritten
	by TIMER (!)
    - completely empty OLD namelist time_nml
    - channel.nml: put OUT_CHANNEL(16) = 'tracer_gp_*', IGNORE = T as long as
      scattering does not work to enable RESTART tests
    - timer.nml: active delta_time as this now provides the ICON time_step!
- xmessy_mmd.MECOntest xmessy_mmd.CESM1test and namelist directories
  messy/nml/MMD/RC1test2 and messy/nml/CESM1/SE/importtest contracted for
  testing of all basemodels (please keep!)
- TRACER / GRID: consistent treatment of BASEGRID ID

Changes by Patrick Joeckel:
- configure.in (configure): syntax bug-fixes
- TRACER (messy_main_tracer_bi.f90):
  - bug-fix in SUBROUTINE TRACER_INIT (#ifndef MESSYGRID)

Changes by Franziska Frank:
- H2OISO:
  - tendencies added in correct order to avoid double accounting
  - bug fix in numerical correction tendency for MSBM
  - new functions (SMCL)

******************************************************************************

messy_d2.53.0.13 (23 Oct 2017)

Changes by Patrick Joeckel:
- MECCA_TAG (imtag.pas):
  - imtag.pas bug-fix: addinline4tagrates moved AFTER kieproc, since
    otherwise KIE variables are used before they are calculated,
    for example:
    - if_D_G4118_HCHO was
      - first declared: REAL(dp) :: k_G4118, ib_D_G4118, if_D_G4118_HCHO
      - then used: tag_kG4118a =(  if_D_G4118_HCHO) *k_G4118;
      - and only then calculated:
	if_D_G4118_HCHO = ib_D_G4118 / (1.+ ib_D_G4118)
    The reason is that #INLINE F90_RCONST blocks from mecca.eqn are
    processed in the order of occurrence.
    This bug causes a severe restart dependency in 3D simulations:
    - in the first box of each vector (jp=jk=jrow=1), (jb=1) the variable
      is undefined ... also after each restart ...
- TRACER: new_tracer returns (if PRESENT) correct tracer ID if tracer is
  already defined
- ECHAM5 (5.3.02_c):
  - Makefile.in: new preprocessor directive E5302_C
  - physc.f90:
    USE of ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi removed
- DATA (ECHAM5, 5.3.02_c):
  - ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi removed
    (available only #ifndef(E5302_C))
  - wind10_2d removed
- CONVECT (SMIL):
  - check for ASSOCIATED status of l_heatflux, s_heatflux
- CLOUD (SMIL):
  - check for ASSOCIATED status of tke
- ONEMIS (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- ONLEM (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- AIRSEA (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- CAM, CAM_SFFLUX (SMIL): USEd wind10_2d replaced by local pointer /
  get_channel_object

Changes by Hella Garny and Patrick Joeckel:
- DATA (ECHAM5, main_data_init_coupling):
  - allow setups with neither E5VDIFF nor VERTEX (for EMIL-mode):
    object references for l_heatflux, s_heatflux, tke and wind10_2d
    avoided, if none of both submodels is running

Changes by Sabine Brinkop:
- new Lagrangian submodels: LGH2O, LGCLOUD, LGVDIFF
- LGMC: update, equipped with MESSYTENDENCY
- CLOUD: new channel object 'sdtdt_cloud' for L_LGMC
- CONVECT (for l_LGMC):
  - correction of some units
  - new channel objects ptu_gp and ptd_gp
  - sign corrections (jk <-> jk+1) in differences
- H2O: new option I_FEEDBACK = 0 no feedback and no sync between LG and GP

Changes by Vanessa Rieger:
- TAGGING: update, incl. HOx tagging

Changes by Andreas Baumgaertner:
- TRACER: bug fix for initialisation of qm1 via TRACER
  - messy_main_tracer_bi.f90 and messy_main_tracer_mem_bi.f90:
    flag to tell CESM1 basemodel that qm1 is already initialised
- CESM:
  - se/dp_coupling.F90: flag check for qm1 initialisation via TRACER
  - restart_dynamics.F90: relative vorticity into restart file

Changes by Markus Kunze:
- FUBRAD (1.9): added new spectral resolution with 81 bands:
  - messy_rad_fubrad.f90: added cases 'STR-HR22' and 'STR-HR44'
  - Added test bed for spectral degradation of refinement:
    - messy_rad_fubrad_init.f90: splitted initialisation of fluxes and
       cross sections. added subroutines: fubrad_initialize_cross_sec,
       fubrad_initialize_cross_sec_dyn, fubrad_initialize_fluxes_dyn,
       fubrad_ini_param_dyn
  - messy_rad_fubrad_ini_param_dyn.inc            (new)
  - messy_rad_fubrad_initialize_cross_sec_dyn.inc (new)
  - messy_rad_fubrad_mem.f90: nherz, nhart, nhug (no longer PARAMETER)
  - new namelist character switch: resolution = 'DEFAULT' or 'DYNAMIC'
  - messy_rad_fubrad_sr_str.f90: removed unneccessary arrays
  - messy_rad_fubrad_si.f90: new namelist switch resolution
    initialisation of fluxes and cross sections depends on resolution

Changes by Bastian Kern:
- ICON (nwp-2.1.01): update of Makefile-MESSy.in

Changes by Phoebe Graf:
- TNUDGE: error instead of warning, if tracer to nudge is not found

******************************************************************************

messy_d2.53.0.12 (27 Sep 2017)

Changes by Patrick Joeckel:
- COSMO: src/src_tracer.f90: set_tracer with refspec='H2O' for hydrolocical
  COSMO tracers (mainly for molarmass > 0.0)
- DATA: some channel objects with lstatic=.TRUE.
- CHANNEL: new characteristic (lstatic) for time independent channel objects,
  to be set optionally with new_channel_object(...,lstatic=.TRUE.);
  this only affects the output and is used to save output by suppressing
  time series of static data ...;
  modified files:
    - messy_main_channel.f90, messy_main_channel_io.f90,
      messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90
  - NOTE: not yet implemented for CDI
- TRACER (messy_main_tracer_bi.f90, subroutine TRACER_INIT for ICON):
  - set pointers to tracer memory correctly
  - use set_name_domain for patch detection
  - improved error messages in subroutine set_tracer_properties
    (messy_main_tracer.f90)
- TOOLS: bug-fixes in get_name_domain

Changes by Astrid Kerkweg:
- COSMO:
  - lmorg.f90: main entry point messy_new_tracer moved
  - CONTROL: main_tracer_new_tracer(1) moved
- ICON (2.0.17, 2.1.01):
  - src/drivers/mo_atmo_nonhydrostatic.f90:
    call diagnose_pres_temp between messy_init_coupling and messy_init_tracer
- CONTROL (ICON):
  - calls to main_tracer_init_tracer(.)
- TRACER (messy_main_tracer_bi.f90):
  - subroutine TRACER_INIT for ICON
- IMPORT_GRID:
  - info(string) to pass information from regrid-namelist to BMIL

******************************************************************************

messy_d2.53.0.11 (13 Sep 2017)

Changes by Patrick Joeckel:
- MECCA_TAG
  - imtag_tag_si.f90 (subroutine mecca_tag_calc_xtte4scav):
    explicit dimensions of xtte_scav and pxtp1
  - imtag_cfg_si.f90 (subroutine {%TAG}_calc_xtte4scav):
    bug-fix (corrected array index jtc) for else-branch

Changes by Bastian Kern:
- ICON version 2.1.01

Changes by Patrick Joeckel:
- configure.in (configure): update for newer yaxt libraries (need libyaxt_c.a)
- all ptrac*nml: henry replaced by pss
- messy/util/ptrac_convert.tcsh: henry replaced by pss
- MECCA1, SCAV, PLUMEGAS, ORACLE, O3ORIG, MADE, MADE3, MTCHEM, GMXE, E4CHEM,
  DDEP, CMAT, DRYDEP:
  - R_henry replaced by R_pss
- TRACER:
  - workaround for R_henry = R_pss removed
  - R_henry removed
- MECCA (process_gas.tbl): H2O added to make it available for MECCA_TAG
- CONTROL (COSMO)
  - call of main_data_free_memory
- DATA (COSMO):
  - nvclev set to nlevp1 and vct array allocated and filled
    (both required for MECCA_TAG)
  - new subroutine main_data_free_memory
- TRACER: additional routine set_tracer for non-dp reals
- TRACER_CHEMPROP: diagtrac tracers removed from messy_main_tracer_chemprop.tbl
- config/mh-linux-64: updates for gfortran (6.2.0) and intelmpi (2017.0.098)
  on mistral @ DKRZ
- poly_MECCA (template_messy_mecca_poly_si.f90, messy_mecca_poly_si.f90):
  added interfaces for GNU compiler issue workaround
- H2OISO, TRSYNC: added empty non-MESSYTENDENCY branches, since it did not
  compile without MESSYTENDENCY

Changes by Rolf Sander:
- TRACER: messy_main_tracer_chemprop.tbl updated

Changes by Franziska Frank:
- CONTROL (ECHAM5):
  - call of tnudge_init_coupling moved after mecca_init_coupling(2)
  - new calls to h2oiso_physc(1|2)
- HSOISO:
  - modified to take into account PSC region from MSBM (as in CLOUD)
- CLOUD: use STRAT_region instead of PSC region from MSBM
  (which is more consistent, since MSBM calculates re-partitioning everywhere!)
- MECCA (SMIL): calculation of H2O tendency (conversion from q) corrected
- MSBM: conversion between q and H2O corrected (q is in kg/kg(moist air)!)
- TRSYNC: update

******************************************************************************

messy_d2.53.0.10 (17 Aug 2017)

Changes by Patrick Joeckel:
- main_grid_netcdf.f90: bug-fix (see below) disabled, because
  access to a1%dim and a2%dim happens only, if one of both is
  .NOT. ASSOCIATED ???

Changes by Astrid Kerkweg:
- GRID_BI: determination of minmaxlonlat changed
- main_grid_netcdf.f90: bugfix undefined dims
- main_grid_trafo.f90:
  - some commented blocks deleted
  - reduce_input_grid modified to deal with [0:360] / [-180:180}
    grid definitions
- main_grid_trafo_scrp.f90: diagnostic logfile output added
- main_import_grid.f90: new subroutine CONTRUCT_IGRISMASK called from
   RGTOOL_READ_NCFILE/VAR  to mask input fields to accelerate overlap search
   in SCRIP

Changes by Andreas Baumgaertner:
- CESM1:
  - New Makefiles for different "compsets", including setup with E5VDIFF
  - Updates to atm_comp_mct for E5VDIFF
- CHANNEL: For CESM1, write_dimension and write_representation are turned off
- TNUDGE: smil bugfix for l2tls=T
- OROGW: Fix for CESM1
- CONTROL for CESM1: Moved call to vertdiff_vdiff
- DATA: For CESM1, added L90 vertical resolution
- messy/util/yam.tcsh: updates

Changes by Patrick Joeckel:
- MECCA:
  - process_gas.tbl
    - modifications to complete tracer information
    - xmecca: added ONE as refspec for diagtrac-tracers
- TRACER_CHEMPROP (messy_main_tracer_chemprop.tbl)
  - species added
  - dummy species ONE with molarmass = 1.0 added
- TRACER_PDEF (main_tracer_pdef_init_mem):
  stop with error message, if tracer has non-positive molar mass
- TRACER (set_tracer_properties):
  - subroutines new_tracer(_old): set container contents of R_HENRY to that
    of R_PSS
  - special case for setting chemical properties via "refspec"
    pseudo-container (tracer.nml, ptrac.nml), e.g.
    TPROP(.) = 'gp;', 'LossO3', 'refspec', 'O3',
- IMPORT_GRID
  - temporary workaround since forced restart does not work for non-patch
    basemodels, presumably due to event / counter naming mismatches;
    all modifications since d2.53.0.6 have been encapsulated into
    #if(n)def ICON preprocessor directives:
    - messy_main_import_grid_tools_bi.f90
    - messy_main_import_grid.f90, subroutine RGTOOL_NCRGCNT_RST with
      optional parameter cname
    - messy_main_import_grid_bi.f90: call of corresponding subroutines
- TRACER (ICON):
  - map_tracer_meta_i2m: set chemical properties of selected
    'q' variables from ICON to those of H2O
- ICON:
  - new entry points in src/atm_dyn_iconam/mo_nonhydro_state.f90:
    - CALL messy_init_memory(11,p_patch%id,timelev)
    - CALL messy_init_memory(12,p_patch%id,timelev)
  - new entry points in src/drivers/mo_atmo_nonhydrostatic.f90:
    - CALL messy_init_memory(1)
    - CALL messy_init_memory(3)
- CHANNEL:
  - new subroutine  main_channel_set_patch (only for ICON)
- CONTROL (ICON):
  - main calls for TRACER (see note on tracers); cleaned code
- DATA (ICON):
  - new subroutine set_timelev
  - some variables added
- SWITCH:
  - PTRAC enabled for ICON
- TRACER: modifications for ICON; modified files:
  - messy_main_tracer_bi.f90:
    - new subroutines map_tracer_meta_i2m, map_tracer_meta_m2i,
      map_tracer_memory_icon, main_tracer_set_patch
    - modifications for ICON in main_tracer_new_tracer,
      main_tracer_init_memory,
    - setup_tracer_set_gp for ICON
  - messy_main_tracer_mem_bi.f90: variables for tracer sets
  - messy_main_tracer.f90:
    set_tracer_properties with optional parmaeter patch_id and
    internal logic (implicit wildcards) for downward compatibility
    with non-patch-basemodels
- TRACER_FAMILY:
  - loop over all tracer sets for ICON
- TRACER_PDEF:
  - error message; TRACER_PDEF not yet implemented for ICON
- PTRAC:
  - modified for ICON

******************************************************************************

messy_d2.53.0.9 (08 Aug 2017)

Changes by Stefanie Falk:
- configure/mh-linux-64: new entry for ic*|hc* (@KIT)
- ONEMIS: new bromine emission scheme from snow and sea ice ('AirSnow');
  new namelist CTRL_AirSnow (see messy/nml/EXAMPLES/onemis.jnl)

Changes by Christiane Hofmann:
- PTRACINI: bugfix

Changes by Astrid Kerkweg:
- IMPORT_GRID: Bugfix for restart dependence in models with height coordinate:
  write import_grid restart file, do not automatically regrid at restart
- GRID_TRAFO (messy_main_grid_trafo.f90, switch_geohybgrid): bug-fix,
  initialisiation of pressi and pressm (if .NOT. lz)

******************************************************************************

messy_d2.53.0.8 (19 Jul 2017)

Changes by Mariano Mertens and Patrick Joeckel:
- VAXTRA: correct definition of representation (rank-flipping)

Changes by Astrid Kerkweg:
- GRID (messy_main_grid_bi.f90, messy_main_grid_trafo_scrp.f90):
  bug-fix of rounding errors
- TRACER (messy_main_tracer_bi.f90): bug-fix for tracer initialisation in
  CESM1

Changes by Patrick Joeckel:
- config/mh-linux-64: modifications for pa2 @ DLR to allow for different
  versions of OpenMPI

******************************************************************************

messy_d2.53.0.7 (12 Jul 2017)

Changes by Astrid Kerkweg:
- COSMO: bug-fix for calculation of autoconversion in graupel scheme
  (src_gscp.f90, subroutine hydci_pp_gr)
- INT2COSMO: bug-fixes for bypassing generalized humidity (lgrh=.FALSE.);
  modified files: src_lm_fields.f90, src_vert_interpol.f90)
- MMD (library): bug-fixes to yield binary identical results for
  ldev = .TRUE. / .FALSE.; modified files: mmd_child.f90, mmd_parent.f90
- IMPORT_TS: implemented in ICON
- MMD2WAY: SNREGRID implemented
  - switch off SATAD above "htop_moist_proc" (index kstart_moist)
    changed files: data_runcontrol.f90, data_modelconfig.f90,
    organize_physics.f90, src_gscp.f90, src_input.f90, src_leapfrog.f90
    src_lheat_nudge.f90, src_nudging.f90, src_relaxation.f90
    src_runge_kutta.f90
  - src_radiation.f90: clipp humidity for high atmosphere

Changes by Patrick Joeckel:
- IMPORT_GRID (MBM): dependencies in src/Makefile updated
- IMPORT_GRID (messy_main_grid_bi.f90):
  - bug-fix with pre-processor directives to enable compilatiopn of
    MBM mpiom
- DATA (MBM_MPIOM): BASEGRID_ID defined as array with rank 1

Changes by Astrid Kerkweg:
- COSMO:
  - src_relaxation.f90: Bugfix for PTRACINI to allow relax switch to be
    switched off after a number of time steps
- BMLUSE: use vct from mo_vertical_coord_table for ICON
- CHANNEL_BI (ICON specific):
  - representation UCELL_3D_1LEV added
  - gp_nseg added
  - bugfix in bi_decompose for nlevs==1: allow for UCELL_3D_1LEV
- CHANNEL (messy_main_channel_icon.inc):
  - representation UCELL_3D_1LEV added
  - replace axis string 'N---' by 'XY--' (local decomp is the important one)
- CONTROL:
  - call to main_grid_free_memory added for all basemodels
  - COSMO: call main_data_init_tracer for pressure calculation before tracer
	   initalisation
  - ICON: calls to GRID and IMPORT added
- DATA:
  - make BASEGRID_ID an array (to allow for patches) in all basemodels
  - COSMO:
    - static pressure fields for testing purposes added (pressm/i_stat)
    - new subroutine main_data_init_tracer to calculate pressure prior to
      tracer initialisation
- GRID (BMIL):
  - grid definition for ICON added
  - bgrid_ptr removed (never used anyway)
  - include patches, e.g. BASEGRID_ID becomes array
  - bugfix: broadcast unstructured lon / lat
  - remove local ranges as ranges now part of the t_geohybgrid
  - COSMO: implement pressure regridding for height coordinates, i.e.,
	   vcoord%ivctype > 1
- TIMER: event handling expanded to patches
- TRACER_BI: tracer initialisation vertical interpolation via SNREGRID in case
	     of horizontal SCRIP interpolation (CESM1, COSMO, ICON)
- IMPORT (BMIL): #ifndef ICON removed
- IMPORT_GRID_(TOOLS_)BI:
   - patches enabled (IMPORT_GRID_INITIALIZE nearly new ..):
     - counter expanded that internal names add patch number
     - t_import_patch added to provide facility npatches times
     - individual namelists for each patch possible: patch_id in namelist added
   - ICON specifics channel_object definition added
- GRID (SMCL):
  - RGMAX added (similar to RGEMPTY, used for pressure regridding)
  - t_geohybgrid expanded by pressm and pressi
  - bugfix: consistent handlung of imask and clonc, rlonc, lonc
  - older comments partly removed for better readability
  - function GEOHYBGRID_UPDATE_PRESS added (messy_main_grid)
  - convert-tools expanded for 3d pressure fields (grid_tools)
  - subroutines made public: RNGADJ_NARRAY, IMMI_NARRAY, IMMI_NCVAR (grid_trafo)
  - new subroutines: H2PSIG_3D, RNGADJ_ARRAY (grid_trafo)
  - expand_input_grid: use 6 instead of 4 longitudes (required for some grid
    when regridded to ICON grid)
  - subroutine SNREGRID added to grid_trafo_nrgd_base
  - comment function  UNSTRUC4NRGD (no longer needed) (grid_trafo_nrgd)
  - GRID_TRAFO_SCRP
    - new subroutines  CONSTRUCT_VERT_AXIS and INTERPOL_3D_PRESSURE
    - use pi_icon for ICON grid
    - flag data according to imask in subroutine GEOHYB2SCRIPGRID
    - correct use of ranges (<= instead of <) in  subroutine GEOHYB2SCRIPGRID
- IMPORT_GRID (SMCL)
  - counter expanded that internal names add patch number
  - pressi / pressm added to namelist handling
  - use SNREGRID for vertical implementation in case of SCRIP horizontal
    interpolation
- TOOLS: subroutine lower_case added

******************************************************************************

messy_d2.53.0.6 (20 Jun 2017)

Changes by Franzika Frank:
- CAABA: namelist extension to control output
	 (output_step_freq, output_sync_freq);
  modified files: caaba.f90, caaba_io_netcdf.inc, caaba_mem.f90

Changes by Patrick Joeckel:
- zip.sh: zip icon*/data contents only, if available
- TRACER_CHEMPROP (messy_main_tracer_chemprop.tbl):
  - double entries (CHF3, CHF2CF3, CH2F2) removed
  - new entry for CH2Cl2
  - default molar mass: 0.0
- TRACER: additional optional parameter "refspec" in subroutine new_tracer
  to pre-set chemical properties also in cases where basename does not match
- CAABA (messy_traject_box.f90): comma after write statement removed
- JVAL, JVST (SMIL): C3O2 inserted (no. 103)

Changes by Sergey Gromov:
- MECCA_TAG: update to work with chemprop and TRACER containers
- Makefile.in: new make target rar for archiving (with rar) the source code
  (inluding new messy/util/rar.sh)
- config/mh-linux-64: updates for tonerre

CHANGES by Rolf Sander:
- xgraphvizall: consider deltmp from xmecca
- process_gas.tbl: O3 is refspec for O3s
- xmecca: rxnrates considers refspec
- messy_main_tracer_chemprop.tbl (based on gas.tex): bug fix for molar
  mass of CF2ClCFCl2; should be F3 not F2
- config/mh-linux-64: bug fixes for fluorine
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- messy/mbm/tracer/Makefile: g95 added
- KPP update from 2.2.1_rs7 to 2.2.3_rs2; for details, see KPP CHANGELOG
- new user manual:
  documentation/howto-newsubmodel/howto-newsubmodel-messy2.tex
  (MAYBE STILL NOT UP TO DATE?)
- messy/util/zip.sh: exclude *.pyc
- chemprop:
  - mbm/tracer/chemprop/* updated
  - messy_main_tracer_chemprop.awk updated
  - process_gas.tbl instead of gas.tex
  - process_aqueous.tbl instead of aqueous.tex
  - tracdef_tbl.awk instead of tracdef.awk
  - new FUNCTION get_chemprop_index in messy_main_tracer.f90

Changes by Stefan Versick:
- UBCNOX: update with bug-fix for elevated stratopause events (ese);
  Note: incompatibility with older restart files

******************************************************************************

messy_d2.53.0.5 (23 May 2017)

Changes by Markus Kunze:
- FUBRAD
  - messy_rad_fubrad.f90:
    Bugfix in subroutine middle_atmosphere_heat_rates:
    Scaling factor without pmu0 (1./cos(sza)) in the calculation of heating
    rates in the Schumann-Runge range (when lsrflx=.FALSE.).  Identified after
    comparision with line-by-line calculations, created by Thomas Reddmann
    (KIT).
  - messy_rad_fubrad_mem.f90: (submodver = '1.7' -> submodver = '1.8')

Changes by Mariano Mertens:
- xmessy_mmd: update for module environment on SuperMUC @ LRZ

Changes by Patrick Joeckel:
- xmessy_mmd: COSMO namelist files made selectable

******************************************************************************

messy_d2.53.0.4 (09 May 2017)

Changes by Phoebe Graf and Patrick Joeckel:
- MECCA
  - gas.tex:
    - double entries (CHF3, CHF2CF3, CH2F2) removed
    - CH2Cl2 added

Changes by Patrick Joeckel:
- TRACER: max. string length of longname set to STRLEN_ULONG
- TIMER (messy_main_timer.f90): bug-fix in subroutine add_date_real
- BLANK:
  - submodel ORBIT included
    (messy_main_control_blank.f90, messy_main_switch_bi.f90)
  - messy_main_channel_blank.inc: new representation GP_2D_HORIZONTAL
- DATA (BLANK):
  - new channel objects sin/cos.lat/lon_2d

Changes by Bastian Kern:
- CHANNEL (messy_main_channel_repr.f90): bug-fix (use global_patch)
  in subroutines new_representation, loc_representation_by_name
- SCALC: update with new operators MULT, PSUM and PSUMDIA

Changes by Patrick Joeckel:
- DATA: lrestreq=.FALSE. for parallel decomposition information
- JVAL/JVST: bug-fix (see d2.52l) reintroduced, which somehow got lost:
  additional SMCL parameter l_export_to_smil to fix an issue with
  pointers (to aerosol properties) that are only associated, if JVAL is
  run 3D ...
- VISO: new feature to select maps on specific levels via
  channel = '#level','23' (special cases: -1: nlev; -2: nlev+1)

Changes by Phoebe Graf and Patrick Joeckel:
- TOOLS (subroutine iso2ind, 2x): set index level to 1, if not found with
  reverse search

Changes by Patrick Joeckel:
- SCAV (messy_scav_si.f90): set_channel_object_restreq for J_HNO3 instead
  of J_NO2O (caused a dependency of results from the restart frequency)
- MECCA (SMIL): _dp appended to some constants
- GRID (messy_main_grid_netcdf.f90): two POINTERs correctly nullified

Changes by Astrid Kerkweg:
- MMD2WAY (messy_mmd2way_parent_si.f90):
  - bug-fix in wait time measurement in case of one-way nesting

******************************************************************************

messy_d2.53.0.3 (02 Mar 2017)

Changes by Andreas Baumgaertner:
- CESM1:
  - fixes so that qtimer works with restart frequency "monthly" and
    end of queue time
  - restart files named consistently
  - new basemodel subdirectory cesm1_2_1_c (clean) with obsolete code removed

Changes by Patrick Joeckel:
- CONVECT (messy_main_convect_si.f90): distinguish USEd lookupoverflow from
  local zlookupoverflow
- METEODIAG: scaling factor converted to REAL(dp)
  - modified file: messy_ncregrid_control.f90

Changes by Franziska Frank:
- H2OISO:
  - tendencies from msbm are added to q, xl and xi
  - bug-fix concerning the numerical tendencies, which were not correctly
    zeroed between HHO and the isotopical numerics.
- MECCA_TAG (imtag_cfg_si.f90):
  - check for negative values at "t+1"

Changes by Mattia Righi:
- NCREGIRD: scaling factor converted to REAL(dp)
  - modified files: messy_ncregrid_base.f90, messy_ncregrid_control.f90
- GRID, IMPORT_GRID: scaling factor converted to REAL(dp)
  - modified files: messy_main_grid_netcdf.f90, messy_main_import_grid.f90,
    messy_main_import_grid_par.f90

Changes by Astrid Kerkweg:
- MMD2WAY (messy_mmd2way_parent_si.f90):
  - bug-fix for CPL_EVENT in case of one-way nesting
  - bug-fix in wait time measurement in case of one-way nesting

Changes by Patrick Joeckel:
- MMD: several pointers NULLified in f90 files of mmd library

Changes by Phoebe Graf and Patrick Joeckel:
- SCALC (messy_scalc_si.f90):
  - do not stop, if object has no units attribute; output warning instead

Changes by Huug Ouwersloot:
- TROPOP: bug-fix for calculation of tp_clim_f (fraction of box below
  climatological tropopause)

******************************************************************************

messy_d2.53.0.2 (02 Mar 2017)

Changes by Patrick Joeckel:
- TRACER: internal option to use rank 4 (TRRANK=4) for tracer index in
  internal tracer memory (default: TRRANK=3); this can now be selected
  by the basemodel in main_tracer_setup;
  IMPORTANT NOTE: Since the tracer memory is coded in the SMCL of TRACER
  and therefore shared between different BMs, it is not possible to select
  the memory layout at compile time (e.g. via pre-processor directives)!
  It must be selected at run time, i.e., CASE constructs for TRRANK are
  required throughout the SMCL code of TRACER.
  In the SMIL and BMIL files, however, the new preprocessor macros can be
  used to set the array selectors correctly.
  --> This requires an adaption of all SMs (SMIL-files), the old
      rank identifiers need to be replaced by the selector macros.
  - modified files:
    - BMIL: messy_main_tracer_bi.f90, messy_main_tracer_family_bi.f90
    - SMCL: messy_main_tracer.f90, messy_main_tracer_family.f90,
	    messy_main_tracer_pdef.f90, messy_main_channel_tracer.f90
- messy_main_ppd_bi.inc:
  - new macros to place indices into correct ranks
  - some rank identifiers (which are only used in TRACER_FAMILY) removed
- MBMs, CHANNEL: link to messy_main_channel_cdi.f90 set for several
  MBMs

******************************************************************************

messy_d2.53.0.1 (24 Feb 2017)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: -ICON option
- COMSO (Makefile.in): non-existing path messy/cosmo/bmil removed
- Makefile.in (COSMO, ECHAM5, CESM1, ICON): -include <various paths>/specific.mk

Changes by Bastian Kern and Patrick Joeckel:
- README_ICON
  - some hints, HOWTOs and TODOs
- mh-linux-64:
  - CDI_LIB and CDI_INCLUDE added
  - netcdf/4.4.1 on pa2 @ DLR
- Makefile.in:
  - CDI added
  - ICON as new BASEMODEL
- messy/smcl/Makefile.m: CDI_INCLUDE added
- configure(.in):
  - new option --enable-ICON (default: no)
  - new option --enable-CDI for (external) CDI library
- xmessy_mmd: extensions for ICON as basemodel
- messy/util/zip.sh:
  - exclude *.pl only from messy/util
  - include $DIR/icon*/data/*
- new BASEMODEL ICON
  - subdirectories icon-export_29588 (HD(CP)^2 LES) and icon2.0.17 (default
     DWD)
- BMLUSE (messy_main_bmluse_bi.f90): ICON related USEs
- CONTROL (ICON):
  - new file: messy/bmil/messy_main_control_icon.inc
- CHANNEL:
  - dimensions and representations added for ICON
  - patch-id introduced
  - new CDI output (messy_main_channel_cdi.f90)
  - modified files: messy_main_channel_bi.f90, messy_main_channel.f90,
    messy_main_channel_dimensions.f90, messy_main_channel_error.f90,
    messy_main_channel_io.f90, messy_main_channel_repr.f90,
- CONSTANTS (messy_main_constants_mem.f90):
  - global_patch added
- DATA (ICON): new
- GRID and IMPORT_GRID: excluded for ICON (#ifndef ICON ... #endif)
  - messy_main_grid_bi.f90, messy_main_import_bi.f90,
    messy_main_import_grid_bi.f90, messy_main_import_grid_tools_bi.f90,
- NCREGIRD: excluded for ICON (#ifndef ICON ... #endif)
  - messy_ncregid_tools_bi.f90
- MPI:
  - messy_main_mpi_bi.f90: additions for ICON
  - messy/bmil/mo_mpi.f90: alternative include file for ICON
- HD (messy_hd_e5.f90): hd_interval as REAL(dp)
- PPD (messy_main_ppd_bi.inc): ICON added
- TRANSFORM (messy_main_transform_bi.f90):
  - gather_trix and gather_trix_1d for ICON added
- TRACER (messy_main_tracer_bi.f90):
  - preprocessor directives for ICON added
  - messy_main_tracer_mem_bi.f90: PUBLIC for ICON added
- TIMER:
  - conversion to internal usage of milliseconds
  - modified files: messy_main_timer_bi.f90, messy_main_timer.f90,
    messy_main_timer_event.f90, messy_main_timer_manager.f90,
- TOOLS (messy_main_tools.f90):
  - new subroutine get_name_domain
- MMD (messy_mmd2way_child_si.f90):
  - call messy_timer_init_manager with dt as real(dp) instead of INT(.)
- SWITCH:
  - switches for GRAGG and VISOP added
  - messy_main_switch_bi.f90: QTIMER, IMPORT and RND excluded for ICON

Changes by Patrick Joeckel:
- TOOLS:
  - bug fix in interpol_mid2stag (thanks to Rolf Sander):
    correctly initialised value

Changes by Franzska Frank:
- MSBM (messy_msbm_si.f90): bug-fix (dimension length nproma instead of
  kproma) for variables zxtte and zxtp1 (only relevant for MECCA_TAG)

Changes by Mattia Righi:
- CLOUD (messy_cloud_kuebbeler14.f90): bug-fix (*dp was wrong, probably a
  typo)

Changes by Franzska Frank and Patrick Joeckel:
- MECCA_TAG (template imtag_cfg_si.f90): IMPLICIT NONE and SAVE added

******************************************************************************

messy_d2.53.0 (21 Feb 2017)

<<<TEST>>>:
- run SC1SD-H2O-02 on mistral @ DKRZ with and without MESSYTENDENCY
  (intel/16.0.3 mxm/3.4.3082 fca/2.5.2431 bullxmpi_mlx/bullxmpi_mlx-1.2.9.2)
- compilation (gmake, gmake tools, gmake mbm) on pa2 @ DLR with
  - openmpi/1.10.3/gfortran/4.9.4
  - openmpi/1.10.3/g95-dint32/0.93
  - openmpi/1.10.3/intel/16.0-2
  and running E5 setup successful

Changes by Patrick Joeckel:
- MBM SPE: does not compile anymore after SPE update (see below);
  CALL to subroutine spe_prod commented (thus, the MBM SPE compiles
  again, but us now essentially doing nothing)

Changes by Patrick Joeckel (thanks to Franziska Frank):
- MBM CHANNEL: compile with MPI compiler (otherwise compilaiopn fails, if
  pnetcdf is available)

Changes by Sabine Barthlott:
- SPE: update

<<<SNAPSHOT d2.52n9>>>

Changes by Vanessa Rieger:
- TAGGING: update with fix for consistent HOx tagging

Changes by Patrick Joeckel:
- VISO: bug-fix (MAPs on ISOsurfaces without fraction missed the
  update of the channel object to be mapped ...)
- MSBM: equipped with MESSYTENDENCY and connected to MECCA_TAG

Changes by Franziska Frank:
- MECCA (messy_mecca_si.f90): pre-set l_tag = .TRUE. #ifdef MECCA_TAG

Changes by Andreas Baumgaertner:
- TRACER (messy_main_tracer_bi.f90): preprocessor directives for CESM1 updated
- IMPORT_GRID (messy_main_import_grid_bi.f90,
  messy_main_import_grid_tools_bi.f90):
  preprocessor directives for CESM1 updated
- SURFACE (messy_surface_si.f90): bug-fix for CESM1 with SE dynamical core

<<<SNAPSHOT d2.52n8>>>

Changes by Patrick Joeckel:
- CONSTANTS (messy_main_constants_mem.f90) thanks to Sara Bacer:
  - h_Planck = 6.62606957E-34_dp corrected (- of exponent was missing!!!)
- CHANNEL (messy_main_channel_bi.f90): adaption of bi_decompose for
  DC_GP (VERTICO and MBM_RAD)
- MPI (messy_main_mpi_bi.f90): simple copy of lc into gl in subroutines
  gather_gp[432,32,2] (for non-COSMO and CESM1 basemodels)
- RAD: id_o2 for CESM1
- NCREGRID: basemodel dependent preprocessor directive #ifdef HOMMESE
  removed from SMCL (this caused segmentation faults in EMAC, if condfigured
  with --enable-CESM1, because the SCML is only compiled once for all BMs!)
  - messy_ncregrid_tools.f90:
    - #ifndef HOMMESE replaced by IF (LMODE2DH)
    - new global variable LMODE2DH (true for real 2d-horizontal mode)
  - messy_ncregrid_tools_bi.f90:
    - new main entry point messy_ncregrid_initialize for setting
      LMODE2DH depending on BM (CESM1/HOMMESE: .FALSE., default: .TRUE.)
- CONTROL (CESM1, ECHAM5): call messy_ncregrid_initialize

<<<SNAPSHOT d2.52n7>>>

Changes by Andreas Baumgaertner:
- GRID_TRAFO (messy_main_grid_trafo.f90): pointer nullified

Changes by Patrick Joeckel:
- CESM1: messy/cesm1/bmil removed from SRCDIRS in Makfile.in
- NCREGRID:
  - REAL -> REAL(dp), messy/smcl/specific.mk
  - messy_ncregrid_interface.f90 and
    messy_ncregrid_interface_[cesm1,echam5].inc unified in BMIL
  - messy_ncregrid_tools_[c1,e5].f90 merged into messy_ncregrid_tools_bi.f90;
    modified accordingly:
    - CONTROL (ECHAM5, CESM1, BLANK)
    - IMPORT_RGT (messy_main_import_rgt_bi.f90)
    - SMIL(CESM1): H2O (messy/cesm1/smil/messy_h2o_c1.f90)
    - messy/smil/specifik.mk
    - SMIL(E5): CAM, D14CO, DRYDEP, H2O, HETCHEM, OFFLEM, ONLEM, PHOTO, PSC,
      RAD4ALL
    - SMIL: CLOUDJ, DRADON, JVAL, JVST, SURFACE
    - messy/echam5/smil/specific.mk
- MBMs BLANK, CHANNEL and RAD: compile with NON-MPI compiler
- TOOLS/METEODIAG: REAL -> REAL(dp)
- MBM RAD:
  - adapted to changes since 2.52 and cleaned up
  - &CTRL namelist from rad_mbm.nml moved as &CPL_MBM to rad.nml
    (avoid special rule in xmessy_mmd)
- RAD (messy_rad_si.f90): pre-set
    r_inp(19,:)%cha = '#const'
    r_inp(19,:)%obj = 'O2=0.20955775081737177' ! O2  [mol/mol]
    for backward compatibility

Changes by Markus Kunze:
- mh-linux-64: updates (GFORTRAN) for strat @ FUB
- xmessy_mmd (f_setup_mbm): set link for MBM RAD
- CHANNEL (messy_main_channel_bi.f90): include messy_main_channel_rad.inc
  for MBM RAD
- AROPT (messy_aeropt_si.f90): modification for MBM rad
- CLOUDOPT: also for MBM rad
- RAD:
  - messy/mbm/rad: new stand-allone MBM for offline calculations
  - messy_rad_si.f90:
    - added new input object for variable oxygen (id_o2=19).
    - SUBROUTINE rad_radiation: new field zo2 for oxygen passed to FUBRAD
    - requires new input in rad.nml. e.g.:
      r_inp(19,1) = '#const', 'O2=0.20955775081737177', ! O2  [mol/mol]
  - messy_rad_long.f90):
    #if defined(MBM_RAD):
    changed the size of arrays CORR1 and CORR2 from 200 to 2048;
    required for offline radiation calculation with MBM rad
  - messy_rad_short_v1.f90, messy_rad_short_v2.f90:
    temperature need to be passed to middle_atmosphere_downward_flux (FUBRAD);
    needed to calculate temperature dependent absorption cross sections
- FUBRAD:
  - essy_rad_fubrad_e5.f90:
    - added new output objects: heatsrc, heatsrb, heatherz, heathart,
      heathug, heatchap, flhz, flsrc, flsrb, flhuup, flhudo, flchup, flchdo,
      po2c.
    - implemented alternative parameterisations for Schumann-Runge bands;
      Kockarts (1994), Koppers and Murtagh (1996)
    - messy_rad_fubrad.f90:
      - split source into several files:
	- messy_rad_fubrad.f90        - main FUBRAD smcl file
	- messy_rad_fubrad_mem.f90    - declaration
	- messy_rad_fubrad_init.f90   - initialization
	- messy_rad_fubrad_sr_str.f90  (Strobel, 1978, Schumann-Runge)
	- messy_rad_fubrad_srb_kck.f90 (Kockarts, 1994, Schumann-Runge bands)
	- messy_rad_fubrad_srb_km.f90  (Koppers and Murtagh, 1996,
					Schumann-Runge bands)
    - main changes:
      - variable oxygen is applied; former oxygen constants (oxndc, oxcnst)
	are no longer used, substituted by functions OXNDC_fct(), OXCNST_fct().
      - SUBROUTINE ox_pathlength calculates the column path length for oxygen
	and ozone
- MLOCEAN (messy_mlocean_e5.f90):
  - removed: USE messy_main_data_bi,           ONLY: sni,
    set pointer to messy channel object instead

<<<SNAPSHOT d2.52n6>>>

Changes by Patrick Joeckel:
- IMPORT_GRID: avoid unnecessary huge memory allocation during scan of
  imported data for representation construction
  - messy_main_import_grid_bi.f90, subroutine IMPORT_GRID_INIT_MEMORY:
    - modified call of RGTOOL_BI_READ_NCFILE and RGTOOL_BI_READ_NCVAR
      with additional optional parameters ldatreq, npar, nlev, nlon, nlat
  - messy_main_import_grid_tools_bi.f90, subroutines
    RGTOOL_BI_READ_NCVAR_5D and RGTOOL_BI_READ_NCFILE_5D:
    - additional optional parameters ldatreq, npar, nlev, nlon, nlat

<<<SNAPSHOT d2.52n5>>>

Changes by Patrick Joeckel:
- JVAL, JVST, CLOUDJ (SMIL): new photolysis rates added

<<<SNAPSHOT d2.52n4>>>

Changes by Duy Cai and Rolf Sander:
- JVAL/JVPP, messy_cmn_photol_mem.f90: new photolysis rate calculations for
  CF2ClCFCl2, CH3CFCl2, CF3CF2Cl, CF2ClCF2Cl, CHCl3, CH2Cl2, CHF2Cl

<<<SNAPSHOT d2.52n3>>>

Changes by Andreas Baumgaertner:
- TRACER (messy_main_tracer_bi.f90):
  - adaption of tracer_init for unstructured CESM1 grid
- GRID (messy_main_grid_trafo_scrp.f90): bug-fixes (correctly nullified
       pointer); sovartmp correctly released
- IMPORT_GRID (messy_main_import_grid.f90):
  - bug-fix: memory of sovartmp correctly released

Changes by Andreas Baumgaertner:
- TRACER (messy_main_tracer_bi.f90): adaption of tracer_init for
  unstructured CESM1 grid

Changes by Franziska Frank:
- DDEP: bug-fix (lhs index corrected) in initialisation of X_predepvel

Changes by Patrick Joeckel:
- GRID (messy_main_grid_trafo_scrp.f90): bug-fix in soubroutine
  construct_input_surf_pressure (POINTER correctly NULLIF(Y)ied)
- NCREGRID: version modified from modified 1.4b to 1.5b

Changes by Franziska Frank:
- MECCA (messy_mecca_si.f90): bug-fixes:
  - moved setting of l_sync_H2O_[gp,lg] to mecca_init_tracer
  - calculation of tendency (if l_sync_H2O_gp) corrected

Changes by Patrick Joeckel:
- NCREGRID: bug-fix (if %col is not present) in messy_ncregrid_geohyb.f90
<<<TEST>>>:
- compilation on pa2 @ DLR with
  - (openmpi/1.10.3/lf95/8.10b)
  - openmpi/1.10.3/gfortran/4.9.4
  - openmpi/1.10.3/g95-dint32/0.93
  - openmpi/1.10.3/intel/16.0-2
  and running E5 setup successful
- CLOUDJ: syntax bug fix according to f95-standard (lf95):
  [..] replaced by (/../) in messy_cloudj_fjx_cmn_mod.f90 and
  messy_cloudj_cld_sub_mod

Changes by Astrid Kerkweg:
- IMPORT and IMPORT_GRID: option GRTF_ZNRG removed; modified files:
  messy_main_import_grid_bi.f90, /messy_main_import_grid_tools_bi.f90,
  messy_main_grid_trafo.f90, messy_main_import_grid.f90

<<<SNAPSHOT d2.52n2>>>

Changes by Andreas Baumgaertner:
- NCREGRID:
  - basemodel related preprocessor directives (HOMMESE) removed from SMCL;
    modified files: messy_ncregrid_control.f90, messy_ncregrid_diag.f90,
    messy_ncregrid_geohyb.f90

Changes by Astrid Kerkweg:
- CHANNEL:
  - messy_main_channel_bi.f90:
    - bugfix, re-activate allocation of global pointer before gather_gp
      and scatter_gp in bi_decompose for COSMO and CESM1 models
  - messy_main_channel_io.f90:
    debug write statement added to print name of output object for
    I_VERBOSE_LEVEL >=50
- TRACER, PTRAC: reduce output of set_tracer_properties to p_io
- IMPORT_GRID: delete debug-call PRINT_NARRAY

Changes by Astrid Kerkweg:
- MMD: code clean-up for official release; modified files:
  - mmdc_parent.c, mmdc_util.h, mmd_handle_communicator.f90, mmd_test.f90
    mmd_utilities.f90
- MMD2WAY: code clean-up for official release; modified files:
  - messy_mmd2way_child_si.f90, messy_mmd2way_parent_si.f90

<<<SNAPSHOT d2.52n1>>>

Changes by Patrick Joeckel:
- IMPORT_GRID (messy_main_import_grid_bi.f90):
  - terminate with error message, if ZNRG or NGRD is used for CESM1

Changes by Astrid Kerkweg:
- DATA (CESM1): new object decomp_gp_pe
- TRACER (messy_main_tracer_bi.f90):
  - tracer initialisation for unstructured grids revised
- MPI (CESM1): additional subroutine scatter_gp1 in messy_main_mpi_bi.f90
- GRID and IMPORT_GRID:
  - parallel processing for unstructured grids (CESM1)
  - modified files:
    messy_main_grid_bi.f90, messy_main_import_grid_bi.f90,
    messy_main_import_grid_tools_bi.f90, messy_main_grid.f90,
    messy_main_grid_tools.f90, messy_main_grid_trafo.f90,
    messy_main_grid_trafo_nrgd.f90, messy_main_grid_trafo_scrp_base.f90,
    messy_main_grid_trafo_scrp.f90, messy_main_import_grid.f90,
    import_grid.f90

******************************************************************************

messy_d2.52n (17 Jan 2017)

Changes by Holger Tost and Patrick Joeckel:
- SCAV (messy_scav_si.f90):
  - initialize %evafrac with zero
  - NULLIFY pxtp1 after deallocation
  - initialize (local) pxtp1 with zero
  - bug-fix (undefined values incm) in subroutine evapo_cloud
  - special case for (.NOT.!) MECCA_TAG (keeping pxtm1) removed,
    since it is not required

Changes by Franziska Frank and Patrick Joeckel:
- MECCA (messy_mecca_si.f90): H2O synchronisation (with q) revised
  (only active, if MECCA_TAG is on!); additional MESSYTENDENCY handle
  my_handle_corr for this case

<<<SNAPSHOT d2.52m9>>>

Changes by Patrick Joeckel:
- dau-ngrade.tcsh updated
- CLAMS:
  - modifications required to make clamschem and clamscheme5
    (easily) removable for official release:
    - CLAMSCIRRUS (messy_clamscirrus_si.f90): coupling to CLAMSCHEME5 revised
      to channel - coupling
    - asad_gfirst moved from messy_clamschem_global.f90
      to messy_clams_global.f90 in order to decouple CLAMSMIX;
      modified USE in files:
      messy_clamschem_asad_cdrive.f90, messy_clamschem_si.f90,
      messy_clamsmix_si.f90
    - CLAMSBMIX (messy_clamsbmix_si.f90): coupling to CLAMSCHEME5 revised
      to channel - coupling
    - messy_clams_si.f90, messy_clamsbmix_si.f90: additional directives
      for removing clamschem and/or clamscheme5
      (!!#D clamschem +/. and !!#D clamscheme5 +/-)
    - CLAMSTRAJ (messy_clamstraj_si.f90): USE_CLAMSCHEM, USE_CLAMSCHEME5
      removed

Changes by Franziska Frank:
- MECCA: bug-fix, if MECCA_TAG is defined (moved END IF statement)

<<<SNAPSHOT d2.52m8>>>

Changes by Patrick Joeckel:
- MESSY:
  - new file messy/bmil/messy_main_control_bi.f90 which includes
    messy_main_control_<BM>.inc for legacy basemodels
    ECHAM5, COSMO, CESM1.
- MECCA:
  - gas.tex: update of I_SCAV for CH3SO3H, DMSO, BrCl, BrNO3

Changes by Franziska Frank:
- MECCA_TAG: modified files:
  - tag_ICH4.cfg, tag_IH-mim1.cfg, imcom.inc: adjust molar masses to those of
    messy_main_constants
  - imtag_cfg_si.f90: DEBUG2 option for ratio of tracers
- SCAV: bug-fixes for MESSYTENDENCY and MECCA_TAG application;
	note: the order of calclatation must always be:
	 - calculate t+1 value
	 - calculate new tendencies (xtte_scav)
	 - update tendencies for MECCA_TAG tracers (xtte_scav)
	 - add new tendencies (xtte_scav) to overall tendencies

Changes by Holger Tost:
- SCAV: update for I_SCAV species container consistent treatment

Changes by Rolf Sander:
- MECCA:
  - xmecca, tracdef.awk, gas.tex: define H2O tracer for MECCA_TAG

Changes by Patrick Joeckel:
- MECCA (SMIL):
  - enable feedback to specific humidity (q), although H2O tracer
    is present (in case of MECCA_TAG)
  - snchronize H2O tracer with specific humidity in this case
- VISO: update: correction for maps of objects in GP_3D_INT represenation
- TRANSFORM (messy_main_transform_bi.f90):
  - add optional parameters to gather_glix and scatter_glix in order
    to avoid internal broadcasts
- CHANNEL:
  - new subroutine copy_channel_object_atts to copy all atrributes
    from one channel object to another
  - messy_main_channel_bi.f90: add optional parameters to gather_glix
    and scatter_glix in order to avoid internal broadcasts
- TOOLS: quick_sort algorithm added
- VAXTRA: new submodel for vertical axes transformations

Changes by Sabine Brinkop:
- VISO: max. number of maps increased form 200 to 300

Changes by Franziska Frank:
- PTRAC: bug-fix (XTRAC(i)%trs(k) instead of trs(k) in call to get_tracer)

Changes by Patrick Joeckel:
- messy/util: some (not yet fully established) scripts renamed
  from <script> to x<script> to clarify that these are to be called
  explicitely by the user
- WARNINGS updated
- DIRSTRUCT updated
- YAXT implementation update from Joerg Behrens (DKRZ):
  - ECHAM5(2x):
    - mo_echam_yaxt.f90, mo_real_timer.f90, mo_timer.f90, mo_tpcore.f90,
      mo_transpose.f90
- zip.sh: *.d files excluded from being zipped
- Makefile.in: *.d files removed for *clean targets

Changes by holger Tost:
- GMXE:
  - bugfixes for emission flux assignment
     - new emission types added
- CLOUD:
  - bugfix for tendencies (scheme 4,5)
  - WARNING added to cloud_scheme (6) (contrail cirrus), check whether
  time integration is as intended.

<<<SNAPSHOT d2.52m7>>>

Changes by Patrick Joeckel:
- UBCNOX: ubcnox_free_memory added

Changes by Stefan Versick:
- UBCNOX: new submodel (upper boundary condition NOx)

Changes by Patrick Joeckel:
- CLOUDJ: Makefile.m for MBM (gmake mbm)
- CONTROL (CESM1, COSMO): calls of CLOUDJ entry points

Changes by Rolf Sander:
- CLOUDJ: new photlysis submodel
- DIRSTRUCT: updated
- new documentation/howto-newsubmodel: Updated documentation "How to
  write a new MESSy submodel"
- CAABA: updates

Changes by Mattia Righi:
- CLOUD (messy_cloud_si.f90): fix for restart independence
   (lrestreq=.TRUE. for cloud_tm1)

Changes by Hella Garny:
- RELAX: new submodel
  The submodel RELAX optionally calculates Newtonian cooling, i.e. relaxes the
  temperature towards a given equilibrium temperature with a given relaxation
  time scale and Rayleigh friciton, i.e.  relaxes horizontal winds towards
  zero with a given damping coefficient. The submodel is used to run EMAC as
  idealized model.

Changes by Sebastian Ehrhart
- new MBM nucleation to be in future used to extend gmxe

Changes by Patrick Joeckel:
- GRID (messy_main_import_grid_bi.f90):
  - set my_rank = p_pe in subroutine IMPORT_GRID_INITIALIZE

<<<SNAPSHOT d2.52m6>>>

Changes by Franziska Frank:
- TENDENCY:
  - update and new function mtend_checkreg to query, if a specific submodel
    has registered a specific tendency for change
- H2OISO:
  - update; chemical q-tendency (CH4 or MECCA) for H2OISOHHOvap
  - coupling to E5VFIFF
  - messy_h2oiso_cloud.f90: several _dp added
  - messy_h2oiso_convect.f90: REAL added for consistency with dp
- CONVECT (messy_convect.f90): several _dp added
- CH4: update; iso_integrate_gp correted with CH4 tendency
- TRSYNC: update and bug-fixes

Changes by Andreas Baumgaertner:
- CESM1: update
- CHANNEL (messy_main_channel_c[esm]1.inc): lrestreq=.TRUE. for some objects
- TRACER (messy_main_tracer_bi.f90): updates for CESM1
- messy/util/se2fv_regrid.ncl: update

Changes by Mariano Mertens:
- CHANNEL (messy_main_channel_repr.f90): fast reorder for 3241
- JVAL (messy_jval_si.f90): bug-fix for REPR_JV_AER_4D in COSMO

Changes by Theodoros Christoudias and Michalis Alvanos:
- prototype scripts for running MECCA (KPP) on NVIDIA GPUs with CUDA:
  - see messy/util/HOWTO_RUN_MECCA_ON_GPUS.txt
  - messy/util/kpp_integrate_cuda_prototype.cu
  - messy/util/f2c_alpha.py

<<<SNAPSHOT d2.52m5>>>

Changes by Patrick Joeckel:
- WARNINGS updated
- VERTEX: preprocessor directive ECHAM5 removed
- CHANNEL:
  - renames include files / links
     messy_main_channel_c1.inc   ->     messy_main_channel_cesm1.inc
     messy_main_channel_cm.inc   ->     messy_main_channel_cmat.inc
     messy_main_channel_e5.inc   ->     messy_main_channel_echam5.inc
     messy_main_channel_i2c.inc  ->     messy_main_channel_int2cosmo.inc
    and modified messy_main_channel_bi.f90 accordingly
- config/mh-linux-64: updates for LF95 on pa2 @ DLR
- xmessy_mmd: corrected NPROCA, NPROCB settings for MBM_MPIOM
- Makefile.in
  - MPIOM removed from list of basemodels (now available as MBM)
  - MPIOMVERS saved in variable
- configure.in (configure):
  - --enable-MPIOM option removed
  - --enable-HAMOCC option removed
- mbm/mpiom/Makefile.m:
  - F90DEFS0 inherited from master Makefile
  - additional libraries
- CHANNEL (messy_main_channel_bi.f90):
  - modifications for MBM_MPIOM
  - cleanup / revison of subroutine bi_decompose
- MPI (messy_main_mpi_bi.f90):
  - modifications for MBM_MPIOM
  - 1st cleanup and revision
- MBM_MPIOM:
  - messy_mpiom_e5.f90: finish replaced by error_bi
  - modifications in main.mk
- CAABA (messy_mecca_box.f90, messy_traject_box.f90): wrong delimiters
  after WRITE(*,*) statements removed

Changes by Andrea Pozzer:
- Makefile.in : inclusion of ctags for tags creation for vim.
- ECHAM5(5.3.02):
  - physc.f90: coupling to MPIOM removed, now entirely via A2O and HD
- CHANNEL
  - messy_main_channel_bi.f90: extensions for MBM_MPIOM
- DATA
  - messy_main_data_bi.f90: extensions for MBM_MPIOM
  - several chanel objects for atmosphere ocean coupling moved to A2O
- GRID:
  - messy_main_grid_bi.f90: empty MAIN_GRID_INIT_MEMORY for MBM_MPIOM
    (grid definition in messy_mpiom_e5.f90)
  - messy_main_grid_trafo_scrp_base.f90:
    max_subseg increased by factor of 10
- IPORT (messy_main_import_rgt_bi.f90): extension for MBM_MPIOM
- messy_main_ppd_bi.inc: extension for MBM_MPIOM
- SWITCH (messy_main_switch_bi.f90): extension for MBM_MPIOM
- TRACER (messy_main_tracer_bi.f90, messy_main_tracer_pdef_bi.f90):
  - extension for MBM_MPIOM
  - tracer for MBM_MPIOM (not stricly necessary without HAMOCC)
- CONTROL (ECHAM5): call new entry points a2o_init_memory and hd_init_coupling
- A2O:
  - revised coupling (moved from physc.f90) via channel objects
  - namelist files a2o.nml changed accordingly
  - new entry point a2o_init_memory
  - messy_a2o_e5.f90: bug nproma/ngpblks fixed
- HD:
  - revised coupling (moved from physc.f90) via channel objects
  - new entry point hd_init_coupling
- xmessy_mmd:
  - mpiom lowercase as "box model", addition of NPX/NPY for MPIOM in setup
- MPIOM:
  - messy_mpiom_e5.f90, messy_mpiom_tools_e5.f90:
    - initialisation from restart files now possible for MPIOM via namelist
      (new istart option 4 available, filename to be given , see SP-oce-01)
    - added NPROCA/NPROCB in mpiom namelist (all namelists changed accordingly)
  - MPIOM as box model (preprocessor directive MBM_MPIOM)
   - new subdirectory /mbm/mpiom
   - new messy_main_control_mpiom.f90, messy_main_channel_mpiom.inc

Changes by Sergey Gromov:
- SCAV:
  - messy/mbm/scav/mechanism/xscav_l: 2 new options
  - messy/smcl/messy_cmn_gasaq.f90,
    messy/mbm/scav/mechanism/aqueous.eqn, messy/mbm/scav/mechanism/aqueous.spc,
    messy/mbm/scav/mechanism/gas.spc:
    - soluble organics of MOM included:
    - add_species, add_henry and add_alpha modified including
      all MOM species. add_dryreac NOT added for MOM species.
      Piruvic acid (CH3COCO2H) included already -> commented in MOM part
      glycolaldehyde (HOCH2CHO) included already -> commented in MOM part
    - aqueous.eqn : MOM species added with label Mom + Henry's number power
      (i.e. H1H2H3H4H5H6H7) for selecting minimum Henry's number for scavenging.
      Piruvic acid (CH3COCO2H) included  by but commented ->
      present in MOM part
      glycolaldehyde (HOCH2CHO) included by but commented ->
      present in MOM part
      Piruvic acid (HOCH2CHO) included also by Holger but commented.
    - aqueous.spc :
      Piruvic acid (CH3COCO2H) included already -> commented in MOM part
      glycolaldehyde (HOCH2CHO) included already -> commented in MOM part
    - gas.spc : added missing species of MOM
- KPP1 (messy/tools/kpp1/src/gdata.h): MAX_SPECIES increased to 1000 to
  include MOM mechanism in scav

Changes by Vlassis Karydis and Alexandra Tsimpidi:
- GMXE:
  - new &CTRL namelist switch l_oracle for coupling to ORACLE
  - messy_gmxe_si.f90: inclusion of ORACLE defined species in the
    internal matrix
- ORACLE (smil,smcl,nml): compatible with arbitrary organic chemical mechanism

Changes by Patrick Joeckel:
- configure.in (configure): preprocessor directive MPI removed and
  replaced by 'not NOMPI'; affected files:
    ./messy/bmil/messy_main_channel_bi.f90
    ./messy/bmil/messy_main_mpi_bi.f90
    ./messy/bmil/mo_mpi.f90
    ./messy/mbm/clams/smcl/messy_clamschem_asad_dummy.f90
    ./messy/mbm/cmat/smcl/earth/messy_cmat_climatologies.f90
    ./messy/mbm/ncregrid/src/messy_ncregrid_base.f90
    ./messy/mbm/ncregrid/src/messy_ncregrid_mpi.f90
    ./messy/smcl/messy_main_grid_mpi.f90
    ./messy/smcl/messy_main_grid_netcdf.f90
- MBM: VERTICO, SPE, QBO, NCREGRID, DISSOC, GWAVE, BLANK
  - main.mk: set NOMPI directive explicitely
- TOOLS: meteodiag
  - main.mk: set NOMPI directive explicitely

Changes by Christopher Kaiser:
- SCAV: some additional comments in messy_scav_inter.f90

<<<SNAPSHOT d2.52m4>>>

Changes by Astrid Kerkweg:
- MMD2WAY_PARENT: error message for 2-way coupling

Changes by Mariano Mertens:
- TEMIS: update

Changes by Christopher Kaiser:
- Makfile.in: new target 'forceall' to force recompilation of everything
  (after touching messy_main_constants_mem.f90); this is e.g. required to
  update the revision number
- messy_main_constants_mem.f90, configure.in (configure), Makefile.in:
  - if GIT, SVN or MERCURIAL are used, the current revision number
    is appended to the MESSy version string
- SCAV:
  - coupling to MECCA_TAG and TENDENCY cleaned up
- CLOUD: update in MADE3 cloud coupling
- MADE3:
  - update to 3.0
  - documentation/made3 with doxygen

Changes by Patrick Joeckel:
- WARNINGS updated
- IMPORT: new sub-submodel IMPORT_LT for lookup-tables
- all import*nml updated (with empty &CTLR_LT namelist)

Changes by Patrick Joeckel:
- JVAL/JVST:
  - apply modifications (see below) of JVAL also in JVST
  - save optical properties of internal aerosol in channel objects
  - clarify long names of aerosol optical property objects
    (... of JVAL internal aerosol ...)

Changes by Mariano Mertens:
- CONTROL (ECHAM5): mmd2way_init_coupling moved before scalc_init_coupling

Changes by Holger Tost:
- GMXE:
  - bugfixes for EQSAM4CLIM implementation
    (now reasonable aerosol water, results to be tested/evaluated)
  - bugfix for aerosol water attached to organic carbon
- CLOUD:
  - bugfix(es) for coupling to aerosol parameters
- JVAL:
  - jval_si: new representations adapted for COSMO, EMAC, CESM1
- AEROPT:
  - aeropt_si: new representations adapted for COSMO & CESM1

Changes by Patrick Joeckel (thanks to Duy Cai):
- messy/util/locate_f90.sh(.in): new case with path to compiler wrapper mpif90
  (now tools are compiled (again) without linking MPI)

Changes by Astrid Kerkweg:
- TRACER , PTRAC: get_tracer_set_info: optional argument l_enabled added;
  required because of crash in PTRAC for not enabled tracer sets ...
- CHANNEL: avoid output of parallel decomp table for RANK = 0

Changes by Hiroshi Yamashita:
- AIRTRAF: new submodel for on-line flight traffic calculations
- TOOLS_GA: new tool (genetic algorithm for optimisation)
- CHANNEL (messy_main_channel_repr.f90): additional CASE in FAST_REORDER

Changes by Andreas Baumgaertner and Patrick Joeckel:
- E5VDIFF:
  - joined SMIL file for ECHAM5 and CESM1
  - xtte, xtm1 local copies replaced by pointers

Changes by Andreas Baumgaertner:
- CESM1: updates

Changes by Franziska Frank and Patrick Joeckel:
- H2OISO: check for e5vdiff instead for vdiff

Changes by Mariano Mertens and Christopher Kaiser:
- SCAV: bug fix; allocataion/deallocation of pointer

Changes by Domenico Taraborrelli:
- config/mh-linux-64, xmessy_mmd: updates for jureca @ JSC

Changes by Christopher Kaiser, Mariano Mertens, and Patrick Joeckel:
- SCAV (messy_scav_si.f90, messy_scav_inter.f90):
  dimensioning of process variable revised to allow correct application
  with rank identifiers for various basemodels

Changes by Patrick Joeckel:
- messy/util/ptrac_convert.tcsh revised; all ptrac*nml* recreated
  (original namelist files with suffix -orig)
- messy/util/edecomp.tcsh: script to provide possible NPY x NPX parallel
  domain decompositions for ECHAM5 and EMAC (still under construction)

******************************************************************************

messy_d2.52m (31 Aug 2016)

Changes by Patrick Joeckel:
<<<TEST>>>:
- compilation on pa2 @ DLR with openmpi/1.10.2/gfortran/4.9.4,
  openmpi/1.10.2/g95-dint32/0.93, openmpi/1.10.2/intel/16.0-2
  successful

Changes by Lisa Bock:
- CLOUD:
  - additional parameterisation (CLOUD_PARAM == 6), which is
    Lohmann et al.,(2010) plus the CMod parameterisation of Bock et al.,(2016)
  - modified files: messy_cloud_si.f90, messy_cloud_lohmann10.f90,
    messy_cloud_mem.f90
- CONTRAIL
  - additional entry point contrail_convec, which calls contrail_physc
- CONTROL (ECHAM5): call of contrail_convec
    (thus the calculations is performed twice per time step; this is
    currently required due to conflicting interests ...)

Changes by Andreas Baumgaertner:
- CESM1:
  - update of Makefile.in
  - modified files: atm_comp_mct.F90
- CHANNEL (CESM1): updates
- DATA (CESM1): updates
- GRID: updates for unstructured / curvilinear grids, modified files:
  messy_main_grid_bi.f90, messy_main_grid_trafo_scrp.f90
- TRCER: update of subroutine TRACER_INIT for unstructured / curvilinear grids
- SURFACE:
  - new main entry point surface_global_start (for CESM1)
- VERTDIFF update: messy_vertdiff_cam_c1.f90
- IMPORT: updates for unstructured / curvilinear grids, modified files:
  - messy_main_import_grid.f90

Changes by Christopher Kaiser:
- SCAV (messy_scav_inter.f90): updates for MADE3 coupling
- MADE3: update

Changes by Mattia Righi:
- CLOUD:
  - added coupling to MADE3
  - added two new (optional) &CTRL namelist parameters (rset_ccraut and
    rset_ccsaut) to overwrite tuning parameters
  - SI: new subroutine set_cloud_parameters (for all parameterisations)
    replacing aero_activ_initialize (for Lohmann07)
  - extended cloud parameterisation (Kuebbeler et al., ACP, 2014)

Changes by Patrick Joeckel:
- CESM1:
  - libsrc/pio/Makefile.m: workaround for know bug in gfortran 4.9.x compiler
    (https://gcc.gnu.org/bugzilla/show_bug.cgi?id=47023)
- ECHAM5(2x) YAXT (mo_echam_yaxt.f90): exclude combined POINTER and
  INTENT attributes with preprocessor directive LF for lf95 8.1b
- CLAMS:
  - messy_clamsrdfrc.f90: POINTER and INTENT attributes are not allowed
    at the same time (E5_ZETA)
  - messy_clamssedi_si.f90, messy_clamstraj_si.f90:
    workaround for g95 and gfortran also for lf95
  - messy_clams_tools_interpolreg.f90: workaround for lf95 8.1b compiler
    (function ISNAN explicitly defined)
  - messy_clamschem_asad_svode.f90: CHARACTER syntax for MSG corrected
  - messy_clamschem_asad_blas.f90: PREC renamed to xPREC, because it exists
    twice (compiler lf95 8.1b complained)
<<<TEST>>>:
- compile with YAXT on pa2:
  - gfortran 4.9.4: compilation successful, E5 setup runs on 2 nodes
  - gfortran 4.8.1 fails, due to a know bug:
    https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53945
- ECHAM5(2x) mo_control.f90:
  set lyaxt_transposition = .TRUE. as default, if YAXT is
  available; it still can be switched off at run-time via this
  namelist parameter in ECHAM5*nml &RUNCTL!
- mh-linux-64: YAXTROOT on pa2 @ DLR and mistral @ DKRZ

Changes by Rolf Sander:
- messy/util/mddiff: update

Changes by Joerg Behrens (DKRZ):
- YAXT library for parallel decomposition and exchange; modifid fieles
  - configure.in (configure): new option --enable-YAXT
  - Makefile.in: YAXTROOT, YAXT_INCLUDE, YAXT_LIB, YAXT_DEF
  - ECHAM5:
    - runctl.inc: new &RUNCTL namelist parameter lyaxt_transposition
      (default: .FALSE.); needs to be set in all ECHAM5*nml
    - Makefile.in
    - mo_call_trans.f90, mo_control.f90, mo_decomposition.f90,
      mo_tpcore.f90, control.f90, inictl.f90, initialize.f90,

Changes by Sergey Gromov:
- xmessy_mmd: settings for buran-cluster @ IGCE

******************************************************************************

messy_d2.52l (25 Aug 2016)

Changes by Rolf Sander:
- for details of JVAL updates, see messy/mbm/jval/CHANGELOG
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- JVST: option to read external aerosol optical properties (same as
  implemented by H. Tost for JVAL)
- mh-linux: old computer bromine removed
- mh-linux-64, xconfig: new computer fluorine added
- Makefile: compiler options updated for mbms CAABA, MECCA, and JVAL

Changes by Patrick Joeckel:
- PTRAC: clean-up with forcheck
- TRACER: removal of chemprop/messy_main_tracer_chemprop.inc excluded from
  target distclean, because otherwise gmake check after gmake distclean and
  configure fails
- JVAL: additional SMCL parameter l_export_to_smil to fix an issue with
  pointers (to aerosol properties) that are only associated, if JVAL is
  run 3D ...
- TRACER:
  - use chemical prperties also in new_tracer_old

******************************************************************************

messy_d2.52k (24 Aug 2016)

Changes by Sergey Gromov:
- config/mh-linux-64: jrl for Juelich and Buran Cluster added
- MECCA_TAG:
  - update of messy/tools/tag/* messy/nml/MOM/*
- TRACER:
  - messy/bmil/messy_main_tracer_pdef_bi.f90: added units for passive
    prod./loss tracers
- DDEP:
  - messy_ddep_si.f90: change for FO17H2SO4
- messy/util/zip.sh ignore .git/ directory

Changes by Rolf Sander:
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- messy/util/xmessy_mmd*: old computer "bromine" replaced by new
  computer "fluorine"

Changes by Domenico Taraborrelli and Rolf Sander:
- new values for R_henry in gas.tex: H2SO4=1.3E15, NH3=1.02E4, SO2=2.45E5

Changes by Patrick Joeckel:
- PTRAC:
  - completely revised with new namelist syntax (this was required,
    since the containers for chemical properties are now semi-dynamically
    generated!).
  - all namelist files modified accordingly
  - messy/util/ptrac_convert.tcsh: script to convert old ptrac-namleist files
    which are not in the distribution
- TRACER:
  - chemical properties modified to keep old container
    numbers (e.g., R_molarmass instead of MAX_CASK_R_PROCESS+R_molarmass)
  - STRLEN of all CASK-names unified to 15

Changes by Rolf Sander:
- TRACER:
  - implementation of chemical properties:
    - new subdirectory messy/mbm/tracer/chemprop
  - merged with TRACER container concept

Changes by Patrick Joeckel:
- TRANSFORM (messy_main_transform_bi.f90): _MPI_ALLGATHER deactivated
  (due to bad scaling ...)
- CONTROL (CESM1): calls to mmdserv removed
- MBM qbo:
  - L_IS_CLIENT replaced by L_IS_CHILD
  - SWITCH: mmdsrv and mmdclnt removed

Changes by Astrid Kerkweg:
- MMDCLNT / MMDSERV:  removed  (=> remove all namelists)
- MMD2WAY make fit for 1-way coupling
- configure.in: option --enable-I2CINC202 removed
- MMD / MMD2WAY :
  - more consistent naming of PARENT and CHILD
  - mmd_partest removed
- COSMO  / CHANNEL
  - reset_accu_COSMO_elements removed, BUT channel objects kept to
    enable restart identity
- preprocessor directives COSMOv4s8 and I2CINC202 removed
- COSMO4.8_clm17 / INT2LM_1.10_clm14 removed
- TIMER: public subroutine  write_date_debug for debugging purposes added
- CONTROL (COSMO): calls to MADE3 added
- namelists cleaned up

******************************************************************************

messy_d2.52j (15 Aug 2016)

Changes by Patrick Joeckel:
- <<<TEST>>: MECCA and SCAV mechanism recreated; compilation (all, mbm, tools)
  with g95 (v0.93) and gfortran (4.8.1), both with OpenMPI (1.8.4) on lx134
  (./configure --enable-E5SGHOST --enable-MESSYTENDENCY --enable-MPIOM
    --enable-CESM1 --enable-HAMOCC --enable-COSMO --enable-I2CINC
    --enable-MESSYMMD)
- RAD and RAD_FUBRAD (SMIL):
  - _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- CESM1:
  - messy_main_channel_c1.inc: additional channel objects for cloud_si
- CLOUD
  - (SMIL):  _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
  - MBM repaired (kappa and sup_sat_scheme defined with dummy values)
- AEROPT (SMIL): _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- CLOUDOPT (SMIL): _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- SCAV:
  - no3 -> hno3 in scav_global_end (for coupling to ATTILA)
- JVAL: set version number to 15
- AEROPT (messy_aeropt_input.f90): bug-fix (syntax) in string continuation
  line
- moved modifications (due to links) from RC1-base-07 as modified files to GLYX
- WARNINGS updated
- all aeropt*nml: added default entry (F) at position 13 of READ_AERO_SETS
  (i.e., no calculation for photolysis rates)

Changes by Holger Tost:
- GMXE refurbished and updated
   - new structure, flexible number of modes
   - smilified and moved from e5 to smil
   - new control options via set of namelists
     (old include file removed)
   - cleaned up code from old EQSAM3 parts
   - new submodel layer core files
     - new sub-submodel EQSAM4CLIM (still to be tested)
   - new SOA subsubmodel
   - new kappa calculations
- SCAV updates due to MADE3 coupling
   - substantial code modifications thanks to Christopher Kaiser
   - still very similar results compared to old code (not binary identical)
   - reactions for oxalate chemistry included (as comment) in aqueous.eqn and
     gas.spc and aqueous.spc (kpp1 files)
   - NO3(m) photolysis changed to HNO3 photolysis rate instead of NO3
- CLOUD:
   - substantial code modifications due to MADE3 coupling
   - new code option (Kuebbeler et al, 2014), coupled to both MADE3 and GMXE
       thanks to Mattia Righi, Johannes Hendricks and Christopher Kaiser
   - changes in messy_cloud_droplet, e5, cesm, and messy_cloud_lohmannXX files
   - new file messy_cloud_kuebbeler.f90
- AEROPT:
   - new option to calculate aerosol properties for JVAL
      (hardcoded on JVAL wavelength bands), selectable via namelist
     changes in almost all AEROPT files (see RAD paper of S. Dietmueller)
- JVAL:
   - option to read external aerosol optical properties, e.g. from AEROPT
     instead of internal climatology, changes in smcl and smil files
- main_ppd_inc:
   - new rank identifier added
- messy_cmn_aqattr.f90
   - new species added (required for GMXE)
- messy_cmn_gasaq.f90
   - new species added (for oxalate chemistry)
- messy_main_constants_mem.f90
   - new species molar mass added
- new namelist scenario CCMI/GLYX includes the current set of namelists with
  all updates required to run aerosol simulations after all changes in the
  code

******************************************************************************

messy_d2.52i (15 Aug 2016)

Changes by Patrick Joeckel:
- messy/util/usediagram.tcsh: new script to visualise USE dependencies
  of a MESSy submodel (see script header for more explanation)
- messy/bmil/specific.mk, messy/echam5/smil/specific.mk,
  messy/smcl/specific.mk: updated with corrected linux(64) compiler options
  for G96, GFORTRAN, INTEL, LF
- mh-linux-64 and xmessy_mmd:
  updates for OpenMP threading on pa2 @ DLR and mistral @ DKRZ (experimental!!!)
- TRANSFORM (messy_main_transform_bi.f90):
  - new preprocessor directive _MPI_ALLGATHER (default is defined)
    to replace gather / bcast by allgather_field in
    trp_gpdc_gpgl_[4d,3d,2d](1, ...)
- MPI
  - messy_main_mpi_bi.f90: USE allgather_field
  - messy/bmil/mo_mpi.f90: subroutine p_allgather_real_3d2d added
- ECHAM5
  - new module mo_tr_allgather.f90 with MPI allgather_field of grid-point
    fields (2d, 3d, 4d)
- IMPORT_TS (messy_main_import_ts_bi.f90): memory cleaned (deallocates added)
- IMPORT_GRID (messy_main_import_grid_bi.f90): added deallocate to free_memory

Changes by Christopher Kaiser:
- H2O: bug-fix (non-allocated field after restart) for TENDENCY
- TENDENCY: error message in main_tendency_reset for unregistered tracers
  (Note that this is called from scan1 before messy_global_start and therefore
   before the mtend_add_[l,g] ...)

Changes by Stergios Misios:
- GWAVE:
  - advanced options in Hines parameterisation (latitude dependent rmscon)
    with additional (optional!) namelist parameters;
    mainly to generate a QBO in coupled atmosphere (L90MA) - ocean
    simulations; see nml/EXAMPLES/gwave_AL90MA_O.nml

Changes by Patrick Joeckel:
- DDEP:  register tracers for MESSYTENDENCY correctly (for predefined
  deposition velocities)
- xmessy_mmd: extension for running MPI/OpenMP hybrid jobs in pa2 @ DLR
- configure(.in), mh-linux-64: new option --enable-OPENMP for hybrid
  (OpenMP/MPI) parallelistion; EXPERIMENTAL! DO NOT USE!
- CH4: memory leak fixed
- TRSYNC:
  - memory leak fixed
  - compilation restriced to #ifdef ECHAM5 (q from main_data_bi is not
    available from COSMO, CESM1, ...)
- ECHAM5 (scan1.f90): exclude messy_local_start, gpc etc.
  from OpenMP parallelisation

Changes by Franziska Frank:
- TENDENCY: improved error messages, if tracers are not registered
- TRSYNC: update
- CH4: bug fix in emprical formula for CH3D oxidation
- ONEMIS: bug-fix for MESSYTENDENCY implementation; tracers are now registered
  in initialize (init_coupling is too late!)

Changes by Theodoros Christoudias:
- KP4 (create_kpp_module.C): added openMP directives (within
  preprocessor directive _MESSY_OPENMP) to use hybrid parallelisation
  in subroutine kpp_integrate

Changes by Huug Ouwersloot:
- E5VDIFF: USE of az0 removed
- VERTEX: update

Changes by Patrick Joeckel:
- OFFEMIS: bug-fix for MESSYTENDENCY (mtend_register must be called
  from init_memory)
- xmessy_mmd: adaption for phase 2 of mistral @ DKRZ
- CLAMS:
  - all SMIL files: compile content only for ECHAM5 and/or MBM_CLAMS
    (with compiler directives); otherwise COSMO, CESM1 etc. will not
    compile anymore (due to too many ECHAM5 specific connections of CLaMS)
  - bug fixes: messy_clamssedi_si.f90: .d0 replaced by ._dp to avoid
    type conversion error reported by the gfortran compiler
  - bug fixes (MODulo, format specifier, etc. re-applied, see below)
  - messy_clamstraj_si.f90:
    compiler error workaround for gfortran/g95 with gcc backend < 4.9.0

Changes by Nicole Thomas:
- CLAMS:
  - preprocessor directives in SMCL removed and replaced by formal parameters
- CONTROL (ECHAM5):
  - calls to clams* entry points added

******************************************************************************

messy_2.52h (27 June 2016)

Changes by Patrick Joeckel:
- messy/nml/README.txt updated
- WARNINGS updated
- all ECHAM5*nml: &GWSCTL, &PHYSCTL, &RADCTL, &POSTCTL removed
> snapshot 3:
- <<<TEST>>>:
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > binary identical results compared to snapshot 2 in same setup
- <<<TEST>>>:
  - openmpi/1.8.4/gfortran/4.8.1 on lx134 @ DLR
     - echam5.3.02   compiles also configured with --disable-MESSY
     - echam5.3.02   compiles (RUNMODE=DEBUGOPT and E5 (T21L19) setup runs
     - echam5.3.02_c compiles (RUNMODE=DEBUGOPT and E5 (T21L19) setup runs
- CONSTANTS: cvdifts added
- H2OISO, E5VDIFF: USE of cvdifts from messy_main_data_bi replaced by
  USE from messy_main_constants_mem
- messy/util/update_restart.tcsh: script to create restart files for
  e5vdiff, orogw, mlocean (from ECHAM5 and g3b) and to update nudg restart file
- CHANNEL (ECHAM5, messy_main_channel_e5.inc): lcolumn eliminated
- DATA (ECHAM5, messy_main_data_bi.f90):
  - lcolumn eliminated
  - lipcc replaced by PARAMETER (.FALSE.)
- OROGW:
  - lgwdrag locally defined
  - channel objects: gworo_du,gworo_dv,gworo_dt,gwlif_du,gwlif_dv,gwlif_dt
- DATA (ECHAM5.3.02):
  - lgwdrag, gworo_du,gworo_dv,gworo_dt,gwlif_du,gwlif_dv,gwlif_dt
    removed
- new basemodel subdirectory echam5.3.02_c (clean) with obsolete
  src- and module-files moved to subdirectories OBSOLETE
  (this does NOT longer compile, if configured with --disable-MESSY !)
  - exclude parts of code (#ifdef OBSOLETE)
    - RUNCTL (runctl.inc): some obsolete switches removed;
      - inictl.f90, mo_time_control.f90, mo_control.f90, stepon.f90,
	mo_sst.f90, clsst.f90, mo_memory_g3b.f90, mo_grib.f90,
	mo_netcdfstream.f90, ioinitial.f90, init_decomposition.f90,
	stepon.f90, scan1.f90, control.f90, gpc.f90, initemp.f90, labrun.f90
    - DYNCTL (dynctl.inc): diagdyn, diagvert removed
    - setdyn.f90: diagdyn, diagvert
    - dyn.f90: mo_column
    - init_decomposition.f90: mo_column
    - clsst.f90: mo_column
    - mo_geoloc.f90: iaero, io3 and corresponding stream elements (mo_radiation)
    - mo_io.f90: slm_glob removed (mo_couple)
    - mo_memory_g3b.f90: pointers for ocean and hd coupling
    - mo_netcdfstream.f90: write_tracer_header (mo_tracdef)
    - control.f90:
      - init_amip2_diag (mo_diag_amip2)
      - couple_init (mo_couple)
      - init_aero, cleanup_aero (mo_aero_tanre)
      - io3, iaero (mo_radiation)
      - init_hydrology, cleanup_hydrology (mo_hydrology)
      - cleanup_o3clim (mo_o3clim)
      - cleanup_so4 (mo_so4)
      - l_diagrad
      - inipost
      - mo_column
    - gpc.f90:
      - ml_flux (ml_flux)
      - intaero, lso4
    - initialize.f90:
      - init_ghg (mo_greenhouse_gases)
      - ighg (mo_radiation)
      - lso4 (mo_control)
      - read_so4nat, read_so4all (mo_so4)
      - setphys
      - mo_column
    - ioinitial.f90:
      - cvarmin (mo_cloud) replaced by local PARAMETER (!!!)
	(needs to be checked, if xvar is still needed)
      - slm_glob (mo_couple)
    - labrun.f90
      - mo_param_switches
    - physc.f90:
      - collect_amip2_diag (mo_diag_amip2)
      - mo_column
    - scan1.f90:
      - amip2_global_diag (mo_diag_amip2)
      - print_diag_radiation (mo_diag_radiation)
      - ighg (mo_radiation)
      - interpolate_ghg (mo_greenhouse_gases)
      - interpolate_solmon (mo_solmon)
      - mo_diag_dynamics
      - mo_column, l_diagdyn (mo_time_control)
    - setphys.f90:
      - mo_cumulus_flux, mo_convect_tables, mo_cloud
    - physctl.inc removed
    - columnctl.inc removed
    - stepon.f90:
      - mo_couple, mo_hydrology, subjob, savehis
    - mo_time_control.f90: RADCTL, DYNCTL
  - consistently completed (with #ifndef MESSY):
    - iniphy.f90: cuparam (mo_cumulus_flux), sucloud (mo_cloud)
    - initialize.f90: setgws
    - physc.f90: mo_radiaton, mo_cloud, mo_hydrology, mo_diag_radiation,
		 mo_tropopause, lgwdrag (mo_param_switches)
> snapshot 2 (echam5.3.02)
- <<<TEST>>>:
  - compiles also configured with --disable-MESSY
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > binary identical results compared to snapshot 1 in same setup
- PHOTO: USE of albedo from messy_main_data_bi replaced by get_channel_object
  (rad, albedo)
- JVST: updates according to JVAL updates
- JVAL, JVST (only #ifdef ECHAM5): USE of albedo from messy_main_data_bi
  replaced by get_channel_object
  (rad, albedo)
- DISSOC: USE of albedo from messy_main_data_bi replaced by get_channel_object
  (rad, albedo)
- RAD: USE of alsol and albedo from messy_main_data_bi (and calculation of it)
       removed; E5VDIFF couples via get_channel_object (rad: alsol, albedo)
- E5VDIFF:
  - USE of alsol and albedo from main_data replaced by get_channel_object
    to channel rad
- LNOX: bug-fix in tracer registration for TENDENCY
  (thanks to Christopher Kaiser)
- messy/util/update_restart.tcsh: script to create restart files for
  E5VDIFF, OROGW and MLOCEAN from g3b and ECHAM5
- CONTROL (ECHAM5.3.02)
  - call of orogw_init_memory
- MLOCEAN:
  - amlcorac, amlheatac removed
  - channel object amlheat added (not accumulated)
- OROGOW:
  - new main entry point orogw_init_memory
  - ustrgw, vstrgw, vdisgw converted to local channel objects
- DATA (ECHAM5.3.02):
  - USE of amlcorr, amlcorac, amlheatac (from g3b) removed
  - USE of alsol (from g3b) removed
- ECHAM5.3.02
  - mo_aere_gads.f90: function aero_gads4 deactivated (#ifdef MESSY)
  - ml_flux.f90 (called from gpc): completely deactivated (#ifdef MESSY)
  - intaero.f90 (called from gpc): completely deactivated (#ifdef MESSY)
  - mo_memory_g3b.f90:
    - ustrgw, vstrgw, vdisgw removed (#ifdef MESSY)
    - amlcorr, amlcorac, amlheatac removed (#ifdef MESSY)
    - tsurf, runtoc, runlnd, acvtype, rtype removed (#ifdef MESSY)
    - abso4, so4nat, so4all removed (#ifdef MESSY)
    - alsoi, alsow, alsol removed (#ifdef MESSY)
    - awhea, awsol, awfre, awust, awvst, awsta, aicon, aiqre, aifre,
      aiust, aivst removed (#ifdef MESSY)
    - aros, adrain, disch, apmecal removed (#ifdef MESSY)
    - albedo, alsol removed (#ifdef MESSY)
  - mo_memory_g3a.f90:
    - ustrgwm, vstrgwm, vdisgwm removed (#ifdef MESSY)
    - tsurfm, runtocm, runlndm removed (#ifdef MESSY)
    - albedom removed (#ifdef MESSY)
  - ioinitial.f90:
    - ustrgwm, vstrgwm, vdisgwm removed (#ifdef MESSY)
    - amlcorr, amlcorac, amlheatac removed (#ifdef MESSY)
    - tsurfm, runtocm, acvtype, rtype removed (#ifdef MESSY)
    - abso4, so4nat, so4all, tropo removed (#ifdef MESSY)
    - alsoi, alsow, alsol removed (#ifdef MESSY)
    - aros, adrain, disch, apmecal removed (#ifdef MESSY)
  - physc.f90:
    - rtype & itype removed
    - abso4, so4nat, so4all removed (#ifdef MESSY)
> snapshot 1
- <<<TEST>>>:
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > results independent of restart frequency
  - > binary identical results compared to 2.52g in same setup
- STEP 1 OF CLEANUP OF MEMORY MANAGEMENT
  NOTES: 1) "accumulated" variables have been removed, since accumulated
	     or time averaged output can be requested in channel.nml
	 2) as done for E5VDIFF, it needs to be done for SURFACE and MLOCEAN
  - RAD: USE of emter from messy_main_data_bi (and calculation of it) removed;
	 E5VDIFF couples via get_channel_object (rad01, emter)
  - E5VDIFF:
    - accumulation removed
    - l_heatflux (=ahfl) and s_heatflux (=ahfs) removed
    - e5vdiff_global_start: initialize (if lstart) az0w,i,l according to
      ioinitial.f90
    - finish replaced by error_bi
    - pointers and channel objects removed: t2max, t2min,
      ahfslac, ahfswac, ahfsiac, ahfllac, ahflwac, ahfliac, evaplac,
      evapwac, evapiac
    - pointers to external channel objects (init_coupling):
      - ocu (g3b), ocv (g3b), az0 (g3b), emter (rad01)
    - all get_channel_object to g3b (init_coupling) replaced by
      new_channel_object (init_memory); ahfll, ahfsl added
    - USE to messy_main_data removed and replaced by local channel objects:
      ocu, ocv, az0l, az0w, az0i, az0hl,  az0hw, az0hi, wet_tmp, tke,
      ahfsw, ahfsi, ahflw, ahfli, evapl_2d, evapw, evapi, evapot_2d,
      emter, wind10_2d, wind10w_2d
  - H2OISO:
    - USE of wet_tmp and evapot_2d from messy_main_data_bi replaced
      by local pointers set via get_channel_object to E5VDIFF
  - MLOCEAN:
    - coupling to channel objects modified (basemod replaced by E5VDFIFF or
      VERTEX): ahflw, ahfsw, ahfli, ahfsi, evapi
  - SURFACE:
    - coupling to channel objects modified (basemod replaced by E5VDFIFF or
      VERTEX): ahflw, ahfsw, ahfli, ahfsi, evapi, evapot_2d, evapl_2d
  - CONTROL (ECHAM5 5.3.02): call of main_data_init_coupling
  - DATA (ECHAM5 5.3.02):
    - USE (of mo_memory_g3b) removed:
      - ahflw, friac, ahfli, az0, az0w, az0i, az0l, az0hw, az0hi, az0hl,
	tke, ocu, ocv, emter
    - object references removed:
      g3b: ahfli, ahflw, az0, az0w, az0i, az0l, az0hw, az0hi, az0hl
    - modified pointers / channel objects:
      - wind10_2d, wind10w_2d removed
      - evapl_2d, evapot_2d removed
      - ahfsw, ahfsi, evapi, evapw, wet_tmp removed
      - l_heatflux, s_heatflux removed
      - new pointers with channel object references (as indicated) for
	- E5VDIFF: ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi
	  (these are still USEd by physc.f90 for the hydrology-collect for
	   A2O; it needs to me changed in the future and should be moved to
	   A2O directly)
	- E5VDIFF: wind10, az0 (USEd in AIRSEA, ONEMIS, ...)
	- E5VDIFF: tke (USEd in CLOUD, ...)
	- g3b: ocu, ocv (USEd in A2O, ...)
	- DATA (E5): s_heatflux (ahfs), l_heatflux (ahfl) (USEd in CONVECT)
      - new entry point main_data_init_coupling to define above mentioned
	channel object references
  - ECHAM5(5.3.02):
    - mo_memory_g3b.f90: removed (#ifdef MESSY)
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- az0hi, az0hw, az0h (have been added previously for E5VDIFF)
	- temp2, dew2, wind10, vdis, ustr, vstr, ahfs, evap, ahfl, wind10w,
	  tke, tkem, tkem1, ustri, vstri, ustrw, vstrw, ustrl, vstrl, ahfli,
	  ahflw, ahfll, t2max, t2min, wimax, friac,
	  ahfsiac, ahfswac, ahfslac, ahfliac, ahflwac, ahfllac, evapiac,
	  evapwac, evaplac,
      - obsolete due to modularistion of radiation -> RAD
	- srads, trads, srad0, trad0, srad0u, sradsu,
	  tradsu, srafs, trafs, sraf0, traf0, emtef, trsof, emtef0,
	  trsof0, srad0d, trfllac, trflwac, trfliac, sofllac, soflwac, sofliac,
	  tradl, sradl, trafl, srafl, emter, trsol
    - mo_memory_g3a.f90: removed (#ifdef MESSY)
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- temp2m, dew2m, wind10m, vdism, ustrm, vstrm, ahfsm, evapm, ahflm,
	  wind10wm, t2maxm, t2minm, wimaxm,
      - obsolete due to modularistion of radiation -> RAD
	- sradsm, tradsm, srad0m, trad0m, srad0um, sradsum, tradsum,
	  srafsm, trafsm, sraf0m, traf0m, emtefm, trsofm, srad0dm, emterm,
	  trsolm
    - ioinitial.f90:
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- vdism, ustrm, vstrm, ahfsm, evapm, ahflm, wind10m, temp2m, dew2m,
	  t2maxm, t2minm, wimaxm, tkem, tkem1, az0w, az0i, az0l, ahfswac,
	  ahfsiac, ahfslac, ahflwac, ahfliac, ahfllac, evapwac, evapiac,
	  evaplac, friac, ustrw, ustri, ustrl, vstrw, vstri, vstrl, wind10w
      - obsolete due to modularistion of radiation -> RAD
	- sradsm, tradsm, srad0m, trad0m, srad0um, tradsum, sradsum,
	  srad0dm, trfllac, trflwac, trfliac, sofllac, soflwac, sofliac,
	  emterm, trsolm
      - physc.f90
	- USE (from messy_main_data) removed:
	  - ahfsi, evapl_2d, evapot_2d,
	- USE (from messy_main_data) added: (for A2O collector ...)
	  - ahflw, ustri, vstri, ustrw, vstrw
	- mo_memory_g3b related removed:
	  - zhfsi, zhfli, zevapl, evapot, friac
	- call of collect_amip2_diag removed (#ifdef MESSY)
- messy/bmil/specific.mk and messy/smcl/specific.mk:
  exclude messy_main_import* and messy_main_grid* from compiler run-timne
  checks (for performance reasons!); !!! needs to be activated !!!
- configure.in (configure): check for qhull library
- MTSKIP (messy_mtskip_si.f90): error message for LF compiler; SIZE in
  INQUIRE is not allowed according to Fortran95 standard
- OROGW (messy_orogw_si.f90): restrict to ECHAM5 with preprocessor directive
- GWAVE:
  - tendency handle renamed (gwave instead of gwspect); handle and
    registration correctly placed
  - global SAVE added to SMCL module
- TENDENCY:
  - all tendency*nml updated (ssodrag -> orogw; gwspect -> gwave)
  - handles and registration for ssodrag, vdiff and gwspect removed
- messy/nml/README.txt updated
- WARNINGS updated
- messy/util/dau-ngrade.tcsh updated
- update of all switch*nml and links to orogw.nml

Changes by Roland Eichinger:
- ECHAM5 (5.3.02):
  - physc.f90: call to ssodrag excluded via MESSY preprocessor directive
- OROGW: new submodel replacing the ECHAM5 ssodrag routine for
  orographic gravity waves

Changes by Patrick Joeckel:
- messy/util/fname2trig.tcsh, trigadjust.tcsh: bug-fixes
- CLOUDOPT: new CTRL-namelist parameter loice to switch between
  ice cloud emissivity after Ebert and Curry (1992) (TRUE, default) and
  ice cloud emissivity after Rockel et al. (1991) (FALSE)
- nml/LG/AIRTRAC/WECARE:
  - all scalc*.nml: added option 1 for call from global_start
  - all cloudopt*.nml: loice = F
  - all import*.nml adapted to current state (naming convention)

Changes by Christine Froemming:
- CONTROL (ECHAM5): call sequences adjusted to meet the needs of CONTRAIL and
  AIRTRAC
- CONTRAIL: update

******************************************************************************

messy_2.52g (20 May 2016)

Changes by Patrick Joeckel:
- CH4:
  - missing broadcast of CPL namelsit parameter l_ef_re added
  - LG part modified according to GP modifications

Changes by Franziska Frank:
- CAABA/MECCA:
  - 4 additional initial SCENARIOS added
- MECCA:
  - CCMI-base-02-ISO_nmo.bat updated
  - nmo.rpl and mim1-CCMI-base-02-ISO_nmo.rpl updated
  - tag_FHM.cfg, tag_IH.cfg, tag_IH.src updated
  - new CCMI-base-02-ISO_nmo.tex
- new submodel TRSYNC to synchronize water isotopologue tracer between
  hydrological cylcle and chemistry:
  - CONTROL (messy_main_control_e5.f90):
    - change order of h2oiso_physc and mecca_physc
    - add trsync: trsync_init_memory, trsync_init_coupling, trsync_physc(flag),
		  trsync_init_tracer, trsync_initialize
  - SWITCH (messy_main_switch.f90): USE_TRSYNC   = .false.
- CH4:
  - messy_ch4_si.f90
    - ch4_new_tracer: rename HDO tracer to HDO
    - HDO will always be created, if isotopologues are requested via namelist
    - changed hdo_molarmass into REAL(DP)
    - added KIE for photolysis rate
    - added optional empirical formula from Eichinger et al (2015)
  - messy_ch4.f90
    - added KIE for photolys rate
- H2OISO:
  - messy_h2oiso_e5.f90:
    - excluded chemistry completely (changed h2oiso.nml accordingly)
    - typo line 290 corrected
    - corrected setting of molarmass in h2oiso_new_tracer around line 398
      => implemented array of molarmasses (line 152)
    - delta-value calculation removed

Changes by Mariano Mertens:
- TAGGING: update

Changes by Benedikt Steil:
- MTSKIP: update with fixes/features for correct restarts

Changes by Patrick Joeckel:
- TOOLS/strato3bud: modified to work alternatively with qm1 instead of H2O
- E4CHEM: equipped with MESSYTENDENCY and commented lines cleaned up
- MTSKIP: mtendmtskip_q handling also for MECCA
- MECCA (messy_mecca_si.f90): new CPL-namelist switch i_H2O_feedback
  for (direct) feedback of chemical water vapour production on specific humidity
- TENDENCY: error message, if tracers have bot been registerd
- DIUMOD: bug-fixes for compilation with MESSYTENDENCY
- messy/util/dau-ngrade.tcsh updated
- ECHAM5 (5.3.01) finally removed
- messy/nml/README.txt updated
- WARNINGS updated
- all tendency.nml updated
- E5VDIFF: corrections for MESSYTENDENCY usage
- updates of all *switch*nml and links to (empty) e5vdiff.nml

Changes by Huug Ouwersloot:
- new (currently empty) submodel VERTEX (as upoming alternative for E5VDIFF)
- new submodel E5VDIFF (modularisation of ECHAM5 vdiff):
  - ECHAM5 (5.3.02 only!):
    - mo_memory_g3b.f90: additional pointers az0hi, az0hw, az0hl
    - physc.f90: call to vdiff excluded via MESSY preprocessor directive
    - vdiff.f90: modifications for MESSy removed
  - DATA (ECHAM 5.3.02, VERTICO):
    - new pointers and channel objects rho_surf, evapw
    - channel object references to (g3b) az0hw, az0hi, az0hl
    - long-name and unit correction of cdh
  - SWITCH: new switches for E5VDIFF and VERTEX
  - CONTROL (ECHAM5): calls to E5VDIFF entry points
  - MXL (messy_mxl_si.f90): pointers xim1 and xlm1

Changes by Patrick Joeckel:
- MPI (messy_main_mpi_bi.f90): additional realisation p_allgather_3d2d
  of p_allgather

Changes by Astrid Kerkweg:
- MBM IMPORT_GRID (import_grid.f90, messy_main_grid_trafo_scrp.f90): bug-fixes

******************************************************************************

messy_d2.52f (05 Apr 2016)

Changes by Patrick Joeckel:
- INT2LM (int2lm_150611_2.02_messy):
  - src_namelists.f90:
    - internal preprocessor directive __F95__ to exclude Fortran2003 IOMSG
      extension of READ; currently the directive is set for g95 (__G95__)
      and Lahey/Fujitsu (LF)

Changes by Mariano Mertens:
- OFFEMIS: error message, if namelist settings are incomplete

Changes by Christopher Kaiser:
- TOOLS: SUBROUTINE spec2relhum_q corrected

Changes by Patrick Joeckel:
- ONEMIS: security check implemented in init_coupling; if TAGGING is active
  only emission method M=1 works (NO, C5H8) correctly

Changes by Andreas Baumgaertner:
- CESM1: several updates for MESSy couling; modified files:
  atm_comp_mct.F90, fv/dp_coupling.F90, se/dp_coupling.F90,
  se/inidat.F90, se/restart_dynamics.F90,
  messy_main_channel_c1.inc, messy_main_control_c1.f90
- DATA (CESM1): updates
- IMPORT_GRID: updates for unstructured grids; modified files:
  messy_main_grid_bi.f90, messy_main_import_grid_bi.f90,
  messy_main_import_grid_tools_bi.f90, import_grid.f90,
  messy_main_grid.f90, messy_main_grid_tools.f90, messy_main_grid_trafo.f90,
  messy_main_grid_trafo_scrp_base.f90, messy_main_grid_trafo_scrp.f90,
  messy_main_import_grid.f90,
- TRACER: tracer initialisation for CESM1
  (messy_main_tracer_bi.f90, messy_main_tracer.f90)
- CESM1-SMIL files (check, if to be merged with _si-files!) for
  - AEROPT: messy_aeropt_c1.f90
  - RAD: messy_rad_c1.f90
  - VERTDIFF: messy_vertdiff_cam_c1.f90
- DDEP: messy_ddep_si.f90 updated
- PTRAC: messy_ptrac_si.f90
- SEDI: messy_sedi_si.f90
- messy/util/se2fv_regrid.ncl update
- messy/util/yam.tcsh: update

Changes by Mariano Mertens and Astrid Kerkweg:
- CONTROL (ECHAM5):
  - call of rad_init_coupling after scalc_init_coupling
  - call of scalc_global_end at end of global_end

Changes by Astrid Kerkweg:
- GRID_BI: include special case for geo-graphical coodinates in regional model.
- IMPORT_GRID_BI, IMPORT_GRID_TOOLS_BI:
     bugfix, enable 3-D fields (x-y-nparam) with parameter axis /= Nx2D fields.
     itype = 6 introduced
- IMPORT / GRID: label for easier debugging of SCRIP grid calculations added
- GRID (SMCL): error message added
- CHANNEL_E5.inc:
  - new representation GP_1D_ILEV defined

Changes by Patrick Joeckel:
- E4CHEM:
  - new CPL namelist switch I_ice_feedback (default: 1) to disable (0)
    feedback to ice (xi)
  - new CPL namelist switch I_H2O_feedback (default: 0) to enable feedback
    to specific humidity
- all namelist files corrected according to file naming convention:
  (netCDF files renamed, links with old names created for
   backward compatibility)
  - X_DLR1.0_X_sfmr_c100ppt_01-12.n -> X_DLR1.0_X_sfmr_c100ppt_X-X.n
  - Bell_2002_X_all_CH3I_20001-200012.n -> Bell_2002_X_all_CH3I_200001-200012.n
  - RETRO_v2DLR1.0_X_anth_CO_20001-200012.n ->
    RETRO_v2DLR1.0_X_anth_CO_200001-200012.n
  - WOA_MPIC1.0_clim_C5H8_200001-200012.n ->
    WOA_MPIC1.0_clim_X_C5H8_200001-200012.n
  - X_X_X_X_VOC_X-X.n -> X_X_X_X_VOC_01-12.n
  - X_X_X_X_NO_X-X.n -> X_X_X_X_NO_01-12.n
  - X_X_X_X_NOemisclass1_X-X.n -> X_X_X_X_NOemisclass1_01-12.n
  - X_X_X_X_NOemisclass2_X-X.n -> X_X_X_X_NOemisclass2_01-12.n
- WARNINGS updated
- SCALC:
  - scalc_integrate (formerly scalc_global_end) is now called
    from scalc_global_start and scalc_global_end; namelist parameter
    extension (integer) at end of CALC(.): calculate in global_start (1),
    in global_end (2, default), in both (3)
  - all *scalc*.nml updated
- MESSy2_CHANGELOG updated

******************************************************************************

messy_2.52e (01 Feb 2016)

Changes by Rolf Sander:
- MECCA: update of gas.tex (NCPDKETENE added)

Changes by Patrick Joeckel:
- xmessy_mmd, config/mh-linux: updates for pa2 @ DLR
- VERTICO: main.mk updated
- NML-setups: dead links removed

Changes by Franziska Frank and Sergey Gromov:
- MECCA_TAG:
  - updates and new configuration files (see messy/tools/tag/CHANGELOG)
  - bug-fix for setting links to tag files correctly

Changes by Patrick Joeckel:
- KP4: updates to re-enable vectorised solvers
- MECCA (messy_mecca_box.f90): workaround to re-enable vectorised solvers

Changes by Rolf Sander:
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- CPP conditional MECCA_TAG for vertico mbm
- messy/util/validate: individual, basemodel-specific log-files to avoid
  overwriting

CHANGES by Domenico Taraborrelli and Rolf Sander:
- gas.tex: R_Henry value of N2O5 changed from 1E4 to 1E14 (bug fix)

******************************************************************************

messy_d2.52d (11 Feb 2016)

Changes by Sergey Gromov:
- MECCA:
  - gas.spc: some corrections in LaTeX labels
  - update, DBL removed
  - all batch-files updated

Changes by Sergey Gromov and Patrick Joeckel:
- MECCA:
  - gas.tex: duplicate entries removed ('C1ODC2O2C4OOH', 'C1ODC3O2C4OOH'
    'C33CO', 'CO23C3CHO', 'HOCH2COCHO', 'HOCH2COCO2H')
  - xmecca, *.bat:
    - hidden feature to select kpp controlfile (kppctrlfile) via batch-file
    - hidden feture to ignore the checks via batch-file (ignorecheck)

Changes by Rolf Sander:
- messy_mecca_dbl_si.f90 and messy_mecca_dbl_si.f90-zero: PRIVATE DP added
- mbm/mecca/mecca.f90: CALL initialize_kpp_variables cannot be removed,
  it must be replaced by CALL initialize
- MECCA: several bug-fixes for polyMECCA
- jvpp_step3.f90, jvpp/dat_lit/spectra/*.nml: meccanum renamed to eqntag
  because "equation tag" is the official KPP name
- kp4/bin/kp4.sh, kp4/templates/initialize_kpp_ctrl_template.f90 and
  mecca/template_messy_mecca_kpp.f90:
  - debugging subroutine check_kpp_input deleted again
- gas.tex: R_Henry value of HNO3 changed from 1E4 to 1E14 (bug fix)
- messy/util/site-lisp: new directory for emacs *.el files
- messy/util/site-lisp/mydiff.el: new file for analyzing the mddiff
  output with emacs

Changes by Sergey Gromov:
- ECHAM5 (5.3.02): correction of lookup error condition (INT -> NINT)
- DIUMOD: new submodel for calculating diurnal cylce modulation
- TRACER_PDEF: unit mol/mol/s (for rates) now recognised
- QTIMER: new time category "real" based on 2015-01-01 00:00:00
- SCAV:
  - correctly NULLify pointers in messy_scav_mem.f90 and messy_scav_si.f90
  - replaced DBLing by TAGging
- messy/tools/tagdbl replaced by messy/tools/tag
- CAABA:
  - scenarios renamed, some new with preprocessor selection
  - manual updated w.r.t to TAG

Changes by Klaus-Klingmueller, Marina Astitha and Astrid Kerkweg:
- ONEMIS: bug-fix in dust emission (subroutine dust_emissions_DU_Astitha1,2):
  gravimetric soil moisture wsgrav correctly calculated as percentage

Changes by Huug Ouwersloot:
- TROPOP: corrected  ricr=0.25_dp (instead of 0.30_dp) in subroutine pblheight
  according to Vogelezang and Holtslag (1996)

Changes by Rolf Sander and Patrick Joeckel:
- MECCA (messy/echam5/smil/specific.mk, messy/smcl/specific.mk):
  - replace option -nocheck by -WB (Intel Compilers) to activate
    run-time checks in DEBUG(OPT)-mode, but turn compile time errors
    on ind_* = 0 out-of-bounds messages into warnings

Changes by Patrick Joeckel:
- config/mh-linux-64: -O2 and -fp-model strict for all Intel compilers
- generate optimisation report files (*.optrpt) from Intel compiler; delete them
  and prevent them from being zipped; modified files:
  - libsrc/ifs/Makefile.m
  - libsrc/rttov7_synsat_vector/src/Makefile.m
  - Makefile.in
  - messy/mbm/cmat/advect/main.mk
  - messy/tools/meteodiag/main.mk
  - messy/tools/meteodiag/zipmeteodiag.tcsh
  - messy/util/zip.sh
  - config/mh-linux-64

Changes by Andrea Pozzer (thanks to Sergey Gromov):
- AIRSEA: bug-fix in airsea_calc_kl_sea (Liss & Merlivat)

Changes by Hendrik Merx, IBM (and for porting to 2.52 Sergey Gromov):
- ECHAM5 (5.3.02):
  - configure.in (configure), Makefile.in
    new option --enable-E5SGHOST for ECHAM5 SSCALABLE GHOSTING
    (allowing a higher degree of distributed memory parallelisation)
  - mo_decomposition.f90, mo_tpcore.f90: equipped with E5SGHOST

Changes by Patrick Joeckel (thanks to Sergey Gromov):
- CHANNEL (messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90):
  - bug-fix: missing status check introduced after
    CALL (p)netcdf_write_attribute_list

******************************************************************************

messy_d2.52c (20 Oct 2015)

Changes by Patrick Joeckel:
- DDEP (SMIL):
  - included N_predepvel == 0 condition for switching off DDEP
    / terminating simulation
  - create channel (GP) if L_GP and L_LG are both false, but
    N_predepvel > 0
- config/mh-linux-64, xmessy_mmd: updates for mistral @ DKRZ
  Note: module for compilation need to be loaded in this order:
   intel/14.0.3 mxm/3.3.3002 fca/2.5.2379 bullxmpi_mlx/bullxmpi_mlx-1.2.8.3
- MECCA (messy_mecca_si.f90): bug-fixes in calls to kpromanlev_to_nbl

Changes by Rolf Sander:
- MECCA (messy_mecca_si.f90): bug-fix for polyMECCA

Changes by Patrick Joeckel (thanks to Daniel Kunkel):
- MADE3 (SMIL): bug-fix (corrected rank identifier for MESSYTENDENCY)
- MTSKIP (SMIL): bug-fix; currently pxtte is also required, if
  MESSYTENDENCY is used (for initial value calculation); this needs
  to be cleaned up

Changes by Daniel Kunkel:
- JVAL (SMIL): bug-fix (position of preprocessor directive MESSYTENDCY
  for l_feedback)

Changes by Mariano Mertens:
- DATA: additional pointers;
	calculation of CDH for calculation of PBLH in COSMO
- SCALC (SMIL):
  - unit check (WARNING to log-file)
  - new operator SUMGE0 for consecutive summation of objects
    as long as destination object is zero (< 1.e20)
- TEMIS:
  - update
- TROPOP (SMIL): calculate planetary boundary layer height according to two
		 different definitions for both, ECHAM5 and COSMO

Changes by Franziska Frank:
-DDEP: increase NMAX_PREDEPVEL to 250 (from 60)

Changes by Patrick Joeckel:
- MECCA (SMIL): bug-fix, if MESSYTENDENCY
- config/mh-linux-64: FCKLIBS updates for DLR-Cluster
- CH4: first steps towards a doxygen-based documentation
- VISO:
  - enable multiple calls to viso_init_coupling
  - additional check (for object name uniqueness) in viso_initialize
- CONTROL (ECHAM5, COSMO, CESM1): 2nd call to viso_init_coupling
- TRACER:
  - SMCL: - new subroutine set_tracer_properties and corresponding
	    type T_TRACPROP_IO with variable TPROP to overwrite
	    tracer meta information (container contents) via CTRL namelist
  - BMIL: - tracer_initilaize: broadcast TPROP components after CTRL read
	  - CALL set_tracer_properties from main_tracer_new_tracer(3) before
	    diagnostic output

******************************************************************************

messy_d2.52b (11 Aug 2015)

Changes by Patrick Joeckel:
- MBM VERTICO:
  - links to CHEMGLUE modules created (SMIL and SMCL)
  - CONTROL: calls to chemglue inserted
  - main.mk: create links to polymecca files automatically
- CONTROL (CESM1):
  - calls to chemglue inserted
  - missing calls to ch4 inserted
- CONTROL (COSMO): calls to chemglue inserted
- messy/util/xconfig: gmake mbm moved after creation of mechanisms
- CHEMGLUE: example namelist file (nml/DEFAULTS/chemglue.nml) corrected with
  known dummy parameters
- replaced TABs in all f90 files by 6 spaces
- MECCA
  - graphviz: deleted *.pdf files which have been replaced by mecca_*.pdf
  - mbm/mecca/mecca.f90: initialize_kpp_variables removed
  - gas.eqn: ZERODUMMY removed

CHANGES by Rolf Sander:
- CHEMGLUE and polymecca:
  - new files:
    - nml/DEFAULTS/chemglue.nml:
      - empty (dummy) namelist for CHEMGLUE
    - util/xmessy_mmd.POLYMECCA_test and nml/POLYMECCA/*.nml:
      - setup for testing POLYMECCA
    - smcl/messy_chemglue.f90:
      - declarations of MECCA batch files
      - subroutines that select a specific chemistry mechanism
    - smcl/messy_chemglue.inc:
      - info about mechanisms, created by xpolymecca
    - smil/messy_chemglue_si.f90:
      - put selected mechanism into meccanum_gp
    - xpolymecca:
      - new script that calls xmecca several times
    - mbm/caaba/mecca/template_messy_mecca_poly_si.f90:
      - dummy file used when polymecca is switched off
  - SMIL:
    - messy_mecca_si.f90:
      - l_polymecca is true when there is more than one chemical mechanism
      - If the CHEMGLUE channel object meccanum exists, it determines
	(via meccanum_gp) which MECCA mechanism ist used.
      - mecca_new_tracer_gp moved to messy_mecca_poly_si.f90
      - USE initialize from messy_mecca_kpp instead of
	initialize_kpp_variables from messy_mecca
      - messy_mecca_si.f90 USEs several subroutines and variables from
	messy_mecca_kpp.f90. Some are specific for each MECCA mechanism,
	some can be used for all:
	- deleted because they are not used:
	  NREACT, APN, REQ_AEROSOL, EQN_TAGS, EQN_NAMES
	- generic, same for all mechanisms:
	  DP, IHT_MAX, IHS_MAX, IP_MAX, jname
	- specific:
	  REQ_HET, NSPEC, REQ_PHOTRAT, kpp_integrate,
	  IERR_NAMES, fill_temp, fill_cair, fill_khet_Tr, fill_khet_St,
	  fill_jx, fill_press, ind_* (USEd without ONLY)
	- same for all mechanisms if the same nml file is used:
	  initialize_kpp_ctrl, l_fixed_step, nfsteps, icntrl, rcntrl,
	  t_steps
	- ignored or not important:
	  - kppoption (must be 4 anyway)
	  - rplfile, wanted, diagtracfile, gas_eqn_file, batchfile (only
	    diagnostic)
	- problem cases:
	    mr2c: without ONLY to get all ind_*
	    c2mr: without ONLY to get all ind_*
    - messy_mecca_aero_si.f90:
      - only cosmetic changes because polymecca does not work with l_aero
  - SMCL:
    - messy_main_switch.f90:
      - CHEMGLUE added
    - messy_mecca.f90:
      - mecca_aero="OFF" is not allowed anymore in mecca.nml file, see
	mecca_read_nml_ctrl (also changed in all /nml/*/mecca.nml)
      - subroutine initialize_kpp_variables removed (contents is now in
	subroutine initialize in messy_mecca_kpp)
      - new subroutines kpromanlev_to_nbl, nbl_to_nblx, and nblx_to_nbl
  - OTHER:
    - gas.eqn:
      - INTEGER :: ZERODUMMY introduced to avoid compiler errors
      - new F90_INIT inline code for tolerances atol and rtol
    - xmecca:
      - new parameter $2 is now $mecnum
      - old $mecnum from batchfile replaced by $submodel
      - if xmecca was started via xpolymecca, $submodel is based on the
	mechanism number
      - LaTeX produces mechanism pdf file that includes $submodel in
	its name, e.g. mecca002nism.pdf
      - xgraphviz and xgraphvizall produce pdf files that include
	$submodel in their names
      - if xmecca was not started via xpolymecca, all polymecca files
	are deleted, and dummy versions of messy_mecca_poly_si.f90 and
	messy_chemglue.inc are created
    - messy_mecca_box.f90 and mbm/mecca/mecca.f90:
      - USE initialize from messy_mecca_kpp instead of
	initialize_kpp_variables from messy_mecca
    - kp4/bin/kp4.sh, kp4/templates/initialize_kpp_ctrl_template.f90 and
      mecca/template_messy_mecca_kpp.f90:
      - debugging subroutine check_kpp_input added
    - bmil/messy_main_ppd_bi.inc:
      - #define _RI_CN_ :,jt
    - bmil/messy_main_switch_bi.f90:
      - CHEMGLUE added
    - echam5/bmil/messy_main_control_e5.f90:
      - CHEMGLUE added
    - util/validate and util/messy_check_04:
      - updated and CHEMGLUE added
    - tools/kp4/bin/kp4.sh and tools/kp4/bin/kp4.tcsh:
      - instead of using the directory def_mecca/, files are copied
	directly into the work directory tmp_workdir/
    - xgraphviz and xgraphvizall: variable $submodel added
  - new restriction for *.bat files: after changing "-" and "." to the
    underscore "_", the file names must be unique and valid Fortran90
    variable names
- xconfig:
  - updated and restructured
- messy_mecca_si.f90:
  - bug fix: fill_press added to SUBROUTINE update_physc_lg
- caaba.f90:
  - documentation with doxygen started (work in progress)
- mh-linux-64: afs path for FCKLIBS on hydra

CHANGES by Andrea Pozzer:
- mh-linux-64: commented out SPEC_LABLA_LIB, otherwise blas/lapack
  library are not compiled (although the path was empty)
  (Note by PJ: the issue was that there were tabs/spaces behind the "=")

CHANGES by Hella Riede:
- messy_jval_box.f90: bugfix, for details, see messy/mbm/caaba/CHANGELOG

Changes by Mariano Mertens, Astrid Kerkweg and Patrick Joeckel:
- CONTROL (ECHAM5, COSMO):
  - init_coupling: calls to individual submodels re-ordered according to
		   additional constraints

Changes by Patrick Joeckel:
- config/mh-linux.64: update of FCKLIBS for SuperMUC @ LRZ and hydra @ RZG
- messy/util/efchk: renamed to mfchk with updates and additional first
  parameter (basemodel)
- messy/util/lst2log.gawk: prepend .`basemodel`.log instead of .log
  (this is required, because BMIL and SMIL log files are overwritten
   otherwise, if more than one basemodel is configured)
- ECHAM5,COSMO,CESM1,MBM: Makefile.in: make target 'check' modified
  (efchk -> mfchk with additional first parameter

******************************************************************************

messy_2.52 (30 Jul 2015)

Changes by Patrick Joeckel:
- WARNINGS updated
- xmessy_mmd: updated for srun multi-prog command file (mistral @ DKRZ)
- DISSOC: integration into grid-point models (ECHAM5, COSMO) implemented;
  shared SMIL-file for GP models and MBM (the latter based on BLANK)
- Makefile.in: intera completely removed
- xmessy_mmd: updates for mistral @ DKRZ
- configure.in (configure): improved handling of PNETCDF library
- Makefile.in, zip.sh: remove / exclude *.i with distclean / from zipping
- mh-aix: update of PNETCDFROOT on blizzard
- mh-linux-64:
  - updates for mistral @ DKRZ
  - updates for lx*pa.op.dlr.de
- CHANNEL (messy_main_channel_netdf.f90, messy_main_channel_pnetcdf.f90):
  - added attribute _FillValue for CNT and CAV objects

Changes by Andreas Pfeiffer:
- CHANNEL: fix data and time attributes for parallel netcdf output
	   (avoid deviating attributes)
- IMPORT_GRID (messy_main_import_grid_bi.f90):

Changes by Astrid Kerkweg:
- IMPORT_GRID (messy_main_import_grid.f90, READ_CONTROL): bug-fix
- GRID_TRAFO:
  - REDUCE_INPUT_GRID: bugfix for modulo longitude axes
- GRID_TRAFO_SCRP:
  - rename COMPARE_TO_GRID to COMPARE_TO_SCRIPGRID
  - remove component name from structures t_scrip_grid and t_scrip_data (they
    are never used)
- Makefile.in: @MESSYGRID@ added
- IMPORT_TS mbm updated according to paper

Changes by Christine Froemming:
- CLOUDOPT: bugfix in option #const_tau; corrected output field
- CLOUD (messy_cloud_e5.f90): bug-fix for tendency calculation in
  case l_tf=F and MESSYTENDENCY

******************************************************************************

messy_d2.50x9 (10 Jul 2015)

Changes by Patrick Joeckel:
- MBM IMPORT_GRID
  - link names corrected: messy_main_grid_trafo_nrgd_base.f90 and
    messy_main_grid_trafo_nrgd.f90
  - src/Makefile: dependencies and f90-list updated
  - src/import_grid.f90: updated (change of variable names)

Changes by Astrid Kerkweg:
- GRID:
  - messy_main_grid_trafo_ncrg.f90 renamed to messy_main_grid_trafo_nrgd.f90
  - messy_main_grid_trafo_ncrg_base.f90 renamed to
    messy_main_grid_trafo_nrgd_base.f90
  - GRID_BI: add meaningful error message for off-line COSMO/MESSy simulations
  - GRID_BI: missing call clean_grihybgrid_list in free_memory added
  - messy_main_grid.f90:
    - new_geohybgrid_by_components: error stati 2008,2009 for
      "grids are equal" and "grid are not equal, but name exists" added
    - compare_to_grid: bugfix cross check for all grid components added
    - clean_geohybgrid_list: subroutine added
    - grid_error: meaning for error stati 2008, 3023 added
  - main_grid_netcdf.f90: rename variable index to idx in all QSRT_X subroutines
  - main_grid_tools.f90:
    - RGTOOL_CONVERT:
	 -remove OPTIONAL for var grid it was never optional,
	 - add test for rlonm, rlatm
    - aline_array, dealine_array:  moved here from messy_main_grid_trafo_scrp
  - main_grid_trafo.f90:
    - SWITCH_GEOHYBGRID: init additionally g%rl*
    - CHECK_NCVAR_ON_GEOHYBGRID: deallocate / nullify dims
  - main_grid_trafo_scrp.f90:
    - aline_array, dealine_array moved to grid_tools
    - renamed imask to lmask in type t_scrip_grid
    - geohyb2scripgrid:
      - bugfix: search curv-lin. fields if local llon and llat not yet defined
      - bugfix: error added for curvi-linear without mid-points defined
      - unused vdim setting removed
      - optional argument added: label for debug output
    - INIT_SCRIPGRID: bugfix: nullify added
    - locate_scripdata: parameter data removed (never used)
			remove OPTIONAL for pdata
    - calc_scrip_data: new generic name for scrip_data ('SD' instead od 'SG')
    - SCRIP_CONTROL:  gix, ggx, svari, qvaro not used. removed
- IMPORT:
  - IMPORT_GRID_BI:
    - bugfix for IXF regridding, ip initialisation added
    - missing call to import_grid_tools_free_memory added
  - IMPORT_GRID_TOOLS_BI: import_grid_free_memory renamed to
      import_grid_tools_free_memory
  - messy_main_import_grid_par.gf90, TRACER_BI: INIT_PNCREGRID renamed to
      INIT_PIMPGRID
  - IMPORT_TS: check for dimension length added
- ONEMIS: bugfixes Olson aerosol emissions
- messy_main_ppd_bi.inc: double entry for #define _RI_YZvr_ removed
- TRACER_BI: set xtf / pxtf for COSMO only if l2tls
- TRACER: setup_tracer_set: NULLIFY for trset(zid)%xt_tl added
- VISO / CONTROL:
  - subroutine viso_global_end added
  - optional argument jjrow added to subroutine viso_local_end
  - call viso_global_end instead of viso_local_end for COSMO

Changes by Christiane Hofmann:
- messy_main_grid_trafo_scrp_base.f90: reformulate loop interruption of
  iteration with TINY
- CONTROL, VISO, TROPOP: call viso_vdiff and tropop_vdiff in local_end for
   idealised test cases (ppd MESSYIDTC)

Changes by Patrick Joeckel:
- SWITCH: info of MESSYTENDENCY as global attributes
- xmessy_mmd (thanks to Andreas Baumgaertner)
  - RESTART_INTERVAL and RESTART_UNIT for timer.nml
  - updates for CESM1
- WARNINGS: updated
- ORBIT:
  - channel objects (_off) for orbit calculations with offset in time
  - new CPL namelist switch c_offset to set an offset in time for additional
    orbit calculations (default: 0.0)
- MTSKIP:
  - USAge of ORBIT replaced by offset calculation
  - mtskip_radiation moved to mtskip_local_start
    (the two entry points are equivalent, _radiation only exists
    for historical reasons (to be conform with the ECHAM5 call sequence)
  - channel object reference rjval -> rmecca (see explanation in code)
  - some (re-)initialisation moved to global_start for restart consistency
- VERTICO (messy_main_control_vertico.f90):
    - mecca_init_coupling called twice (1,2)
- CESM1 (messy_main_control_cesm1.f90)
    - mecca_init_coupling called twice (1,2)
- JVAL:
    - new CPL-namelist switch l_feedback (default: .FALSE.) to keep
      backward compatibility:
      - l_heating = .TRUE. calculates heating rates only diagnostically
      - l_feedback = .TRUE. modifies temperature tendency (requires
	l_heating = .TRUE.!)

Changes by Benedikt Steil:
- MTSKIP: new submodel allowing the skipping of submodel calculations at
  given time steps; currently only MECCA is equipped with it
  - new files: messy_mtskip.f90, messy_mtskip_si.f90
- TRACER (messy_main_tracer.f90): new integer container for MTSKIP
- MECCA (messy_mecca_si.f90):
  - equipped with coupling to MTSKIP
  - mecca_init_coupling needs to be called twice with flag = 1, 2
- JVAL:
  - feedback of heating rates to temperature tendency
  - equipped with MTSKIP

Changes by Roland Eichinger:
- H2OISO (messy_h2oiso_e5.f90): update with new options for sensitivity studies

Changes by Jens-Uwe Grooss:
- DISSOC:
  - new MBM for photolysis calculation
    (due to dependencies to CLaMS it is not yet complete!)
- messy_cmn_photol_mem.f90: 7 new species added

Changes by Patrick Joeckel:
- CHANNEL:
  - messy_main_channel_repr.f90 (subroutine FAST_REORDER): loops reordered
    to have optimal lhs memory access

Changes by Christopher Kaiser:
- MADE, MADE3: updates
- AEROPT: updates for coupling to MADE, MADE3

Changes by Patrick Joeckel and Holger Tost:
- GMXE (messy_gmxe.f90): changes introduced by BULL activated for all
  platforms; except usage of additional, bull-specific math library

Changes by Holger Tost:
- CLOUD (messy_cloud_e5.f90, messy_cloud_droplet.f90,
	 messy_cloud_lohmann10.f90):
   - changes (bugfixes) for heterogeneous freezing
   - correction of external supersaturation from GMXE

******************************************************************************

messy_2.50x8 (25 Jun 2015)

messy_d2.50x8 (25 Jun 2015)

Changes by BULL:
- xmessy_mmd:  updates for pitbull and mistral @ DKRZ
- mh-linux-64: updates for pitbull and mistral @ DKRZ
- GMXE (SMCL): various optimisations, mostly in preprocessor directive
- KPP (rosenbrock_mz.f90): loop fusion
- config.sub: new entries for bull system

Changes by Andrea Pozzer:
- AIRSEA: implementation of new parametrization for water side transfer
	  velocity (messy_airsea.f90, messy_airsea_si.f90, airsea.nml)

Changes by Holger Tost (thanks to Mattia Righi):
- CLOUD (messy_cloud_lohman10.f90): bug-fix of rhs indices of zapnx

Changes by Patrick Joeckel:
- CONVECT: CESM1 updates in messy_convect_c1.f90 transferred to
  common messy_convect_si.f90
- GWAVE: long_name and unit of dummy channel object reset
  (Note: When the parameters replaced by dummy are not required, it might
  be better to remove them also for ECHAM5 ...?)
- DATA (CESM1): new pointers for new channel objects

Changes by Andreas Baumgaertner:
- messy/util/fv2se_regrid.csh, fv2se_regrid.ncl, se2fv_regrid.csh,
  se2fv_regrid.ncl, yam.tcsh: updates
- GWAVE: dummy channel object for calling SMCL for CESM1
- DDEP, DRADON: updates of SMIL files (preprocessor directives for CESM1)
- configure.in (configure): updates of CESM1 specific options, F90NOO3 added
- config/mh-aix: F90NOO3 added
- config/mh-linux-64: updates for ys and pc10-612
- DATA: updates in CESM1 section
- MPI: updates for CESM1
- TRACER:
  - messy_main_tracer_bi.f90: some special rules for HOMMESE of CESM1
  - messy_main_tracer_pdef_bi.f90: preprocessor directives for CESM1 added

******************************************************************************

messy_2.50x7 (18 May 2015)

Changes by Patrick Joeckel:
- messy/util/xconfig: new option 'b' to compile MESSy Base Models
- STRATOBUD (main.mk): avoid coompilation of tagged/doubled mechanisms
  (reaction coefficients in MECCA are replaced by tag/dbl,
  so it does not work!)
- MBM VERTICO:
  - main.mk: set/remove links to mecca tag/dbl files automatically

Changes by Sergey Gromov and Patrick Joeckel:
- TAGDBL: imcom.inc: correct format (including _dp) for tracer molar mass
  output

Changes by Sergey Gromov and Franziska Frank:
- MECCA: updates of TAG/DBL (hydrogen isotope tagging added)

******************************************************************************

messy_d2.50x6 (06 May 2015)

Changes by Sergey Gromov:
- CAABA/MECCA: updates and bugfixes
  - TAG/DBL:
    - updates of xdbl, xtag due to modified xmecca
    - updates of pascal code
  - gas.eqn: added {@\myhline} everywhere
  - eqn2tex.awk: modifications for tagging
  - meccanism.tex: updated header
  - xmecca:
    - corrected calls to xdbl and xtag
    - corrected status tests
    - bug-fix for Ter
    - updates for tagging

Changes by Hella Riede:
- ECHAM5 (5.3.02 only): mo_nudging_buffer.f90: units corrected, all
  multiplied with 's'

******************************************************************************

messy_2.50x5 (05 May 2015)

Changes by Sergey Gromov:
- config/mh-linux-64: new entries for tonnerre@mpic
- xmessy_mmd: updates for tonnerre@mpic
- CAABA/MECCA:
  - TAG/DBL: updated for H-isotope, classes shifts
  - new init/emission scenario ISOH
  - messy_mecca_kpp.kpp: added new option for fixed species as comment
    (would be desirable to select this via batch file somehow)
  - messy_mecca.f90: indices ind_oh and ind_ho2 checked for zero in
    subroutine steady_state_reached
  - new batch file: isoh-strat.bat
  - new eqn file: gas_CH4-strat.eqn

Changes by Hella Riede:
- ONLEM/ONEMIS: correction of long_name attribute for OC_sum_sol and OC_soa_sol

Changes by Patrick Joeckel:
- keep intermediate files (*.i90) from Intel compiler (*.i90); delete them
  and prevent them from being zipped; modified files:
  - libsrc/ifs/Makefile.m
  - libsrc/rttov7_synsat_vector/src/Makefile.m
  - Makefile.in
  - messy/mbm/cmat/advect/main.mk
  - messy/tools/meteodiag/main.mk
  - messy/tools/meteodiag/zipmeteodiag.tcsh
  - messy/util/zip.sh
  - config/mh-linux-64
- CVTRANS:
  - modifications of new transport algorithm cleaned up:
    - in particular the calls to get_channel(_object) have been removed
      from the time loop and moved to init_coupling
    - modified logic around call of cv_transport to keep the vectorized call in
      classic mode
    - MESSy-non conform USE of other SM (TROPOP) removed; new namelist
      switch pblh for optional coupling to externally calculated
      boundary layer height (this must be set explicitly by the user,
      otherwise switching the diagnostic submodel TROPOP would alter
      the results ...)
    - syntax correction in new call to cv_transport (jl -> jl:jl) since
      arrays are required instead of scalars
    - block with new namelist entries in nml/DEFAULTS/cvtrans.nml
- TNUDGE:
  - revision of new feature for iso-surface vertical boundaries:
    - in particular the calls to get_channel(_object) have been removed
      from the time loop and moved to init_coupling
    - USE to mo_memory_g3b replaced by messy_main_data_bi
    - application of slf (sea-land fraction) for Lagrangian part
      corrected (slf is decomposed in grid-point space and needs to be made
      available globally on each PE)
    - example namelist (explaining new featuers) file in nml/EXAMPLES
- CONTROL (ECHAM5):
  - tnudge_init_coupling called after viso_init_coupling

Changes by Huug G. Ouwersloot:
- CVTRANS:
  - implementation of alternative transport algorithm
- TNUDGE:
  - new feature to use iso-surfaces (VISO, TROPOP) as vertical
    nudging boundaries
  - land-sea mask optionally used for nudging regions

Changes by Domenico Taraborrelli:
- KPP / KP4:
  - option for faster chemistry calculation by alternative time steping
    (integrator rosenbrock_posdef_h211b_qssa);
     - modified files:
       - ./messy/tools/kpp/src/gen.c : new function GenerateFun_Split()
       - kp4.sh
     - new files in ./messy/tools/kpp/int:
       rosenbrock_posdef_h211b_qssa.def, rosenbrock_posdef_h211b_qssa.f90

Changes by S. Schneider:
- A2O (messy_a2o_e5.f90), SURFACE (messy_surface.f90):
  - land-sea fractin corrected to fix for presence of lake
    near the coast

Changes by Christine Froemming and Patrick Joeckel:
- ECHAM5 (5.3.02 only):
  - mo_nudging_io.f90: bug-fix for cases when nudging start date is
    before model start date

Changes by Patrick Joeckel:
- configure(.in): update: use PNETCDFROOT as PNETCDF_PATH for pio library
- mh-linux-64: cleaned up; two host specific blocks merged
- updates for new Bull System pitbull / mistral @ DKRZ:
  - xmessy_mmd:
    - SLURM environment merged with that of FUB
    - new MSH_PENV environment 'srun'
  - all Makefile.in: datarootdir added
- xmessy_mmd:
  - MSH_PENV aprun_hlrn merged with existing aprun (with additional MPI_OPT)

Changes by Markus Kunze:
- mh-linux-64: updated for FUB computers
- xmessy_mmd: updates for SLURM batch scheduler, aprun_hlrn for Cray System
  at HLRN (Hosts nid*, bxcmom*); updates for hosts strat*,calc* (at FUB),
  soroban*, node* (at FUB)
- RAD (messy/smcl/messy_rad_short_cmn.f90):
  fix: deleted reinitialisation of ZSUN4(1) at line 363, as it overwrites
  the possible changes via namelist with the original default value.
- MLOCEAN (messy/echam5/smil/messy_mlocean_e5.f90):
  Changes necessary to be conform with new channel interface in the
  subroutines: mlocean_init_memory, mlocean_init_coupling.
  Cleaned the code: removed old commented statements related to streams, etc.

Changes by Christine Froemming and Patrick Joeckel:
- TREXP: introduction of two new "emission point types" 3 and 4,
  which behave the same as 1 and 2, respectively, but create
  additional channel objects (for each involved tracer) with
  the emissions (sum over all points of type 3 and 4)
- CONTROL (ECHAM5): move call to contrail_global_end after call to
  trexp_global_end

Changes by Mariano Mertens:
- CONTROL (ECHAM5 and COSMO): scout_init_coupling moved to the end
  of messy_init_coupling (to be able to scout MMD2WAY fields)

******************************************************************************

messy_d2.50x4 (01 Apr 2015)

Changes by Patrick Joeckel:
- MECCA (messy_mecca_khet_si.f90), MSBM (messy_msbm_si.f90),
  AIRTRAC (messy_airtrac_e5.f90), ATTILA (messy_attila_e5.f90),
  HETCHEM (messy_hetchem_e5.f90), MECCA1 (messy_mecca1_e5.f90),
  ONLEM (messy_onlem_e5.f90):
  some SAVE attributes added to poitner array variables
- TOOLS: pointer arrays nullified
- CHANNEL:
  - messy_main_channel_bi.f90 (2x): string length of EXP_NAME fixed to 14
    characters, subsequent underscore added to file-basename
- feature fix: suppress output of nudging channels (nudg, nudg_gp) outside
  the nudging time span; note that nudging memory (incl. stream) is
  deallocated at nudging stop-date; thus subsequent output of channel
  objects accesses not associated pointers ...
  - ECHAM5 (only 5.3.03!):
    - mo_nudging_constants.f90: new logical lnudg_out which is true, if
      nudging memory is allocated and thus output possible
    - mo_nudging_init.f90:
      - set lnudg_out according to state of nudging
      - fix output/rerun settings for ECHAM5 nudging stream (nudg_gp)
  - CHANNEL:
    - messy_main_channel_bi.f90 (ECHAM5 only): suppress channel output
      of channels nudg and nudg_gp (depending on lnudg_out)
    - messy_main_channel.f90:
      - new structure members (t_channel_int):
	- lrst_now (similar to lout_now)
	- lforce_rst, lsuppr_rst
      - subroutine set_channel_output: new optional parameter lrst
	to force/suppress restart output instead od standard output
      - subroutine trigger_channel_output: set lrst_now
    - messy_main_channel_io.f90: use lrst_now instead of lrst

******************************************************************************

messy_d2.50x2 (26 Mar 2015)

Changes by Patrick Joeckel and Mariano Mertens:
- CONTROL (ECHAM5, 2x), ECHAM5(initialize.f90, 2x):
  - preprocessor directives (#ifndef MESSYTIMER) moved from initialze.f90
    to messy_main_control_e5.f90, subroutine messy_setup, case(2)

Changes by Patrick Joeckel:
- xmessy_mmd: update
- all tnudge*nml: longitude range 0.0,360.0 replaced by -360.0,360.0

******************************************************************************

messy_d2.50x1 (17 Mar 2015)

CHANGES by Mariano Mertens:
- LNOX, JVAL: some channel objects put to restart files for
  MECO(n) setup with downscaling; required for restart independent results

CHANGES by Christiane Hofmann:
- TROPOP: calculation of Turbulenz Index and Brunt-Vaeisaelae frequency added

Changes by Astrid Kerkweg and Mariano Mertens:
- IMPORT_GRID: skip input grid reduction for IXF regridding in domain
	       decomposition (determination of range of parameter axis
	       delivers wrong values otherwise)

Changes by Patrick Joeckel:
- MECCA: all diagtrac *tex files adapted according to reaction G4504
  (which is now already set in mim1.rpl).
- CHANNEL (messy_main_channel_bi.f90):
  - bug-fix in subroutine initialize_restart_attributes for AMODE_INIT,
    use zdstr = 'start' instead of 'resume'
  - workaround for intel compiler for decomposition type DC_AG in
    subroutine bi_decompose
- TIMER (messy_main_timer.f90): bug-fix in subroutine date_get_components;
  initialize date variables with zero (since always status = 0)

Changes by Rolf Sander:
- MECCA: all rpl-files restructured/updated (new include-file for ESCiMo setup)

******************************************************************************

messy_2.50x (12 Mar 2015)

Changes by Patrick Joeckel:
- ORACLE:
  - messy_oracle.f90: bug-fix (g95 reported an error) in dimension
    of data fields
  - messy_oracle_si.f90: bug-fix (gfortran reported an error) 1.0d+03 replaced
    by 1.0E+03_dp, 0.d0 replaced by 0.0_dp etc.

Changes by Andrea Pozzer:
- MXL (messy_mxl_si.f90): basename->fullname for correct object definitions

Changes by Rolf Sander:
- CAABA/MECCA:
  - rpl and batch files for ORACLE included
  - added new species in gas.tex and gas.spc

Changes by Alexandra Tsimpidi, Vlassis Karydis:
- ORACLE:
  - new submodel
- CHANNEL:
  - messy_main_channel.f90: number of channel references increased to 700

Changes by Franziska Frank and Patrick Joeckel:
- CH4: memory leak fixed

Changes by Patrick Joeckel:
- UTIL:
  - check_objects.tcsh updated
  - two new scripts:
    - fname2trig.tcsh: generates RG_TRIG (trigger) entry for files named
      according to the MESSy data file naming convention
      (use -h option for further info)
    - trigadjust.tcsh (uses fname2trig.tcsh): update RG_TRIG entries
      in namelist file (e.g., import.nml)
      (call without options for usage message)

Changes by Stergios Misios:
- MLOCEAN: bug-fixes (icevoc and fsnet referenced to ECHAM5 instead of g3b)

******************************************************************************

messy_d2.50w2 (13 Feb 2015)

Changes by Patrick Joeckel:
- MBM MECCA (main.mk): exclude dead links from source file list
- MBM VERTICO:
  - link messy_mecca_dbl_common.f90 removed (file does not exist)
  - messy_mxl.f90: dp added to 0.0 in 2 max statements
- CAABA (main.mk): F90R8 removed
- VISO: max. number of maps and iso surfaces increased

******************************************************************************

messy_d2.50w1 (11 Feb 2015)

Changes by Patrick Joeckel:
- configure.in (configure): new option --enable-MESSYIDTC for idealised
  test cases
- Makefile.in (for SMCL!),
  cosmo/Makefile.in, echam5/Makefile.in: @MESSYIDTC@ added
  NOTE: all f90 files with 'ifname' MESSYIDTC were correctly compiled
  (i.e., with directive MESSYIDTC set) when configured with --enable-MESSYIDTC
- ECHAM5 (5.3.02 only!): l_artif set via or replaced by preprocessor new
  directive MESSYIDTC; modified files:
  - scan1.f90
- DATA (messy_main_data_bi.f90): l_artif removed and replaced by
  preprocessor directive MESSYIDTC
- INTERA: removed from distribution
- config/mh-*: emos and sphere library settings removed
- CHANNEL:
  - messy_main_channel_bi.f90: output of parallel-IO decomposition table
    in subroutine main_channel_init_coupling
- CLOUDOPT: bug-fix in call to rad_std (subroutine cloudopt_radiation)

******************************************************************************

messy_d2.50w (10 Feb 2015)

Changes by Mariano Mertens and Patrick Joeckel:
- xmessy_mmd: updates for SuperMUC @ LRZ; optional use of Intel MPI instead
  of IBM poe

Changes by Mariano Mertens:
- TAGGING:
  - revised tracer initialisation

Changes by Astrid Kerkweg:
- ECHAM5
  - dyn.f90: bugfix: ECHAM5 did not compile without MESSy because sigmadot is
    undeclared
- CHANNEL:
  - new dimenions / representations for MMD2WAY specific output
- DATA (COSMO): use statement for data_modelconfig cleaned up
- MPI:  lsum added for output accumulation of specific data objects
- TIMER: calculate nstop and hstop in messy_timer_COSMO_reinit_time
- GRID:
  - print_XXX routines improved, verbose_level added
  - set_surface_pressure moved to grid_tools
- TOOLS:
  - tautsp2D (added, original code from COSMO model)

CHANGES by Patrick Joeckel:
- VERTICO: adapted to new "MBM_BLANK" naming and entry-point conventions;
  modified files: vertico.f90, messy_main_control_vertico.f90

CHANGES by Andrea Pozzer:
- config/mh-linux-64: updates for dresden@MPIC
- AIRSEA:
  - messy_airsea.f90: bug fixed for Nightingale parametrisation (param_kw =4)
- messy/util/modify_restart_date corrected; working only with NCL
- TOOLS:
  - mpiom_grid.f90: bug fixed for correct reading/writing of mpiom grid
    (single precision reading, double precision writing)

CHANGES by Ruud Janssen and Andrea Pozzer:
- VERTICO: NEW MBM
- CHANNEL:
  - messy_main_channel_bi.f90: additional directives for BM VERTICO
- DATA:
  - messy_main_data_bi.f90: new block for BM VERTICO
  - messy_main_constants_mem.f90:
    new constant rho_air = standard density of air [kg/m3]
- GRID:
  - messy_main_import_rgt_bi.f90: additional directive for BM VERTICO
- MPI:
  - messy_main_mpi_bi.f90: additional directives for BM VERTICO
- MMD:
  - messy_main_ppd_bi.inc: additional directive for BM VERTICO
- SWITCH:
  - messy_main_switch_bi.f90: new blocks for BM VERTICO
- TIMER:
  - messy_main_timer_bi.f90: correction of DAYOFYEAR (FLOOR instead of NINT)
   !!! affected SMs: CMAT, MMD2WAY, RADJIMT, MMDCLNT, SPACENOX
- TRACER:
  - messy_main_tracer_bi.f90: additional directives for BM VERTICO
  - messy_main_tracer_pdef_bi.f90: additional directives for BM VERTICO
- MXL: new submodel
- DDEP
  - zxtems declaration only for ECHAM5 (or CESM1)
- MECCA_AERO, MEGAN:
  - pxtems only USEd in ECHAM5
- MECCA_KHET: qm1 and qte not used
- JVAL:
  - messy_main_jval_si.f90: additional directives for BM VERTICO
- OFFEMIS: special blocks for VERTICO
- ONEMIS:  special blocks for VERTICO
- PTRAC: additional directives for BM VERTICO

CHANGES by David Cabrera and Andrea Pozzer:
- MEGAN: 3CAR -> CAR3
- BIOBURN: update; changes in representation (3d_1lev)

CHANGES by Patrick joeckel:
- xmessy_mmd, config/mh-linux-64: updates for SuperMUC @ LRZ

CHANGES by Sabine Brinkop and Patrick joeckel:
- CONVECT (messy_convect_si.f90): bug-fix for cloud top height of
  shallow convection (cth_shal)

******************************************************************************

messy_d2.50v (15 Jan 2015)

CHANGES by Christiane Hofmann:
- TROPOP, DATA: add / correct vorticity calculation

CHANGES by Astrid Kerkweg:
- BLATHER: new output routine dbg_message(_bi) setting output amount depending
	   on level set (subroutine set_talkativeness) and switch l_DEBUGOUT
- CHANNEL:
  - messy_main_channel_cosmo.inc define always T_S_BD
  - improve attributes for vertical dimensions
  - info output for IGNORE
- PPD: added rank identifiers
- TRANSFORM: improved output of subroutine locate_in_decomp_nrst
- GRID
  - messy_main_grid_trafo: subroutines for rotations of U and V
  - messy_main_grid_trafo_scrp: bugfix vr => vd
- TIMER:
  - correction for julfrac calculation (thanks to Bastian Kern)

CHANGES by Holger Tost:
- MECCA (messy_mecca_si.f90): bug-fix for mechanisms without H2O

******************************************************************************

messy_d2.50u (18 Dec 2014)

CHANGES by Andreas Pfeiffer and Joerg Behrens (DKRZ):
- ECHAM5 (5.3.02 only!), NUDGING: reduced memory footprint on mo_nmi.f90

CHANGES by Christine Froemming:
- CLOUDOPT: bug-fixes in calculation of gamma and omega and weighting
  with cloud fraction;
  Note: This fixes a severe error which entered the code into d2.50p!

******************************************************************************

messy_d2.50t (11 Dec 2014)

CHANGES by Christine Froemming:
- CLOUDOPT:
  - perturbation option updated
  - benchmark test implemented (additional cover of 1% with tau=0.3 in one
    layer)

CHANGES by Patrick Joeckel (thanks to Markus Kunze):
- WARNINGS: updated
- DATA (ECHAM5), messy_main_data_e5.f90: convert um1 and vm1 into
  new channel objects (instead of references) and calulate wind vector
  (without cos(lat) !!!) in messy_main_data_global_start consistently with
  qm1, xim1, xlm1 and tm1

******************************************************************************

messy_d2.50s (05 Dec 2014)

CHANGES by Sabine Brinkop:
- TROPOP: cold point diagnostics revised

CHANGES by Patrick Joeckel:
- tools/prodloss: updated
- MECCA:
  - messy/mbm/caaba/mecca/rpl/include/mim1.rpl: <G6413>, <G6414>, <G6415>
    excluded for downward compatibility

CHANGES by Rolf Sander:
- two values for SCAV corrected/updated in messy_cmn_photol_mem.f90:
  CALL add_henry('OXL', 3.26E6_dp, 7285._dp) ! {&3062} only SCAV
  CALL add_henry('HOCH2CO2H',2.83E4_dp, 4029._dp) ! {&2401}

CHANGES by Sergey Gromov:
- complete update of the tagging and doubling directory tools/tagdbl/

CHANGES by Patrick Joeckel:
- AEROPT: bug-fix; corrected detection of imported fields for conversion
	  with box-height of 1/m into 1/box

******************************************************************************

messy_d2.50r1 (10 Nov 2014)

CHANGES by Patrick Joeckel:
- MBM MECCA: Makefile.m and main.mk created (for gmake mbm)
- MECCA
  - messy_mecca_si.f90: batchfile added as global channel attribute
  - gas.eqn: function uef re-introduced, but only as comment
  - mim1.rpl: added removal of 4 equations not present in MIM1
  - mim1-CCMI*bat / CCMI*rpl: updated for backward compatibility
  - mim1-CASiMIR*bat / CASiMIR*rpl: new (formerly ts2000*)
  - diagtrac/CASiMIR.tex (based on ts2000*tex)

CHANGES by Rolf Sander:
- CAABA/MECCA updated to version 3.7e: for details, see
  messy/mbm/caaba/CHANGELOG
- config/mh-linux: F90=g95 added for host bromine
- new web page for sfmakedepend mentioned in several main.mk and
  Makefile.m files
- messy_main_constants_mem.f90: h and c added; update to CODATA
  recommended values, 2010
- messy_main_tools.f90, messy_main_rnd.f90: forcheck cleanup
- messy_e4chem_box.f90: initialization of CCl4 in x0_mtchem deleted,
  value 5.605E-45 is too small
- xconfig:
  - "COMPILER=G95" added to confopt for bromine
  - "COMPILER=INTEL" as defalt for mpc01 Linux Cluster
- new MESSy base model messy/mbm/mecca, which is a very simple model
  that uses the MECCA submodel

******************************************************************************

messy_d2.50r (07 Nov 2014)

CHANGES by Patrick Joeckel:
- messy/util/jnl/scal_1sim.jnl: updated for arbitrary simulation times
- KP4 (kp4.sh): added function alpha_AN
- MECCA:
  - caaba/mecca/graphviz/spc_extract.awk, xgraphvizall: S chemistry added
  - new CCMI-sens-01.rpl (= merged nitrates_mim1.rpl by Domenico Taraborrelli
			    with CCMI-base-02.rpl)
  - new CCMI-sens-01.bat batch file
  - updated CCMI.tex, CCMItag.tex, CCMI-airtrac.tex for new replacements
    Note: CCMItag.tex and CCMI-airtrac.tex need to be checked again before
	  production

CHANGES by Domenico Taraborrelli:
- MECCA (gas_mim1.eqn): new function alpha_AN

CHANGES by Patrick Joeckel:
- config/mh-linux-64: update for SuperMUC at LRZ, -lpthread removed

CHANGES by Mariano Mertens:
- messy/smil/specifik.mk: Intel compiler (Linux64) error workaround,
  compile messy_msbm_si.f90 with -O0
- TOOLS: bug-fix in interpol_stag2mid

******************************************************************************

messy_d2.50q (20 Oct 2014)

CHANGES by Franziska Frank:
- CH4:
  - new entry point ch4_vdiff
  - extension for isotopologues: CTRL namelist, extended CPL namelist

CHANGES by Duy Cai:
- ECHAM5 (5.3.02):
  - mo_time_control.f90: default time step for T31L90MA

CHANGES by Patrick Joeckel:
- CONVECT:
  - messy_convect_si.f90: zlookupoverflow to distinguish from
    USEd lookupoverflow
  - messy_convect_tiedtke.f90: lookupoverflow = .FALSE.
- CLOUD:
  - messy_cloud_ori.f90: LOOKUPOVERFLOW = .FALSE.
- messy/util/time2yyyymmdd_hhmm.tcsh: update
- ORBIT:
  - improved time message to log-file in case of MESSYTIMER
  - new CPL-namelist switch l_quiet (default: .FASLE.) to switch off
    log-messages during time loop
- RAD:
  - improved time message to log-file in case of MESSYTIMER
  - new CPL-namelist switch l_quiet (default: .FASLE.) to switch off
    log-messages during time loop
- config/mh-linux-64: update for SuperMUC at LRZ
- OFFEMIS:
  - some checks of channel object attribute 'units' implemented with
    addtional warnings to log-file
  - added channel object attributes offemis_em_method_gp and
    offemis_em_type
- CHANNEL:
  - messy_main_channel_attributes.f90: new TYPE t_att_ptr
  - messy_main_channel_bi.f90: subroutine p_bcast_attribute
- GRID:
  - messy_main_grid_trafo_scrp.f90, subroutine calc_scrip_data:
    - bug-fix: correctly NULLYfied gridarea (thanks to Mariano Mertens)
  - messy_main_import_grid.f90:
    - subroutine READ_CONTROL_WORK: added attribute mmig_input_file
      as variable attribute
      - variable attribute RG_SCALED_BY renamed to mmig_scaled_by
      - variable attribute RG_ORIGINAL_NAME renamed to mmig_variable_name
	and unconditionally applied
  - messy_main_grid_netcdf.f90:
    - new subroutine EXTRACT_NCATT for conversion of netCDF attributes
      into channel object attributes
  - messy_main_import_grid_bi.f90:
    - variable attribute mmig_event_name added
    - new subroutine add_var_attributes
    - modified import_grid_init_memory to convert netCDF variable attributes
      into channel object attributes
  - messy_main_import_grid_tools_bi.f90:
    - new subroutine ncvar2choatt for conversion of netCDF attributes
      into channel object attribute list
    - additional optional parameter
      att for subroutines RGTOOL_BI_READ_NCFILE_5D and RGTOOL_BI_READ_NCVAR_5D

CHANGES by Holger Tost
- GMXE: bug-fix for OC/BC emission calculation in ESCiMo (aero, aecl) setups
	(thanks to Andrea Pozzer)
- AEROPT: bug-fix, initialisation of aerspec(:)%paerml(:,:,:) = 0.0_dp
	(thanks to Christopher Kaiser)

CHANGES by Patrick Joeckel:
- LNOX: completely revised code
- TROPOP, TOOLS: cleaned up with forcheck
- MECCA: new ESMVal-butkov.tex, ESMVal-butkov-wet.bat, ESMVal-butkov-wet.rpl
  for CCMI setup with "butkovskaya" rate coefficient replaced

CHANGES by Roland Eichinger:
- TENDENCY: bug-fixes, shifted call of main_tendency_init_coupling in
  messy_main_control_e5.f90
- ECHAM5 (5.3.02 only), vdiff.f90:
  several additional variables converted to pointers / channel objects
  of messy_main_data_bi.f90
- DATA: new channel objects
- CLOUD, SURFACE:
  additional variables converted to pointers / channel objects
  of messy_main_data_bi.f90
- H2O: eqipped with MESSYTENDENCY
- CLOUD (messy_cloud_ori.f90): several _dp added to constants
- messy_main_constants_mem.f90: masses for isotopologues

CHANGES by Patrick Joeckel:
- config/mh-linux-64: bug-fix in path to forcheck libraries on SuperMUC at LRZ
- messy/util/efchk: option -shmod removed (since it is not compatible
  between version 14.2 and 14.5 of forcheck)
- LNOX: new cloud ice flux parameterisation of Finney et al. (2014) implemented
  (option 5)
- OFFEMIS: string length of tr_data set to 10*STRLEN_XLONG
- QTIMER: calcualation of accumulated times modified to allow for
  continuation after restart (if requested in channel.nml)

CHANGES by Bastian Kern:
- HD: updates

CHANGES by Rolf Sander:
- MECCA (xmecca): warn for non-existent equations (diagtrac)

******************************************************************************

messy_d2.50p (27 Aug 2014)

CHANGES by Sabine Brinkop, Christine Froemming, Michael Ponater and
Patrick Joeckel:
- CONTRAIL: bug-fixes in memory management
- CLOUDOPT:
  - update with new feature for perturbation calculations
  - real comparison of icldlyr converted to integer comparison
  - new subroutine calc_clcv in SMCL
- RAD: improved error messages, bug-fixes for unit checks

CHANGES by Patrick Joeckel:
- TENDENCY: bug-fix in mtend_request (variable string length with *)
- IMPORT_GRID:
  - messy/mbm/import_grid/src/import_grid.f90, messy_main_import_grid.f90:
    correctly nullified pointer RGT (Intel Compiler in PRODUCTION
    mode complained about it!)
- TRACER:
  - messy_main_tracer_bi.f90, subroutine tracer_init: correctly nullified
    pointer RGT (Intel Compiler in PRODUCTION mode complained about it!)
- config/mh-linux-64: update for netCDF-4 at LRZ
- CH4: new ageing case (i_[gp,lg]_ageing = 2) for emission flux inversion;
       Note: this option can NOT be used with MESSYTENDENDCY

CHANGES by Holger Tost:
- CLOUD: bug-fixes (array dimensions and variable initialisation, correction
  of radii) for aerosol - cloud coupling; modified files: messy_cloud_e5.f90,
  messy_cloud_lohmann10.f90

******************************************************************************

messy_d2.50o (11 Jul 2014)

CHANGES by Patrick Joeckel:
- CLOUD:
  - bug-fix in channel name (gmxe_gp instead of gmxe) for CLOUD - GMXE
    coupling
- CH4: optional emission and age class tracers implemented
  - new CPL namelist switches
    - i_[gp,lg]_nclass_emis_age for n x m CH4_fx emission age class tracers
      with names CH4_fx_eNN_aMM
    - r_[gp,lg]_age_cll for ages (of classes) in days
    - i_[gp,lg]_ageing for the ageing method
    - l_[gp,lg]_adj_tend for tendency adjustment (linearisation)
  - new entry point ch4_init_memory
  - new entry point ch4_global_start
  - new entry point ch4_free_memory
- CONTROL (ECHAM5)
  - call of ch4_free_memory, ch4_global_start and ch4_init_memory
- CONVECT:
  - messy_convect_si.f90: bug-fixes in dimensions of vgustcon and tketconv
- IMPORT_GRID:
  - messy_main_import_grid.f90: modified parameter passed to
    MAIN_GRID_SET_MESSAGEMODE

CHANGES by Stefan Versick:
- SPE: bug-fixes

******************************************************************************

messy_d2.50n (10 Jun 2014)

CHANGES by Mariano Mertens and Patrick Joeckel:
- CONVECT:
  - messy_convect_si.f90: preprocessor directives for CESM1
  - all fields for Donner-scheme as REAL(DP), SMCL is compiled
    with F90R8 option anyway

CHANGES by Mariano Mertens and Astrid Kerkweg (approved by Holger Tost):
- CONVECT:
  - SMILification,
  - TKE calculation, convective gust calculation (only for Tiedtke)
- TOOLS: new subroutines interpol_mid2stag and interpol_stag2mid

CHANGES by Sabine Brinkop:
- CLOUDOPT, RAD: max. number of calls increased to 30
- CONTRAIL: optional conversion of Lagrangian perturbations to grid-point
	    for use in CLOUDOPT

CHANGES by Patrick Joeckel:
- xmessy_mmd: new selector ECHAM5_NUDGING_DATA_FORMAT
  (0 for old IEEE, 2 for netCDF); set default nudging data path accordingly;
  Note: ECHAM5 &NDGCTL namelists need to be adapted, example see in E5 setup.
- ECHAM5 (only 5.3.02)
  - mo_nudging_sst.f90: bug-fixes for nudging data in netCDF format

******************************************************************************

messy_d2.50m (30 Apr 2014) => messy_2.50.5

CHANGES by Phoebe Graf:
- MECCA: correction for VSLS budgeting in diagtrac: CCMI.tex, CCMItag.tex,
	 CCMI-airtrac.tex

CHANGES by David Cabrera:
- MEGAN : global scaling factor included for tuning

CHANGES by Andrea Pozzer:
- config/mh-linux-64: updates dor dresden@MPIC, hydra@RZG and mpc01@RZG

CHANGES by Patrick Joeckel:
- configure.in (configure): LD and LDFLAGS exported to Makefile.in
- ECHAM5 (2x):
  - Makefile.in:
    - set LD and LDFLAGS to $(F90) and $(F90R8) $(F90NOR8), respectively,
      if empty
    - use $(LD) instead of $(F90) for linking
  - TODO: mh-aix: set LD and LDFLAGS correctly, if guess is present
- CHANNEL:
  - messy_COSMO_channel_read_restart renamed to messy_COSMO_channel_readrst
  - messy_I2CINC_channel_alloc_coarse_grid renamed to
    messy_I2CINC_channel_alloc_cg
- zip.sh: exclude 2 dead links from being zipped
- all Makefile.in and some main.mk:
  revised to make recursive call work with -j option
  (at least on Linux systems)

CHANGES by Sergey Gromov:
- MECCA_TAG/DBL:
  - tracdef.awk: unit mol/mol/s for tracers named PTL* or PTP*
  - imdouble_dbl_si.f90: corrections for MESSYTIMER
  - xdbl: bug fixes
  - imdouble.pas: update

******************************************************************************

messy_d2.50l (03 Apr 2014)

CHANGES by Patrick Joeckel:
- WARNINGS updated
- MPI (messy_main_mpif.f90): include mpif.h for CESM1
- MPI (messy_main_mpi.f90)
  - messy_mpi_initialize / messy_mpi_setup renamed to main_mpi_setup
- E4CHEM:
  - subroutine inisulnew moved back from SMIL to SMCL; now with optional
    parameters for npromz as scalar or vector;
  - call in SMIL modified accordingly (preprocessor directive for CESM1)
- xmessy_mmd: updated
- JVST SMIL updated to JVAL SMIL
- configure.in (configure): set default dynamical CESM1 core to
  FVDYCORE

CHANGES by Andreas Baumgaertner:
  - mh-linux-64:
    - settings for yellowstone @ UCAR
  - configure.in (configure), Makefile.in:
    - extensions for CESM1 basemodel
  - BMLUSE:
    - new block for CESM1 with ltdiag=.FALSE.
  - CHANNEL:
    - messy_main_channel_bi.f90: extensions for CESM1
    - new file messy_main_channel_c1.inc
  - DATA (messy_main_data_bi.f90)
    - new section for CESM1
  - GRID:
    - messy_main_grid_bi.f90: define_basemodel_GEOHYBGRID for CESM1
    - messy_main_grid.f90: new column component for unstructured grids
  - IMPORT_GRID:
    - messy_main_import_grid_bi.f90, messy_main_import_grid_tools_bi.f90:
      preprocessor directives for CESM1 added
  - IMPOR_RGT:
    - messy_main_import_rgt_bi.f90: alternative subrouines and calls
      for CESM1 in preprocessor directives
  - MPI:
    - messy_main_mpi_bi.f90:
      - messy_mpi_initialize renamed messy_mpi_setup (not for COSMO)
      - several extensions for CESM1
    - mo_mpi.f90: preprocessor directives for CESM1 added
  - MMD:
    - messy_main_ppd_bi.inc: CESM1 included
  - TRACER:
    - messy_main_tracer_bi.f90:
      - init_pvar and tracer_init expanded for CESM1
      - tracer_init: bug-fix for ldompar = lvarpar = .FLASE.
    - messy_main_tracer_family_bi.f90:
      - extensions for CESM1
  - TRANSFORM (messy_main_transform_bi.f90):
    - new section for CESM1
  - NCREGRID:
    - messy_ncregrid_tools.f90: some alternative blocks for CESM1 (HOMMESE) in
      preprocessor directives
    - messy_ncregrid_control.f90, messy_ncregrid_diag.f90,
      messy_ncregrid_geohyb.f90:
      modifications / extensions for CESM1 (HOMMESE);
      !!! WARNING: namelist incompatibility !!!
  - CONSTANTS (messy_main_constants_mem.f90):
    STRLEN_XLONG, N_A_kmol, OneSiderialDay, omega
  - AEROPT:
    - messy_aeropt_tanre.f90: added init_aero_tanre_dc which does not require
      lat/lon information
  - CLOUDOPT:
    - zinpar and zinhomi set for CESM1 (26 levels)
  - E4CHEM:
    - subroutine inisulnew moved from SMCL to SMIL and expanded for CESM1
  - CVTRANS, DDEP, GWAVE, LNOX, MECCA, OFFEMIS, ONEMIS, PTRAC, QBO, SCAV,
    TNUDGE:
    - preporcessor directives added to SMIL modules
  - JVAL (messy_jval_si.f90):
    - alternative regridding of external ozone for CESM1
  - JVST (messy_jvst_si.f90):
    - preprocessor directives for CESM1
  - MSBM (messy_msbm_si.f90):
    - xlm1_3d, xim1_3d coorectly used for CESM1
  - ORBIT (messy_orbit_si.f90), SORBIT (messy_sorbit_si.f90),
    TAGGING (messy_tagging_si.f90):
    - zproma = npromz(jjrow) for CESM1
  - TROPOP: geosp coorectly used also for CESM1
  - xmessy_mmd: extension for CESM and yellowstone @ UCAR
  - yam.tcsh: updated
  - zip.sh: updates for CESM1

******************************************************************************

messy_d2.50k (31 Mar 2014)

CHANGES by Patrick Joeckel:
- ### STATUS REPORT:
      - compiles (DEBUGOPT) incl. MBMs and TOOLS on the pa-Cluster
	with lf95 (8.10b), g95 (0.93), gfortran (4.8.1), and
	intel (13.1.0 20130121), all with openmpi (1.6.5)

CHANGES by Patrick Joeckel:
- ### SEVERAL ADJUSTMENTS TO CORRECT ACCORDING TO NAMING CONVENTIONS ####
  ### 1) The subroutines called from the BASEMODEL are either named
  ###    a) messy_<entry-point> and are located in messy_main_control_<BI>.f90,
  ###       or
  ###    b) messy_<BASEMODEL>_<submodel>_<entry-point>, if they are
  ###       basemodel specific, and are located in the BMIL of the
  ###       correspnding generic submodel.
  ###       This option should be avoided as much as possible!
  ### 2) The main entry points of generic submodels (i.e., called from
  ###    messy_main_control_<BI>.f90) are named main_<SUBMODEL>_<entry-point>
  ###    and are located in the BMIL of the correspnding generic submodel.
  ### 3) The main entry points of ordinary submodels are named
  ###    <SUBMODEL>_<entry-point>, are exclusively called from
  ###    messy_main_control_<BI>.f90, and are located in the BMIL of the
  ###    corresponding submodel.
  ###
  - ECHAM5 (2x):
    - initialize.f90:
      - call messy_setup(1) instead of messy_setup
      - call messy_setup(2) instead of messy_channel_init_restart
      - call messy_setup(3) instead of messy_main_decomp_setup
    - iorestart.f90:
      - call messy_read_restart instead of messy_ncregrid_read_restart and
	messy_channel_read_restart
    - scan1.f90:
      - CALL messy_beforeadv instead of main_tracer_beforeadv
      - CALL messy_afteradv instead of main_tracer_afteradv
      - call messy_tendency_reset instead of main_tendency_reset (5302 only!)
    - stepon.f90:
      - call messy_time(1) instead of main_timer_global_start
      - call messy_time(2) instead of messy_timer_reset_time
      - call messy_write_restart instead of
	messy_channel_write_output(IOMODE_RST) and messy_ncregrid_write_restart
    - CHANNEL:
      - messy_main_channel.f90: version is now 2.2
      - new main entry point main_channel_setup
      - new main entry point main_channel_write_restart
	-> channel_write_output_bi(IOMODE_RST)
      - main entry point main_channel_write_output with flag
	1 -> main_channel_update_timer
	2 -> channel_write_output_bi(IOMODE_OUT)
      - PUBLIC messy_channel_write_output is now
	PRIVATE channel_write_output_bi
      - PUBLIC messy_channel_init_restart is now
	PRIVATE channel_init_restart_bi
      - messy_alloc_lm           -> messy_I2CINC_channel_alloc_lm
      - messy_alloc_coarse_grid  -> messy_I2CINC_channel_alloc_coarse_grid
      - messy_make_MMDC4_channel -> messy_I2CINC_channel_make_MMDC4
      - messy_channel_read_restart renamed to main_channel_read_restart
    - CHANNEL (COSMO):
      - messy_main_channel_cosmo.inc:
	new specific entry point messy_COSMO_channel_read_restart
	calling main_channel_read_restart('COSMO_ORI')
      - messy_main_channel_i2c.inc:
	- messy_alloc_lm           -> messy_I2CINC_channel_alloc_lm
	- messy_alloc_coarse_grid  -> messy_I2CINC_channel_alloc_coarse_grid
	- messy_make_MMDC4_channel -> messy_I2CINC_channel_make_MMDC4
    - DECOMP:
      - messy_main_decomp_bi.f90: messy_main_decomp_setup renamed to
	main_decomp_setup
    - IMPORT:
      - messy_main_import_bi.f90:
	- new main entry point main_import_read_restart calling
	  main_import_grid_read_restart
	- new main entry point main_import_write_restart calling
	  main_import_grid_write_restart
    - TIMER:
      - new main entry point main_timer_time(flag)
	1: main_timer_set_time
	2: main_timer_reset_time
      - PUBLIC messy_timer_reset_time is now PRIVATE main_timer_reset_time
      - PUBLIC main_timer_global_start is now PRIVATE main_timer_set_time
    - TRACER:
      - messy_main_tracer_bi.f90:
	- tracer_init is now PRIVATE
    - CONTROL (ECHAM5)
      - main entry point messy_setup is now called with flag
      - call main_channel_setup instead of messy_channel_init_restart
      - call main_decomp_setup (flag = 3)
      - call main_channel_read_restart instead of messy_channel_read_restart
      - call main_import_read_restart instead of main_import_grid_read_restart
      - new main entry point messy_time (called from stepon.f90)
      - new main entry point messy_tendency_reset (called from scan1.f90,
	5302 only!)
      - new main entry point messy_beforeadv
      - new main entry point messy_afteradv
      - main_channel_write_output now with flag (1,2)
      - call main_channel_write_output instead of messy_channel_write_output
      - call main_channel_write_restart instead of messy_channel_write_output
      - call main_import_write_restart instead of main_import_grid_write_restart
    - MBMs updated according to interface changes listed above):
      - BLANK:   messy_main_control_blank.f90, blank_main.f90
      - CHANNEL: messy_main_channel_bi.f90,    channel_bml.f90
      - TRACER:  messy_main_tracer_bi.f90,     tracer_bml.f90
      - CMAT:    messy_main_control_cmat.f90,  cmat.f90
      - QBO:     messy_main_control_qbo.f90,   qbo_main.f90
      - GWAVE:   gwave.f90
      - SPE:     spe.f90
      - VGLUE:   vglue.f90

******************************************************************************

messy_d2.50j (28 Mar 2014)

CHANGES by Patrick Joeckel:
- subroutine messy_timer_set_time renamed back to main_timer_global_start
  (MBMs did not compile anymore!)
- xmessy_mmd: MEASUREMODE expanded for usage of debuggers
  (currently for ddt on blizzard @ dkrz)
- ECHAM5 (5301):
  - mo_time_control.f90: l_putrerun now overwritten by l_rerun
  - stepon.f90: new subroutine call messy_timer_set_time from stepon.f90(ECHAM5)
		(previously named main_timer_global_start)
		this is necessary to adjust the rerun output time step to the
		MESSYTIMER

CHANGES by Astrid Kerkweg:
- ECHAM5 (5302 only):
  - stepon.f90: new subroutine call messy_timer_set_time from stepon.f90(ECHAM5)
		(previously named main_timer_global_start)
		this is necessary to adjust the rerun output time step to the
		MESSYTIMER
  - mo_time_control.f90: l_putrerun now overwritten by l_rerun
  - scan1.f90: entry point messy_init_loop removed
- TIMER: subroutine main_timer_global_start renamed to messy_timer_set_time
	called from stepon.f90 (ECHAM5) instead of global_start, was/is called
	from init_loop for COSMO anyhow.
- CHANNEL:
  - messy_main_channnel_bi.f90:
    - bugfix in bcast for hnextrad (COSMO only)
    - nextrad added as restart attribute (COSMO only)
  - messy_main_channel_cosmo.inc: bugfix for definition of vcoord
  - messy_main_channel_i2c.inc: additional field oromem_lm for orography
				smoothing (external_data.f90)
- CONTROL:
  - main_timer_global_start: not longer called from CONTROL for ECHAM (ONLY!!!),
			     called from stepon now and renamed to
			     messy_timer_set_time
- GRID:
  - messy_main_grid_bi.f90:
    - subroutine main_grid_free_memory added (deletes scrip_grid and
      scrip_data lists)
  - messy_main_grid.f90, messy_main_grid_netcdf.f90, messy_main_grid_tools.f90:
    messy_main_grid_trafo.f90, messy_main_grid_trafo_scrp.f90:
     -> some memory leak fixed (OUT => INOUT + CALL INIT_)
     -> cosmetical changes
  - messy_main_grid_trafo_ncrg.f90: optional logical (lstatout) added in
       parameterlist, to prevent output of regridding statistics
- IMPORT:
  - messy_main_import_grid_par.f90: bugfix: set nproc_work = 1 in declaration
     (thanks A. Baumgaertner, error in tracer_init for ldompar=F& lvarpar=F)

CHANGES by Patrick Joeckel:
- configure.in (configure), aclocal.m4, Makefile.in: test for GNU make included

CHANGES by Holger Tost:
- CLOUD: bug-fix in call to prepare_freezing (kproma-dependency resolved);
  issue was in effect for (experimental) 2 momentum scheme only

******************************************************************************

messy_2.50.4 (24 Mar 2014)

CHANGES by Patrick Joeckel:
- CONTROL:
  - 2 new entry points messy_write_restart, messy_read_restart
- ECHAM5 (2x):
  - stepon.f90: call to messy_write_restart
  - iorestart.f90: call to messy_read_restart

******************************************************************************

messy_2.50.3 (08 Mar 2014)

CHANGES by Patrick Joeckel:
- ### STATUS REPORT:
      - compiles (DEBUG|DEBUGOPT|PRODUCTION) and runs
	(SHARP-dyn-05 setup) on the pa-Cluster
	with lf95 (8.10b), g95 (0.93), gfortran (4.8.1), and
	intel (13.1.0 20130121), all with openmpi (1.6.5)
	- valgrind (3.9.0) analysis works with lf95, g95 and gfortran,
	  but crashes with intel
      - compiles and runs (DEBUGOPT|PRODUCTION)
	(SHARP-dyn-05 setup, without SATSIMS) on blizzard
- SEDI: bug-fix; initialisation of SSET(i)%vsedi_mass(naermo)%ptr(:,:,:,:,:)
  and SSET(i)%vsedi_num(naermo)%ptr(:,:,:,:,:) (thanks to Holger Tost)
- xmessy_mmd: updates for hydra @ RZG and pa-Cluster @ DLR
- GMXE:
  - messy_gmxe.f90: bug-fix in gmxe_thermo
  - prdry limited to > 1.0e-7_dp (according to Holger Tost) in SUBROUTINE
    gmxe_thermo
- IMPORT_GRID:
  - messy_main_import_grid_tools_bi.f90: memory leaks fixed in
    SUBROUTINEs RGTOOL_BI_READ_NCVAR_5D and RGTOOL_BI_READ_NCFILE_5D
  - messy_main_import_grid.f90:  memory leaks fixed in
    SUBROUTINEs RGTOOL_READ_NCVAR and RGTOOL_READ_NCFILE
- TRACER:
  - messy_main_tracer_bi.f90: fixed memory leak in SUBROUTINE TRACER_INIT
- CHANNEL:
  - messy_main_channel.f90: (minor) bug-fix in clean_channels

******************************************************************************

messy_2.50.2 (19 Feb 2014)

CHANGES by Patrick Joeckel:
- GMXE: prdry limited to 1e-10 (according to Holger Tost) in SUBROUTINE
  gmxe_thermo
- A2O: babystep = 0.00001_dp for SCRIP interpolation according to
  modification by Andrea Pozzer in messy/smcl/messy_main_gridtrafo_scrip.f90
  pf version 2.42y-ocean)
- config/mh-linux-64: -D__linux__ added for gfortran compiler
  to pick correct surrogate for PXFGETENV in
  libsrc/dwdlibgrib1/source/getEnvironment.F
- TOOLS/biogen/tools.f90: correct OPEN statement for __GFORTRAN__
- ECHAM5 (5.3.02), dyn.f90: bug-fix dimensioning of sigmah
- TRACER:
  - messy_main_tracer_bi.f90: SUBROUTINE init_pvar revised
  - messy_main_tracer.f90: bug fixes in string lenghts and formats of
     subroutine print_tracer_set
- config/mh-linux-64: updates for Intel Compiler suite on pa-Cluster (DLR)
- xmessy_mmd: updates for pa-Cluster (DLR)

******************************************************************************

messy_d2.50f (14 Feb 2014)

CHANGES by Patrick Joeckel:
- MADE, MADE3 (MBM):
  - messy_made(3)_box.f90:
    - removed non-f95-standard conform contrl characters from strings
    - PUBLIC :: parr (MADE only)
- TRACER
  - messy_main_tracer_mem_bi.f90:
    - three new (optional) CPL namelist parameters
      for LG into GP conversion (i_conv_lg2gp_mode, r_conv_lg2gp_fill,
      l_conv_lg2gp_mc)
  - messy_main_tracer_bi.f90:
    - format correction (istr) in SUBROUTINE init_pvar
  - messy_main_tracer.f90:
    - format corrections in SUBROUTINE print_tracer_set

CHANGES by Markus Kunze:
- CLOUDOPT (messy_cloudopt.f90):
  - output zinhoml to log-file
- CONVECT (messy_convect_tiedtke_param.f90, messy_convect.f90):
  - new CTRL_TIEDTKE namelist parameters rset_entrpen and rset_entrmid

CHANGES by Sabine Brinkop:
- ECHAM5 (5.3.02), dyn.f90: calculation of sigmadot
- DATA (ECHAM5): new object for sigmadot

******************************************************************************

messy_2.50.1 (09 Feb 2014)

CHANGES by Patrick Joeckel:
- messy/util/check_* adapted to import_grid (instead of import_rgt)
- xmessy_mmd, config/mh-linux-64: new entries for hornet cluster at
  University of Connecticut
- MECCA: new rpl/mim1/CCMI-aero-02.rpl with revised OCS chemistry

******************************************************************************

messy_d2.50d (05 Feb 2014)

CHANGES by Mariano Mertens:
- TAGGING: new submodel

CHANGES by Patrick Joeckel:
- CONVECT (messy_convect_tiedtke_param.f90): optional overwrite (via
	  namelist) of cmfctop, cprcon, entrscv also for subrountine
	  cuparam_init_1 (i.e., for ECHAM5.3.02)
- ONEMIS:
  - bug fix in calculation of volumetric soil moisture for yl95sl10
    NO emission from soil
  - bug-fix (rank identifiers) in calls of NOemis_yl95sl10_pulsing and
    NOemis_yl95sl10

******************************************************************************

messy_d2.50c (05 Nov 2013)

CHANGES by Patrick Joeckel:
- ECHAM5 (5.3.02), mo_tr_gather.f90: USE mpi replaced by INCLUDE 'mpif.h'
- ECHAM5 (5.3.02 only), ADVECT: mo_tpcore.f90 re-adapted to TENDENCY
- CLOUD: calculate initial values for cloud cover (including tendency)
  correctly for TENDENCY
- DATA (messy_main_data_bi.f90, COSMO): USE subroutine `spec2relhum_q'
  from messy_main_tools.f90 instead of replicating code
- SEDI: MBM repaired (subroutine mass_density from TOOLS instead of density
  from sedi-SMCL)
- WARNINGS updated

Changes by Christopher Kaiser:
- TOOLS (messy_main_tools.f90):
  - renamed function `density' to `mass_density' and modified it to yield wet
    air density in [kg m-3] rather than in [mol m-3]
  - added new subroutine `spec2relhum_q' that calculates RH as ratio of specific
    humidities
- DATA (messy_main_data_bi.f90):
  - USE subroutine `spec2relhum_q' from messy_main_tools.f90 instead of
    replicating code
- MECCA_AERO (messy_mecca_aero_si.f90):
  - USE function `mass_density' from messy_main_tools.f90 instead of `density';
    modified code accordingly
- SEDI:
  - messy_sedi_si.f90: USE function `mass_density' from messy_main_tools.f90
    instead of local function `density' from messy_sedi.f90
  - messy_sedi.f90: removed function `density'

CHANGES by Astrid Kerkweg:
- GRID: cleaned up
- TRACER (messy_main_tracer_bi.f90): updated to revised GRID
  (new feature for initialisation of prognostic variables, see below)
- CONTROL: new main entry point init_loop in ECHAM5
- DATA/TOOLS:
  new subroutine for calculation of hybrid pressure grid coefficients
- ECHAM5 (5.3.02 only), ADVECT:
  mo_tpcore.f90, mo_semi_lagrangian.f90, mo_spitfire.f90
  add non-zero initial tendency (#ifdef MESSY and #ifdef MESSYMMD ->
  #define _XNOZEROINITEND

Changes by Gregor Glaeser:
- CLOUD (messy_cloud_e5.f90): calculate cloud cover including tendency

CHANGES by Patrick Joeckel:
- IMPORT_RGT: bug-fix (use correct submodname)
- TRACER: new feature for the initialisation of prognostic variables of
  the basemodel via the CPL namelist in tracer.nml (here seen as a kind of
  feedback of the TRACER submodel to the basemodel); currently only
  'q' (specific humidity of ECHAM5 is implemented);
  - modified files: messy_main_tracer_bi.f90
  - tracer.nml (downward compatible!):
    ini_pvar(.) = basemodel, prognostic variable, input variable,
		  specific method

CHANGES by Mariano Mertens:
- OFFEMIS: modified for emission into multiple tracers;
  NOTE: this causes a namelist downward incompatibility; all offemis.nml
  modified accordingly

CHANGES by Patrick Joeckel:
- ECHAM5 (only 5.3.02):
  - mo_nudging_sst.f90: surface temperature and sea ice coverage (optional)
    are used from nudging file <NDG_FILE_SST>.nc, if inudgformat = 2 and
    nsstinc > 0 (untested!!!)
  - mo_nudging_init.f90: error message for sst-nudging with netCDF data removed
- subdirectory LICENSE renamed to LICENCE, files updated
- MECCA:
  - new CCMI-base-02-preJPL2011.bat (for pre-JPL2011 mechanism)
  - new gas_mim1-preJPL2011.eqn (with pre-JPL2011 mechanism)
    (some equations have been renamed for consistency (rpl, diagtrac) with
    gas_mim1.eqn; FUNCTION uef added)
  - new rpl/mim1-preJPL2011 with CCMI-base-02-preJPL2011.rpl

******************************************************************************

messy_d2.50b (05 Nov 2013)

CHANGES by Patrick Joeckel:
- GRID (messy_main_grid_netcdf.f90):  alternative implementation of
  subroutine ELEMENT according to DKRZ; preprocessor directive _XOLD
  (as in NCREGRID (messy_ncregrid_base.f90), see below)
- IMPORT_RGT: subname=import_grid to avoid the necessity of
  replacing "import_rgt" by "import_grid" in all
  namelists, if configuration was with --disable-MESSYGRID
- IMPORT_GRID, NCREGRID (stand-allone):
  - bug-fixes for PNCREGRID directive
- TRACER (messy_main_tracer_bi.f90, subroutine TRACER_INIT):
  - bug-fix in logic for calling RGTOOL_CONVERT
  - bug-fix in string-length of cevar (tracer full name)
  - preprocessor directive PNCREGRID introduced to enable
    compilation with --disable-PNCREGRID

CHANGES by Patrick Joeckel:
- ALL *.nml: 'import_rgt' replaced by 'import_grid'
- MBM NCREGRID and IMPORT_GRID: some updates for configure; Makefile.mpi
  now automatically generated by configure to enable compilation of
  variable-parallel version with gmake -f Makefile.mpi

CHANGES by Mariano Mertens:
- GRID (messy_main_grid_trafo_scrp.f90): bug-fix, test presence of optional
  parameter oarea in subroutine calc_scrip_data

CHANGES by Patrick Joeckel:
- IMPORT_GRID (messy_main_import_grid_tools_bi.f90):
  - memory leaks fixed in subroutines RGTOOL_BI_READ_NCFILE_5D and
    RGTOOL_BI_READ_NCVAR_5D (as in NCREGRID, see below)
- MBM import_grid configure/gmake for stand-allone updated

CHANGES by Astrid Kerkweg:
- DDEP:
  - fixes to avoid undefined values/division by zero
  - fractional land sea mask used, instead of 0/1-mask
- DATA/GRID: move definition of BASEGRID_ID to DATA_BI to avoid cyclic
  dependency
- TRACER: use IMPORT_GRID in TRACER_INIT for ECHAM and COSMO
- IMPORT-GRID / GRID_TRAFO:
   - MBM enabled (+ runscript)
   - enable distinction between domain parallelisation and parallelisation
     over species (as before for NCREGRID in ECHAM5 tracer initialisation)
   - subroutine construct_input_surf_pressure moved from GRID_TOOLS to
     GRID_TRAFO_SCRP

CHANGES by Patrick Joeckel:
- ECHAM5 (only 5.3.02): option to use NUDGING data in netCDF format
  (cdo generated); modified code has been kindly provided by
  Aiko Voigt, Sebastian Rast, and Uwe Schulzweida (MPI-M);
  modified files: mo_nudging_constants.f90, mo_nudging_init.f90,
  mo_nudging_io.f90;
  Note: For reasons outlined in the ECHAM6 documentation
	(June 21, 2013, (2013-02-26), version echam-6.1.06p3-guide-1.3,
	Sect. A.11, by S. Rast et al.), SST usage from netCDF nudging data files
	has been disabled. Thus
	    nsstinc = 0
	has to be set in combination to
	    inudgformat = 2   ! netCDF (default: 0, old IEEE format)
	    ndg_file_nc = ...
	in NDGCTL namelist (ECHAM5.nml).
- ECHAM5 (2x):
  - mo_nudging_init.f90: bug-fix (for nsstinc == 0) according to S. Rast
- CH4: restart flag set for requested channel objects
- NCREGRID (messy_ncregrid_tools_e5.f90): memory leaks (gps) in
  subroutines RGTOOL_E5_READ_NCVAR_4D, RGTOOL_E5_READ_NCVAR_5D,
  RGTOOL_E5_READ_NCFILE_4D, RGTOOL_E5_READ_NCFILE_5D fixed

CHANGES by Astrid Kerkweg:
- GRID: input from curvilinear grids implemented, modified files:
  messy_main_grid.f90, messy_main_grid_netcdf.f90, messy_main_grid_trafo.f90,
  messy_main_grid_trafo_scrp.f90, messy_main_import_grid.f90,

CHANGES by Astrid Kerkweg:
- GRID_TRAFO: subroutine BALANCE_GEOHYBGRID_TIME moved from GRID_TRAFO_NCRG
	      to GRID_TRAFO
- IMPORT / GRID:
   - outfile enabled
   - read reduced grid for limited grids
- TRACER(_FAMILY): subroutines tracfamily_1_t2f, tracfamily_1_f2t,
  tracfamily_2_rsc and tracfamily_2_sum moved to BMIL because of
  decomposition dependence; rank identifiers introduced
- CMAT: addapted to TRACER_FAMILY changes
- IMPORT_GRID: bug-fix for vertical regridding in SCRIP-mode

CHANGES by Patrick Joeckel:
- xmessy_mmd: corrected measuremode for multi-instance poe
- MPI:
  - messy_main_mpi_bi.f90: #ifndef NOMPI replaced by #ifdef MPI
  - messy_main_mpi_bi.f90, mo_mpi.f90: bug-fixes to enable --disable-MPI
    again

CHANGES by Astrid Kerkweg and Patrick Joeckel:
- IMPORT_GRID:
  - subrtoutines RGTOOL_READ_[NCVAR,NCFILE]: free memory of local pointers
    at end of endless do-loop
- MPI (mo_mpi.f90):
  - new p_bcast routines for kind=sp and int_i4_1d and int_i8_1d
  - merged with mo_mpi.f90 from MPIOM
- configure.in (configure), Makefile.in (COSMO 2x, ECHAM5 2x):
  - new option --enable-MESSYGRID (default = yes) to use new IMPORT_GRID
    instead of IMPORT_RGT

CHANGES by Astrid Kerkweg:
- IMPORT_GRID: new subsubmodel
- GRID (incl. GRID_TRAFO): new submodel

******************************************************************************

messy_d2.50 (05 Nov 2013)

CHANGES by Mariano Mertens and Christopher Kaiser:
- SCAV: compiler error workaround for g95 (0.92 and 0.93); segmentation
  fault at memmove ... contiguous array ... (if nprod = 0); solution:
  array cprod_arr / lprod_arr dimensioned as (.,0:nprod); modified files:
  messy_scav_inter.f90, messy_scav_box.f90

CHANGES by Patrick Joeckel:
- NCREGRID (messy_ncregrid_base.f90): alternative implementation of
  subroutine ELEMENT according to DKRZ; preprocessor directive _XOLD
- GMXE (messy_gmxe.f90, subroutine gmxe_thermo): alternative solution
  (according to DKRZ) implemented; preprocessor directive _XOLD
- WARNINGS, DIRSTRUCT updated
- new subdirectory LICENSE
- LNOX: new (optional) CTRL namelist parameters (r_Grewe_A, r_Grewe_B)
  to enabble parameter-adjustment for alternative convection schemes
  (default: Tiedtke)

CHANGES by Patrick Joeckel (thanks to Chrisopher Kaiser):
- RAD (messy_rad_e5.f90): avoid re-calculation of fields with #vgrad-option
  to guarantee restart-frequency independent results
- SURFACE (messy_surface_e5.f90): bug-fix in subroutine surface_mixlo (zproma
  must be set for both cases)

CHANGES by Holger Tost:
- SATSIMS: bug-fix
- GMXE: bug-fixes for aerosol cloud coupling (modified file: messy_gmxe_e5.f90)
- CLOUD: bug-fixes for aerosol cloud coupling (modified files:
  messy_cloud_e5.f90, messy_cloud_lohmann10.f90)

CHANGES by David Cabrera:
- BIOBURN: new submodel which creates biomass burning fluxes from GFAS
  - v0.1  only diagnostic
  - messy_main_switch_bi.f90: new submolde: BIOBURN
  - messy_main_control_e5.f90: bioburn_initialize, bioburn_init_memory,
    bioburn_init_coupling, bioburn_vdiff, bioburn_global_end,
    bioburn_free_memory

CHANGES by Rolf Sander:
- CAABA/MECCA updated to version 3.6: for details, see
  messy/mbm/caaba/CHANGELOG
- JVAL and JVPP updated, for details, see messy/mbm/jval/CHANGELOG

CHANGES by Markus Kunze:
- RAD and RAD_FUBRAD:
  - messy_rad_fubrad.f90:
    - middle_atmosphere_upward_flux_h: optional argument passed to o3fluxes.
    - middle_atmosphere_heat_rates: removed pointer flux_lya
    - fubrad_solar_time_control: deleted spectral resolution 49 from select case
    - messy_rad_fubrad_e5.f90:
      - removed subroutine rad_fubrad_diag; functionality included
	in subroutine rad_fubrad_fluxes
      - subroutine rad_fubrad_fluxes: correct also the shortwave flux profile
	for clear sky conditions flxsf, and the transmissivity profiles
	trsol and trsof
      - subroutine rad_fubrad_flx2tr removed pamu0, prdayl from interface
    - messy_rad_e5.f90:
      - subroutine rad_radheat: additional interface parameters trs1f, trnif
    - messy_rad.f90:
      - subroutine rad_radheat_smcl: Calculate the shortwave fluxes pflxs
	from the addition of ptrsw1 and ptrnir, rather than using ptrsol.
	Analogue for pflxf. This is done because ptrsol and ptrsof are
	modified when fubrad is used.

CHANGES by Patrick Joeckel:
- mh-config-64: updates for pa-cluster (gfortran 4.8.1)

CHANGES by Christopher Kaiser:
- MADEIN: removed
- MADE: bug-fixes
- MADE3: update (incl. MBM); HCl / Cl

******************************************************************************

messy_d2.42z (25 Sep 2013)

CHANGES by Hella Garny and Patrick Joeckel:
- MECCA (diagtrac/CCMI.tex): negative rr-tracers replaced by additonal
  tracers with positive sign

CHANGES by Holger Tost and Patrick Joeckel:
- ECHAM5 (5.3.02, si1.f90): bug-fix in SPREAD (only relevant for tdiag)

CHANGES by Patrick Joeckel:
- MECCA (xmecca): replace "+ -" in equation file by "-" after rnrates-option;
  (allow negative diagnostic products)
- messy/util/check_s4d.tcsh: script to check input according to s4d.nml

******************************************************************************

messy_d2.42y (12 Aug 2013)

CHANGES by Hella Garny:
- MECCA (CCMI.tex):
  - PSC???? -> HET???? corrected
  - G6203 added for LossO3Cl

CHANGES by Patrick Joeckel:
- MECCA:
  - gas.tex: bug-fix in diagnostic tracer subname

CHANGES by Holger Tost:
- SCAV (messy_scav_si.f90): corrected aerosol tracer mode association

******************************************************************************

messy_d2.42x (03 Jul 2013)

CHANGES by Holger Tost:
- GMXE (messy_gmxe_e5.f90): corrected tracer name association
- SCAV (messy_scav_si.f90): corrected tracer name association

CHANGES by Patrick Joeckel:
- config/mh-linux-64, xmessy_mmd: updates for SuperMUC and SuperMUC-fat at LRZ
- MECCA (xmecca): stop execution if diagtrac-file does not exist
- RAD: new CPL namelist parameter tp_fixed (fixed tropopause channel object,
       e.g. via IMPORT) for adj. RF diagnostics

CHANGES by Simone Dietmueller:
- RAD: calculate (for strat. adjusted RF analyis) index of fixed
       tropopause (from IMPORT), e.g., for usage in VISO; new object
       tp_fixed_i in channel rad;
       example usage in viso.nml:
	MAP(36) = 'sradt_fix', 'rad', 'tp_fixed', 'rad01', 'flxs',
       Note: object name WITHOUT suffix _i; see documentation of VISO

******************************************************************************

messy_d2.42w (25 Jul 2013)

CHANGES by Patrick Joeckel:
- MMD:
  - messy_main_ppd_si.inc renamed to messy_main_ppd_bi.inc and moved to
    BMIL; all include statements modified accordingly

CHANGES by Astrid Kerkweg:
- DDEP: bug-fix in rleaf calculation
- messy_main_ppd_si.inc: new rank identifiers

CHANGES by Roland Eichinger:
- messy_main_constants_mem.f90: simpler (more accurate) definition of vtmpc1
- CONVECT (messy_main_convect_e5.f90, subroutine convect_CONVEC):
  vtmpc1 USEd from messy_main_constants_mem for internal consistency
- TENDENCY: bug-fixes (dimensioning of pointer zz in subroutines mtend_add_l
  and mtend_add_g)

******************************************************************************

messy_d2.42v (25 Jul 2013)

CHANGES by Patrick Joeckel:
- TOOLS/prodloss: modified to remove {+ ...} from equations
- MECCA:
  - several corrections of diagrac/CCMI.tex for ozone nudgeting
  - gas.spc: additional diagnostic tracers added
  - CCMI-aero-01.rpl: diagnostic tracers added

CHANGES by Holger Tost:
- CLOUD: some updates and bug-fixes (for aerosol cloud coupling)
- GMXE: updates
- SATSIMS: unit correction
- DRADON: aerosol density added for 220Pb tracer
- MECCA: new CCMI-aero-01.bat, OCS.rpl, CCMI.rpl

CHANGES by Astrid Kerkweg:
- BLATHER (messy_main_blather_bi.f90, info_bi): bug-fix
- TROPOP: bug-fix, plimt-set loop has to start with 3 instead of 2

CHANGES by Patrick Joeckel:
- TOOLS/strato3bud: new script eqn2f90.tcsh to extract (via gmake tools)
  the required rate coefficients from mecca.eqn and to translate them into
  a Fortran90 include file (rate_coeff.inc), which is included into
  strato3bud.f90 at compile time)
- CHANNEL (messy_main_channel_io.f90): bug-fix in channel_read_data
- NCREGRID (messy_ncregrid_control.f90): ADJUSTL(TRIM(.)) to remove
  leading and trailing spaces from variable names, etc.
- configure.in/configure: bug-fix for --disable-MPI option (compiler selection)
- MECCA: additional diagnostic tracers added to gas.tex (for CCMI)

CHANGES by Astrid Kerkweg and Patrick Joeckel:
- DATA (ECHAM5): bug-fix in calculation of grmassdry (nproma, npromz!)
- NCREGRID (messy_ncregrid_tools.f90):
  - subrtoutines RGTOOL_READ_[NCVAR,NCFILE]: free memory of local pointers
    at end of endless do-loop

CHANGES by Christiane Hofmann:
- PTRACINI:  tracer initialisation revised

CHANGES by Gregor Glaeser:
- ONEMIS: Tegen dust emissions: resolution dependent scale factor for
	  wind stress threshold added; new namelist CTRL_DU
- onemis.nml: Namelist CTRL_DU added to all onemis.nml
	      switch l_nudging only relevant for ECHAM5

CHANGES by Patrick Joeckel:
- JVAL/JVPP: bug-fix and error message in jvpp_step1.f90

CHANGES by Rolf Sander:
- JVAL/JVPP: SO2-photolysis

CHANGES by Roland Eichinger:
- TENDENCY: bug-fix

CHANGES by Patrick Joeckel:
- WARNINGS updated
- LNOX (messy_lnox_si.f90): bug-fix for channel objects pointer array

******************************************************************************

messy_d2.42u (18 Jun 2013)

CHANGES by Sabine Brinkop:
- CH4: bug fix in specific humidity tendency calculation for feedback

CHANGES by Patrick Joeckel:
- util/check_objects.tcsh expanded for RAD namelist files
- RAD:
  - bug-fix in messy_rad_short_v2.f90
- MPI (messy_main_mpi_bi.f90): bug-fix in subroutine p_scatter_4d3d
- CLOUDOPT:
  - bug-fix: INTENT(IN) for pradlp and pradip
- LNOX:
  - bug-fix: attributes (r_scall_eff etc.) for output corrected
  - new option for scale independent cut-off criterion
    (to be set with #define _X_SCALE_INDEPENDENT in messy_lnox.f90)
- TROPOP (subroutine WMOtropop): bug-fix for iplimt and iplimb
  (under certain conditions they could be undefined before)

CHANGES by Klaus Pankatz:
- RAD4ALL: bugfix for ico2_rad4all = 3: factor 1.e-6 added  (data file is in
  micro-mol/mol)

CHANGES by Gregor Glaeser:
- ONEMIS:
  - cuscale: resolution dependent scaling factor for dust emission
    implemented (Tegen-scheme)
- JVAL: bug-fixes

CHANGES by Astrid Kerkweg
- messy_main_ppd_si.inc: additional rank identifiers
- TRACER:
  - messy_main_tracer.f90:
    - default values of INTEGER container contents modified
    - additional parameters
    - new SUBROUTINE get_tracer_set_info
    - pointer xt_tl added to TYPE T_TRACERSET
    - optional parameter xt_tl added to get_tracer_set(_by_*)
    - associate pointer xt_tl in setup_tracer_set
- CHANNEL (messy_main_channel_repr.f90): error message for missing
  permutation added

CHANGES by Patrick Joeckel:
- CH4:
  - implementation for Lagrangian (LG) representation; new and modified
    namelist parameters

CHANGES by Sabine Brinkop:
- TRANSFORM: nullify several pointers at declaration

CHANGES by Astrid Kerkweg and Harald Rybka:
- CHANNEL (messy_main_channel_bi.f90): bug-fix, broadcast range for
  DEFAULT and channel

******************************************************************************

messy_d2.42t (12 May 2013)

CHANGES by Patrick Joeckel:
- DISCLAIMER added
- config/mh-linux-64: update
- SATSIMS:
  - bug fix in coupling to radiation (zi0 is in channel rad, not rad01)

CHANGES by Holger Tost:
- update to SCAV to allow for passive tracers for CCMI
  changes in: messy_cmn_gasaq.f90, cmn_aqattr.f90, aqueous.eqn,
  aqueous.spc, gas.spc,
- config/mh-linux-64: login*.mogon changed to *mogon*,
		      lc2login and mogon moved upwards for NETCDFROOT

CHANGES by Gregor Glaeser:
- messy/util/locate_f90.sh.in: bug-fix

CHANGES by Holger Tost:
- AEROPT: bug-fix, conversion of AOD from 1/m to 1/box for AOD from
  import_rgt

CHANGES by Charlotte Hoppe and Patrick Joeckel:
- DATA: new block for CLaMS MBM
- MPI: additional routines for CLaMS
- SWITCH: switches for new submodels
  CLAMSTRAJ, CLAMSMIX, CLAMSCHEM,CLAMS, CLAMSCIRRUS, CLAMSBMIX, CLAMSDISSOC,
  CLAMSRDFRC, CLAMSCHEME5
- CHANNEL:
  messy_main_channel_bi.f90: DIMids and REPRids for CLaMS; expansion for
  CLaMS MBM
- configure.in: clamschem library added (currently as comment)
- config/mh-linux-64: updates for jj* and icg1*

CHANGES by Patrick Joeckel (with a lot of help from Holger Tost):
- RAD:
  - 2nd alternative SW radiation scheme implemented (modified according to
    ECHAM5.5 and Thomas, 2008); mess_rad_short split into
    messy_rad_short_v1, messy_rad_short_v1 and messy_rad_short_cmn
    - USE-structure is now
       messy_rad_e5 <| <-- messy_rad_fubrad_e5 <------- messy_rad_fubrad
		     |                                               |
		     |                                               V
		     | <------ messy_rad <| <-- messy_rad_short_v1 <-|
					  | <-- messy_rad_short_v2 <-|
					  |                          ^
					  | <-- messy_rad_short_cmn -|
					  | <-- messy_rad_long
					  | <-- messy_rad_albedo
    - new CPL-namelist parameter i_sw(.) to select SW-scheme

CHANGES by Patrick Joeckel (thanks to Astrid Kerkweg and Holger Tost):
- CLOUDOPT: bug-fix in subroutine call of rad_std

CHANGES by Rolf Sander:
- JVAL/JVPP: bug-fix for HCHO; Temperature dependence increased by a factor
  of 10 because of error in Table 2 of Meller and Moortgat (2000).

******************************************************************************

messy_d2.42s (30 Apr 2013)

CHANGES by Astrid Kerkweg:
- TIMER (messy_main_timer_event.f90): run time switch LDEBUG replaced by
  preprocessor directive
- DATA:
  - bug-fix for relative vorticity calculation (thanks to Jianzhong Ma)

******************************************************************************

messy_d2.42r (30 Apr 2013)

CHANGES by Simone Dietmueller:
- RAD:
  - messy_rad_e5.f90: CASE(2) for adjustet forcing fixed

CHANGES by Patrick Joeckel:
- AEROPT:
  - vertical order of aerosol properties modified to natural order
    (top to bottom)
  - merge algorithm revised (subroutine aeropt_merge)
  - l_flip switched removed from READ_INPUT_SETS structure (aeropt.nml!)
  - modified files: messy_aeropt_e5.f90, messy_aeropt.f90, aeropt.nml
- RAD:
  - vertical order of aerosol properties modified; aerosol properties
    are vertically flipped now and expected in natural order
    (top to bottom)
- CLOUDOPT:
  - radii of ice particles and droplets (radlp, radip) as coupling parameters
    (number 6 and 7 in namelist); default parameterisation as own channel
    objects (selected with channel = '#std')
  - modified files: messy_cloudopt_e5.f90, messy_cloudopt.f90, clouopt.nml
- xmessy_mmd: improved chain detection (MSH_DONEXT) for IBM LoadLeveler
- configure.in (configure): detect compiler for compilation without MPI
  for option --disable-MPI
- TBUDGET: bug-fix in calculation of NDGL

******************************************************************************

messy_d2.42q (24 Apr 2013)

CHANGES by Phoebe Graf:
- TBUDGET: new submodel for diagnosing tracer budgets (e.g., Cl and Br)

CHANGES by Christopher Kaiser and Holger Tost:
- SCAV:
  - included consideration of hydrophilic fraction (philfrac) of particles' 3rd
    moment for scavenging
  - included consideration of higher ice scavenging efficiency for tracers with
    the attribute I_AEROSOL_HETICE = ON

CHANGES by Holger Tost:
- GMXE: update with reduced memory footprint
- CMN:
  - messy_cmn_aqattr.f90 expanded
  - messy_cmn_gasaq.f90 expanded
- TRACER:
  - new integer container for charge
- SCAV: updates in messy_scav.f90, messy_scav_liq.f90, messy_scav_mem.f90

CHANGES by Christopher Kaiser:
- MADE:
  - cleanup
  - new_tracer_old -> new_tracer
  - added calculation of hydrophilic 3rd moment fraction (philfrac)
  - renamed channel from `made' to `made_gp' (required for DDEP, SCAV, etc.)
- MADE3: new submodel
  - MADE-IN extension by Christopher Kaiser: 2 new coarse modes and coarse mode
    interactions with fine modes and gas phase
- TRACER:
  - added INTEGER container I_AEROSOL_HETICE to select higher ice scavenging
    efficiency (used in SCAV); default value is `OFF'

CHANGES by Simone Dietmueller:
- RAD:
  - set ztf to tm1 at lstart also for case 2
  - padutm1 converted from channel object to channel reference of
    ECHAM5 / tm1

CHANGES by Patrick Joeckel:
- messy/smcl/specific.mk, messy/echam5/smil/specific.mk:
  compilation of NCREGRID without run-time checks automatically for
  COMPILER=LF95 or G95
- xmessy_mmd: pempi for hydra at RZG removed
- NCREGRID (messy_ncregrid_geohyb.f90): bug-fix in subroutine
  SORT_GEOHYBGRID_NCVAR for sorting data along axes
- IMPORT (messy_main_import_rgt.f90):
  - import of 4-D data (x,z,n,y) implemented
- MECCA1, SCAV, GMXE:
  - aqueous.eqn, aqueous.spc, gas.spc moved from MECCA1 MBM to SCAV MBM
  - MECCA1, GMXE: aqueous.eqn, aqueous.spc, gas.spc link to corresponding
    files in SCAV MBM
  Note: this is a prerequisite for removing MECCA1 without destroying
	SCAV and GMXE
- WARNINGS updated
- CHANNEL (messy_main_channel.f90): bug-fix, corrected resetting of
  secondary data (MIN and MAX)
- SORBIT: bug-fix, reset data field only IF (XORB(i)%lex(jo))

******************************************************************************

messy_d2.42p (11 Apr 2013)

CHANGES by Patrick Joeckel:
- tests (Linux 32-bit (lx112), g95 v0.92, openmpi v 1.4.3):
  - ./configure --disable-MESSY
     compiles and runs (NML_SETUP=E5) with echam5.3.01 and echam5.3.02
  - ./configure (i.e. with MESSY)
     compiles and runs (NML_SETUP=E5) with echam5.3.01 and echam5.3.02
- RAD4ALL: entirely decoupled from ECHAM5, i.e., option isw_rad4all = 1
  is now obsolete; this reduced the overhead in ECHAM5 routines considerably
  and was required to enable RAD4ALL and RAD to run in parallel for
  inter-comparison:
  - channel object references to trflw, trfli, sofli, soflw,
    trfll, sofll (all g3b) converted to channel objects
  - new channel object with temperature tendency
    (for testing RAD vs. RAD4ALL until RAD4ALL becomes obsolete)
  - cdisse, cdissem defined in messy_rad4all_mem_e5.f90 and USEd from there
    in messy_rad4all_e5.f90, messy_rad4all_fubrad_e5.f90,
    messy_rad4all_orbit_e5.f90
  - zi0_2d is now channel object (instead of USEd from messy_main_data_bi)
  - cossza_2d is now channel object (instead of USEd from messy_main_data_bi)
  - messy_rad4all_e5.f90: USE nmonth from messy_main_timer_bi.f90
  - lrad, lr4a and loldrad removed
  - isw_rad4all = 2 as default
  - namelist switch nmonth_rad4all reset to nmonth from TIMER
  - calculate radflxw_2d from messy_main_data_bi.f90 (for ocean coupling)
  - bug-fix in dimensioning of parameters of subroutine albedos_rad4all
- RAD:
  - new namelist switch l_feedback (default is .TRUE.) to control feedback to
    - basemodel: temperature tendency (tte), albedo, emter, alsol
		 (via DATA from g3b) and srfl_2d (object in DATA)
		 NOTE: albedo, emter and alsol must remain in g3b (for vdiff)
    NOTEs:
    - trflw, trfli, soflw, sofli are used by SURFACE and MLOCEAN
      via get_channel_object (either rad01 or rad4all)
    - zi0 is used by SATSIMS via get_channel_object (either rad01 or rad4all)
  - su_albedo_rad implemented in messy_rad_albedo.f90 (called from
    messy_rad_initialize in messy_rad_e5.f90) to setup resolution dependent
    albedos (as in original ECHAM5 radiation code, see mo_albedo.f90,
    subroutine su_albedo); this is now required, since setrad (and with it
    su_albedo) is not called anymore #ifdef MESSY
  - bug-fix for temperature feedback in messy_rad_e5.f90
  - new channel object zi0 (solar incidence); not anymore USEd from
    messy_main_data_bi.f90
  - bug-fix: zi0 calculated with instantaneous cos(solar zenith angle) as
    in original ECHAM5 radiation (see physc.f90) and in RAD4ALL
  - RAD_FUBRAD (messy_rad_fubrad_e5.f90): coupling to channel object
    cdisse (from ORBIT) instead of USE from messy_main_data_bi.f90
  - calculate radflxw_2d from messy_main_data_bi.f90 (for ocean coupling)
  - channel renamed from rad_callN to radNN and rad_fubrad_callN to
    radNN_fubrad (for easier handling with wildcards in namelists etc.)
  - bug-fix in dimensioning of parameters of subroutine albedos_rad
  - double calculations removed
  - SUBROUTINE rad_radheat_smcl: TARGET variables and pointers removed;
    formal parameters applied directly
- CLOUDOPT:
  - channel renamed from cloudopt_callN to cloudoptNN (for easier handling with
    wildcards in namelists etc.)
  - NOTE: isccp_cldtau, isccp_cldemi, isccp_f are used by SATSIMS via
    get_channel_object (either from cloudopt01 or from rad4all)
- DATA (ECHAM5):
  - channel object reference to g3b / albedo removed
  - pointers and channel object references trflw, trfli, sofli, soflw (g3b)
    removed
  - cdisse, cdissem, zi0_2d, cossza_2d, relo3_3d, flxs_3d, flxt_3d removed
  - new object radflxw for radiation flux (lw + sw) over water
    (required for ocean coupling)
  - channel object aphm1_3d removed (not set/used anywhere, redundant to pressi)
  - channel object 'landcov' (similar to icevoc and seacov)
- BMLUSE (ECHAM5):
  - nmonth removed
  - lrad removed
- CONTROL (messy_main_control_e5.f90):
  - comments in messy_global_start updated
- TIMER (messy_main_timer_bi.f90):
  - new namelist parameter nmonth for annual cycle (0, default) or
    perpetual month simulations (1..12)
- ORBIT:
  - namelist parameter nmonth removed (moved to TIMER); used instead
    from TIMER (messy_main_timer_bi.f90)
- PLUMEGAS:
  - channel rad4all (for object rdayl) replaced by orbit; pointer renamed
- SATSIMS (messy_satsims_e5.f90):
  - channel rad4all replaced by cloudopt_call1 or rad4all for
    isccp relevant objects
- MLOCEAN:
  - coupling of trflw, trfli, sofli, soflw to 'rad01' (or rad4all)
    instead of 'ECHAM5'
- SURFACE:
  - coupling of trflw, trfli, sofli, soflw to 'rad01' (or rad4all)
    instead of 'ECHAM5'
  - subroutine surface in messy_surface.f90:
    - pros_hd (aros_2d) initialised with zero
    - pdrain_hd  (adrain_2d) initialised with zero
  - bug fix: 'aphm1_3d' replaced by 'pressi'; NOTE: aphm1_3d object was
    created in DATA (with wrong representation), but nowhere set
  - bug-fix:
    INTENT(INOUT) instead of INTEND(OUR) for tsi, ahfice, grndcapc, qres,
    tsoil (reason: the fields are only conditionally set!)
  - calculation of tsurf moved from physc to surface_mixlo; objects seacov,
    landcov and tsurf_2d (from DATA) added (pointer and get_channel_object)
  - SAVE added to both modules
- ECHAM5 (2x):
  - mo_memory_g3b.f90 (2x):
    - trflw, trfli, sofli, soflw, trfll, sofll removed
  - (2x) radheat.f90, radiation.f90, prerad.f90, rad_int.f90:
    MESSY specific statements removed
    (these routines are not called any longer #ifdef MESSY)
  - mo_time_control.f90 (2x): lrad excluded #ifndef MESSY
  - labrun.f90 (2x):
    - some parameters excluded with #ifndef MESSY
    - diag output cleaned up
  - scan1.f90 (2x):
    - lrad not USEd anymore
    - lr4a removed
    - no more call of prerad #ifdef MESSY
      (this implies no more call of pre_o3clim_3 from mo_o3clim.f90);
      thus USE of nmonth NOT modified in prerad.f90 and mo_o3clim.f90!)
  - physc.f90 (2x):
    - all radiation routine calls excluded with #ifndef MESSY
    - some parameters excluded from USE with #ifndef MESSY
    - zi0 restored as local variable (only #ifndef MESSY),
      zi0_2d not USEd anymore
    - (only 5.3.02) lr4a and connection to RAD4ALL removed
    - for #ifdef MESSY:
      - aros_2d, zros_hd removed (calculated now in SURFACE)
      - adrain_2d, zdrain_hd removed (calculated now in SURFACE)
      - apmecal_2d, zalac removed
      - use and add radflxw_2d to awhea_2d
      - zfrl associated with landcov (DATA)
      - tsurf / ztsurf special case for #ifdef MESSY removed
      - calcultion of tsurf moved to SURFACE (surface_mixlo)
  - initialize.f90:
    - no more call of setrad #ifdef MESSY
      (setrad was only active for lrad = .TRUE.)
  - initemp.f90, clveg.f90, clsst.f90:
    - nmonth USEd from messy_main_timer_bi.f90 #ifdef MESSY
      NOTE: If configured with --disable-MESSYTIMER, no perpetual month
	    experiments are possible, since nmonth = 0 (default)
	    cannot be overwritten via namelist (timer.nml out of operation!)
- JVAL: messy_jval_jvpp.inc created with updated JVPP (see below)

CHANGES by Rolf Sander:
- JVPP: update of jvpp_step3.f90; now with quadratic interpolation to
	fix issue with H2O photolysis

******************************************************************************

messy_d2.42o (05 Apr 2013)

CHANGES by Simone Dietmueller:
- TROPOP: coldpoiont diagnostics added
- RAD4ALL (messy_rad4all_e5.f90, messy_rad4all.f90): appended _dp to 0.0
- CLOUDOPT: new submodel for the calculation of cloud optical properties
- RAD: new submodel with revised radiation interface
  - allows multiple calls for radiative forcing analyses
  - simplified structure (less _e5 and _mem files):
    messy_rad_e5 <| <-- messy_rad_fubrad_e5 <--------------- messy_rad_fubrad
		  |                                          |
		  |                                          V
		  | <---------------------- messy_rad <| <-- messy_rad_short
						       | <-- messy_rad_long
						       | <-- messy_rad_albedo

CHANGES by Marina Astitha:
- ONEMIS: bug-fix (D of type REAL(DP))

CHANGES by Patrick Joeckel:
- ORBIT (messy_orbit_si.f90): bug-fix (dec replaced by zdec in subroutine
  calc_orbit_param); this bug caused the deviation betweem amu0m (rad4all) and
  cosszacm (orbit)
- messy/util/mddiff: option "-L" removed again
- configure.in (configure): message for NOMPI updated
- xmessy: amip-type sst/sic links corrected
- DATA:
  - new channel object rho_air_dry for density of dry air
- OFFEMIS, ONEMIS, TNUDGE: use now rho_air_dry for emission calculation,
  since mixing ratios are in mol(tracer)/mol(dry air)
- TREXP: use dry air mass for emission calculation

******************************************************************************

messy_d2.42n (14 Mar 2013)

CHANGES by Patrick Joeckel:
- JVPP (main.mk): added "-f" to "rm ... workdir_*/*";
  without this, gmake distclean stops with an error, if directories are
  already empty
- QBO: mbm repaired accordingly (set link to messy_main_compilerinfo_mem.f90)
- BLANK (messy_main_channel_blank.inc):
  compiler info included in global attributes

CHANGES by Rolf Sander:
- CAABA/MECCA updated to version 3.5: for details, see
  messy/mbm/caaba/CHANGELOG
- messy/util/mddiff: option "-L" added to find to follow symbolic links.
  Now mmdiff also shows the diff if there is a link in one directory and
  a link in the other (good). However, now duplicate diffs can appear
  when links point to a changed file (not so good).
- JVPP, JVAL, and JVNEW updated to version 12:
  - Note that JVAL now uses the new values from JVPP!!! The old (static)
    parameters have been moved into the JVST submodel.
  - bug fixes for N2O5 and CO2

******************************************************************************

messy_d2.42m (13 Mar 2013)

CHANGES by Rolf Sander:
- JVAL, JVPP: update with bug-fixes

CHANGES by Patrick Joeckel:
- IMPORT_RGT: allow time dependent index range for IXF regridding
  (thanks to Holger Tost)
- config/mh-linux*: option -fno-backslash added to all g95 entries
  (thanks to Rolf Sander)

CHANGES by Gregor Glaeser:
- M7 (messy_m7_si.f90): bug-fix (2x), idt=idt_mduai

******************************************************************************

messy_d2.42l (01 Mar 2013)

CHANGES by Holger Tost:
- config/mh-linux-64:
  - MOGON cluster (ZDV Mainz) added
- xmessy_mmd:
  - MOGON cluster (ZDV Mainz) added
- DDEP: drydep_calc_radius_mass modified to be consistent with SEDI
	and SCAV
- SCAV: submodel update
  - evaporation of cloud and rain droplets modified to also affect
    aerosol number distributions
  - nucleation scavenging modified: selectable whether (old)
    parameterised nucleation scavenging routine should be used, or if
    available aerosol activation = nucleation scavengingfrom the cloud
    channel
- GMXE: submodel update
  - removed unneccessary channel objects
  - additional diagnostics
  - dconc subroutine modified and extended also for insoluble modes
- AEROPT: submodel extension
  - reading of external data refurbished / extended
  - merging of data sets newly implemented
-CLOUD:
  - lohmann10 subroutine added -> new version of the 2 moment scheme
    following Lohmann et al., ACP, 2010; updated interface routine
  - cloud droplet call order refurbished
  - activation fractions and numbers refurbished and extended including
    memory management (ARG, Lin)
  - critical supersaturation for ARG scheme, either calculated following
    ARG or imported from aerosol submodel (GMXE provides values)
- CONVECT:
  - ECMWF: relaxation time constant added for T63
  - Emanuel: cth included
  - e5: new channel objects for individual counters of convection type,
    cth for types, updraft massflux for types

******************************************************************************

messy_d2.42k (28 Feb 2013)

CHANGES by Phoebe Graf and Patrick Joeckel:
- SCAV: LTEND_HNO3 removed and generalised for arbitrary tracers
	(new namelist parameter "te_string" with tracer names of which
	tendencies should be saved as a copy in a new channel object)

CHANGES by Patrick Joeckel:
- xmessy_mmd:
  - f_copynml: allow subdirectories in nml-directory
  - special cases for onlem and offlem removed
  - MBASE must now be set to MBASE=EVAL2.3/messy for setups using the
    old input data structure; the default is MBASE=. for setups using the
    new input data structure
- messy/util/dau-ngrade.tcsh updated
- VAHR: some minor modifications

CHANGES by Rolf Sander and Patrick Joeckel:
- JVNEW renamed to JVST (ST for STatic)
  - JVAL contains now the JPL-2011 update, JVST the "old" values

CHANGES by Patrick Joeckel:
- JVPP:
  - messy/mbm/jval/jvpp is link to ../../tools/jvpp
- JVAL:
  - messy_jvnew_si.f90 and messy_jval_si.f90 synchronised

CHANGES by Rolf Sander:
- CAABA/MECCA updated to version 3.4:
  - rate coefficients updated to JPL-2011
  - for details, see messy/mbm/caaba/CHANGELOG
  - for kp4, "PUBLIC :: NVAR" added to tools/kp4/templates/module_header
- JVPP, JVAL, and JVNEW updated to version 11:
  - Note that JVAL now uses the new values from JVPP!!! The old
    parameters have been moved into the JVNEW submodel.
  - temperature dependence for O3
  - bug fix for O2
  - for details, see messy/mbm/jval/CHANGELOG
- config/mh-linux: updated for bromine
- mbm/rnd/Makefile: version 0.9 of g95 not supported anymore
- messy/mbm/mecca1/rpl/mim1/OCS.rpl: SO2 photolysis deactivated because
  it is not included in JVAL anymore

CHANGES by Rudolf Deckert:
- DDEP: new feature implemented: calculation of soil sink based on
  prescribed (e.g., IMPORT_RGT) deposition flux

CHANGES by Patrick Joeckel:
- DDEP (messy_ddep_si.f90): unified PARAMETERs and USE statements
- ECHAM5.3.02:
  - mo_midatm.f90: MESSYTENDENCY removed (is not in MESSy submodel GWAVE)
- ECHAM5.3.01:
  - mo_ssortns.f90:
    modified according to changes in ECHAM5.3.02 (see below)

CHANGES by Markus Kunze:
- GWAVE (messy_gwave_si.f90):
  - representation of 3D pointers changed from GP_3D_INT to GP_3D_MID
- DATA (messy_main_data_bi.f90):
  - added additional 6 3-D channel objects:
    gworo_du, gworo_dv, gworo_dt  ! tendency due to ORO GW DRAG
    gwlif_du, gwlif_dv, gwlif_dt  ! tendency due to MOUNTAIN LIFT
  - removed channel objects gwdrag_u, gwdrag_v, gwflux_u, gwflux_v which
    are part of GWAVE channel
- ECHAM5
  - mo_midatm.f90 (2x): MESSY-specific code (preprocessor) removed
    from subroutine gwspectrum; this is now part of MESSy submodel GWAVE
    and therefore (#ifdef MESSY) not called from physc.f90
  - mo_ssortns.f90:
    The local arrays in subroutine ssodrag are transformed to pointers,
    corresponding to the channel objects in messy_main_data_bi.f90

CHANGES by Holger Tost:
- AEROPT (messy_aeropt_e5.f90): bug-fix (1:kproma)

CHANGES by Patrick Joeckel:
- check_import_rgt.tcsh, check_objects.tcsh: list only object names
  which are really created (thanks to Christopher Kaiser)
- IMPORT_RGT:
  - two consitency checks with error messages introduced (IFX and 2D fields)
- RAD4ALL_FUBRAD:
  - check correspondance between nbands and number of parameters
    (messy_rad4all_fubrad_e5.f90, subroutine rad4all_fubrad_init_coupling)
- CHANNEL:
  - messy_main_channel_e5.inc (subroutine associate_streams_to_channels):
    new attributes grid_type, table (gribtable) and code (gribcode) added
    (to facilitate application of afterburner)

CHANGES by Sabine Brinkop and Roland Eichinger:
- TENDENCY: surf removed
- SURFACE: update for TENDENCY

CHANGES by Gregor Glaeser:
- DATA: forced exit for ivctype/=1 removed
- M7: typo 'KI' as subname instead of 'ki' removed
      (Note by PJ: this was already fixed earlier)

CHANGES by Astrid Kerkweg:
- TIMER:     interrupt simulation if dt from namelist /= delta_time

CHANGES by Christiane Hofmann:
- TROPOP: bug-fix mean sealevel pressure (ECMWF routine replaced
	  for consistency reasons)

CHANGES by Hella Garny:
- O3ORIG: dependency on tropopause removed

CHANGES by Marina Astitha, Holger Tost and Astrid Kerkweg:
- M7: bug fix (missing parantheses in denominator added) in m7_vdiff
  (mass to number conversion factor for dust emissions)

CHANGES by Bastian Kern:
- CHANNEL (messy_main_channel.f90): bug-fix/compiler work-around in
  SUBROUTINE clean_channels
- SCAV (messy_scav_inter.f90): bug-fix, INTENT(INOUT) for cprod_arr
- E4CHEM:
  - move photolysis rates out of daytime-condition to avoid undefined
    values in diagmostics

CHANGES by Patrick Joeckel:
- mh-linux-64: updates for SuperMUC, SuperMIG
- configure.in (configure), Makefile.in, */Makefile.in:
  - no MESSYTENDENCY, MESSYTIMER or MESSYMMD without MESSY
  - COMPILER passed through to enable switching off -check for some files
    in specific.mk (INTEL)
- ECHAM5 (5.3.01):
  - physc.f90: updated according to modifications in 5.3.02
  - mo_tmp_buffer.f90: some allocatable arrays converted to pointer
- ECHAM5 (2x):
  - labrun.f90 updated
- USE_SURFACE in all switch.nml
- link to DEFAULTS/surface.nml for all namelist setups with ECHAM5*nml
- messy/nml/README updated
- WARNINGS updated

CHANGES by Sabine Brinkop:
- ECHAM5 (5.3.02, physc.f90): call new submodel SURFACE (via messy_mixlo)
  instead of surf, lake, icetemp, soiltemp and sicetemp
- DATA:
  - new channel objects and arrays for SURFACE
- SURFACE: new submodel replacing surf, lake, icetemp, soiltemp and
	   sicetemp from ECHAM5
- MLOCEAN:
  - new switch L_LGMC to detect if Lagrangian Moist Convection (LGMC) is
    on; in this case call MLOCEAN from mlocean_global_end
  - new subroutine mlocean_global_end
  - private subroutines mlocean_mlayerocean and mlocean_mlflx with
    parameters jrow and kproma to be callable with explicit loop
    from mlocean_global_end

CHANGES by Klaus Klingmueller and Holger Tost:
- AEROPT: bug-fix

CHANGES by Christine Froemming and Patrick Joeckel:
- CONTRAIL largely revised
  - SMILified (messy_contrail_si.f90), modified files:
    messy_main_control_c4.f90, messy_main_control_e5.f90
  - calculation of potential cloud cover split from calculation
    of contributions from emissions and ageing
  - independent grid-point and Lagrangian calculation

CHANGES by Patrick Joeckel:
- config/mh-linux-64
  - updates for hydra @ RZG
- xmessy_mmd:
  - update (changes for hydra) LoadLeveler
  - update (changes for hydra) datapath and environemnt settings
- E4CHEM (thanks to Bastian Kern):
  - several bug-fixes for rank-identifiers in messy_e4chem_si.f90
- TROPOP, SUBROUTINE WMOtropop (thanks to Christiane Hofmann):
  - initialisation of variables added
  - loop bounds corrected
- NCREGRID (thanks to Holger Tost):
  - messy_ncregrid_tools.f90, messy_ncregrid_netcdf.f90:
    added NULLIFY(.) for several pointers
- TREXP:
  - bug-fix, limited pbound alias pressi_3d to 1:nlev, because
    otherwise level index can become out of range (> nlev!)
- WARNINGS updated (new section with downward compatibility issues)
- LNOX: revision
  - updated all namelist files according to code modifications
    (see WARNINGS!!!)
  - original LNOX-namelist files renamed to -bak
  - introduced two modes of operation, one for estimating the scaling factors
    and one for production simulations (new namelist switch l_mode_scal)
  - removed namelist switch i_scal and corresponding subroutine lnox_rescal
    for online grid-dependent re-scaling, which could not be used for
    regional model instances and was insufficient for global models
    (scaling factors had always to be re-adjusted manually)
  - r_scall_ff, r_eff and r_noxpf are now arrays, i.e. independent
    scaling factors etc. for all parameterisations are now possible
    (this is required, if all parameterisations shall be run for a production
    to diagnose uncerteinties!)
  - operation mode, r_scall_ff, r_eff and r_noxpf are output (as channel
    attributes) to netCDF files
  - added messy/util/lnox_scale.jnl to calculate the scaling factors from
    LNOX-output (run with l_mode_scal=T)
- CHANNEL (messy_main_channel_bi.f90): avoid broadcasting of lexit
  in messy_channel_read_restart and messy_channel_write_output
- TREXP:
  - bug-fix, moved creation of channel objects to init_coupling, because
    structure component ierr is required
  - unit of molar mass corrected
  - number of emission time steps corrected
- xmessy_mmd: modifications for profiling and tracing
- TRANSFORM (messy_main_transform_bi):
  - new optional parameter xpe for scatter_glix and gather_glix for
    'executing pe', to enable exection on other than p_io
- QTIMER:
  - check existence of dimension NCPUS
  - new preprocessort directive _MPI_ALLGATHER for alternative
    communication pattern (based on MPI_ALLGATHER instead of MPI_BCAST)
- MPI (messy_main_mpi_bi.f90): new subroutines p_allgather and p_scatter
- CHANNEL:
  - messy_main_channel_bi.f90:
    - new decomposition type DC_AG (for 'all_gather'), 4th rank must be
      number of PEs
  - messy_main_channel_repr.f90:
    - new FAST_REORDER for 1342 and 1423
- BLATHER:
  - subroutine info_bi: optional parameter l_all to output log information
    on all PEs (e.g. for debugging)
- WARNINGS updated
- MAIN_RND:
  - implemented efficient "jump ahead" facility for Mersenne Twister
    for parallelisation of pseudo random number sequence(s)
  - new file: messy_main_rnd_mtw_ja.f90
  - modified files:
    - messy_main_rnd.f90:
      - new subroutine rnd_jump
      - Luxury pseudo random number repaired to achieve independent but
	reproducible streams of pseudo random numbers
      - error messages improved
    - messy_main_rnd_bi.f90:
      - completely revised, 4 different methods exist now for
	pseudo random number generation in the parallel environment
- new MBM RNDJ (test program for jumping ahead)
- MBMs CAABA, RND, BLANK, CMAT: new links to messy_main_rnd_mtw_ja.f90

CHANGES by Markus Kunze:
- config/mh-linux, mh-linux-64: upates for FUB computers
- RAD4ALL, RAD4ALL_FUBRAD:
   The main changes introduced in rad4all are necessary to get
   the right shortwave fluxes at the surface and at the top of the
   atmosphere, when the sub-submodel rad4all_fubrad is used.
   Additional changes were made by the introduction of new namelist
   parameters, which can be usefull for model tuning when coupling
   to an ocean.
- messy/echam5/smil/
  - messy_rad4all_e5.f90
    - To have additional namelist parameters for model tuning:
      - new switch rset_zinhomi to reset the parameter zinhomi
      - new switch rset_zinhoml to reset the parameter zinhoml
      - new switch rset_zinpar to reset the parameter zinpar
      - new switch rset_asic to reset the parameter asic
      - new switch rset_solc to reset the parameter solc
	The switch can be used to replace the parameter solc with a value given
	by the namelist (the switch works for lfubrad = F).
    - To do simulations with a different distribution of spectral solar
      irradiances:
      - rsun_scale, used from module messy_rad4all_short, can be changed via
	namelist.
    - Declaration of new diagnostic variables as 3-dimensional pointers,
      to be contained in the rad4all channel. The short-wave and long-wave
      heating rates for the 4-band scheme are now calculated in
      rad4all_radheat_smcl and the output is written to the rad4all channel:
      flxnir_3d (SW flux NIR bands 2-4), flxsw1_3d (SW flux UVvis 1. band),
      trnir (transmissivity NIR), trnif (transmissivity NIR clear sky),
      trsw1 (transmissivity UVVIS), trs1f (transmissivity UVVIS clear sky),
      heatmosw (SW4 sw-hrates total sky), heatlw (LW-hrates total sky)
      heats1   (UV-Vis-hrates total sky), heatni (NIR-hrates total sky)
    - New 3-dimensional pointers, initialised via rad4all_init_coupling with
      channel objects of the rad4all_fubrad channel:
      flxfub_3d (SW flux FUBRad), flxdo_3d (SW flux FUBRad downward),
      flxup_3d (SW flux FUBRad upward), flxhart_3d (SW flux Hartley),
      trfub (transmissivity FUBRad), trfubc (transmissivity FUBRad clear sky)
    - In SUBROUTINE rad4all_radiation:
      - added the possibility to reset the solar constant
      - the flux profiles are saved separately for NIR and UV-Vis
    - In SUBROUTINE rad4all_radheat:
      - Added heatmosw and heatlw to the interface of rad4all_radheat_smcl
      - If FUBRad is active, the following subroutine calls correct the SW-flux:
      - rad4all_fubrad_flx2tr, rad4all_fubrad_diag, rad4all_fubrad_fluxes
    - In SUBROUTINE rad4all_interface:
      - Added ptrnir ptrsw1, ptrnif, and ptrs1f to the interface (output),
	to get the transmissivity profiles for NIR and UV-Vis for total sky
	and clear sky
  - messy_rad4all_fubrad_e5.f90
    - New public subroutines:
      rad4all_fubrad_flx2tr (convert fubrad fluxes to transmissivity),
      rad4all_fubrad_diag (calculate surface and TOA diagnostics),
      rad4all_fubrad_fluxes (correct flxs_3d for FUBRad levels)
    - New 3-dimensional pointers, initialised in rad4all_fubrad_init_memory,
      to be contained in rad4all_fubrad channel:
      flxfub(SW flux FUBRad), flxdo, flxup (SW flux FUBRad downward, upward),
      flxhart (SW flux Hartley), trfub, trfubc (transmissivity FUBRad,
      (c) clear sky)
    - In SUBROUTINE rad4all_init_coupling:
      - heatmosw is coupled to channel object heatmosw in rad4all channel.
    - New namelist parameter nbands to choose the spectral resolution of FUBRad
    - In SUBROUTINE rad4all_fubrad_initialize:
      - CALL fubrad_ini_param (initialize parameters, that depend on spectral
	resolution)
      - CALL fubrad_initialize_fluxes (initialize fluxes and absorption
	cross sections)
    - In SUBROUTINE rad4all_fubrad_global_start:
      - CALL fubrad_global_flux_ini (initialize TOA fluxes for current time
	step)
    - In SUBROUTINE rad4all_fubrad_radheat:
      - updated interface to prepare_radiation (added altswc_2d, tropospheric
	albedo for SW-flux, clear sky)
      - updated interface to middle_atmosphere_heat_rates (removed heatlw)
- messy/smcl/
  - messy_rad4all.f90 (changed modver to '2.3')
    - Added lfubrad (used from messy_rad4all_fubrad, needed in
      rad4all_radheat_smcl)
    - Added asic (PUBLIC, SAVE) can be changed via namelist
    - In SUBROUTINE rad4all_rad_smcl
      - updated interfac; added:
	- pflnir, pflnirc    net NIR flux profiles
	- pflsw1, pflsw1c    net UVVIS flux profiles
      - deleted calculation of zheat, zceat (not part of output);
	removed zheat and zceat from rad_sw_SW interface
      - additional local variables, to get NIR and UVVIS fluxes separately);
	zfnird, zfniru, zfcnird, zfcniru, zfsw1d, zfsw1u, zfcsw1d, zfcsw1u;
	added to rad_sw_SW interface
      - moved initialisation of zasic to messy_rad4all_e5:rad4all_set_param
    - In SUBROUTINE rad4all_radheat_smcl
      - updated interface; added:
	ptrsw1,  ptrnir     UV-Vis, NIR transmissivity  (INTENT(in))
	pflxs1,  pflxni     UV-Vis, NIR fluxes          (INTENT(inout))
	pheatsw, pheatlw    short- and long-wave heating rates in K/s
	(INTENT(out))
	pheats1, pheatni    UV-Vis, NIR heating rates (INTENT(out))
      - If used with FUBRad psrad0, psrad0u, psraf0 are not calculated
	(this is done in the separate subroutine rad4all_fubrad_diag)
  - messy_rad4all_short.f90
    - Added rsun_scale(1:4) (initialised with the default values);
      can be changed via namelist
    - ZSUN4(1:4) are initialised with values of rsun_scale(1:4)
    - In SUBROUTINE rad_sw_SW:
      - updated interface; removed PHEAT and PCEAT
	added PFDNIR, PFUNIR, PCDNIR, PCUNIR, PFDSW1, PFUSW1, PCDSW1, PCUSW1
      - updated interface to middle_atmosphere_upward_flux:
	added pcu,pcd (clear sky upward and downward fluxes)
  - messy_rad4all_fubrad.f90 (changed submodver to '1.2')
    - added allocatable arrays to store the input spectral fluxes and the
      cross sections; initialised in fubrad_initialize
    - New SUBROUTINE fubrad_initialize_fluxes:
      initialize FUBRad local arrays with the predefined solar fluxes for
      maximum and minimum conditions, and the absorption cross section for
      O3 and O2
    - New SUBROUTINE fubrad_global_flux_ini:
      The code originally distributed in several subroutines is gathered to
      initialize the fluxes only at global start.
    - In SUBROUTINE middle_atmosphere_downward_flux:
      - added call to lymanalpha (was in middle_atmosphere_heat_rates before)
    - In SUBROUTINE middle_atmosphere_heat_rates:
      - removed heatlw from the interface as it is calculated in rad4all
      - converted flux_lya to pointer;
	points to fllya, calculated in middle_atmosphere_downward_flux
      - only one loop over nswlev is necessary
      - removed some loops over kproma
    - In SUBROUTINE o3fluxes
      - added pfluxc to interface (output) - Total upward flux clear sky
      - increased the spectral resolution in the Chappuis band (nchap);
	nchap can be 1, 6 or 57 (determined by namelist parameter nbands)
      - added the integrated flux of non absorbing Chappuis interval
	to the upward and downward flux (this was done in
	middle_atmosphere_downward_flux before with the constant 54.25)
    - Replace the functions QCHAP, QHUGG, QHERZ, QHART with the
      simpified functions flx3 and flx32
    - New SUBROUTINE fubrad_ini_param:
      - use the namelist parameter nbands to initialise nchap and the
	Chappuis indices.
CONVECT:
  - messy_convect_e5.f90
    - broadcast the new namelist switches of messy_convect_tiedtke.f90:
      rset_cmfctop, rset_cprcon, rset_entrscv
  - messy_convect_tiedtke_param.f90
    - To have additional namelist variables for model tuning:
      - new switch rset_cmftop to reset the parameter cmftop
      - new switch rset_cprcon to reset the parameter cprcon
      - new switch rset_entrscv to reset the parameter entrscv
    - In SUBROUTINE cuparam_init:
      - Added section where namelist switches can be used to redefine the
	parameters:
	cmftop, cprcon, entrscv.
  - messy_convect.f90
    - Added namelist variables rset_cmfctop, rset_cprcon, rset_entrscv
      to NAMELIST /CTRL_TIEDTKE/.

CHANGES by Bastian Kern:
- M7: initialize wetradius, dryradius, densaer always with zero

CHANGES by Patrick Joeckel:
- configure.in/configure/locate_f90.sh.in: bug-fix to remove potential
  compiler prefix for scaling, profiling etc.
- MBM/TRACER: dummy p_sum(_2d) added to messy_main_mpi_bi.f90
- MPI: function p_sum(_2d) added to messy_main_mpi_bi.f90 (for BLANK)
- TRACER_PDEF: loop over p_bcast replaced by p_sum, modified files:
  - messy_main_tracer_pdef.f90: avoid summation over PEs in
    tracpdef_integrate, CASE(2)
  - messy_main_tracer_pdef_bi.f90: summation over PEs with p_sum
  Note: Function p_sum is based on MPI_ALLREDUCE(...MPI_SUM...),
	which potentially causes parallel decomposition
	dependent results (for the sake of an increased performance!).
	For the purely diagnostic quantitiy 'global trace mass',
	which has no feedback to the dynamics, this approach might be
	justifiable.

CHANGES by Hiroshi Yamashita and Patrick Joeckel:
- TRANSFORM: bug-fix in scatter_glix_4d (indices corrected!)

******************************************************************************

messy_d2.42j (23 Sep 2012)

CHANGES by Bastian Kern and Patrick Joeckel:
- configure.in/configure: new option PROFILEMODE for profiling with
  tprof, scalasca, vampir, ...
- config/mh-aix: PROFILEMODE tprof, scalasca, vampir
- xmessy_mmd: profiling for IBM poe implemented (tprof, scalasca, vampir)

CHANGES by Bastian Kern:
- MPI: new subroutine allgather_arr
- SCALC: update
- CONVECT (messy_convect_tiedtke_param.f90): update of cmfctop and cprcon
  for T42L47MA and lcouple .OR. lipcc
- RAD4ALL: update of zinhoml (only for lcouple)

CHANGES by Christine Froemming and Sabine Brinkop:
- CONTRAIL: update
- AIRTRAC: update

CHANGES by Sabine Brinkop:
- TREXP:
  - new channel object "rnow_NNN" for each emission point (001-999)
  - modified index search (nl_index) for vertical placement
- TOOLS: new subroutine nl_index for finding nearest index above/below in
  monotonous list

CHANGES by Phoebe Graf and Patrick Joeckel:
- ECHAM5-NUDGING (mo_nudging_sst.f90, 2x): bug-fix for sst data time control
  (if a restart occurred within the first 12 hours (=nsstoff default), another
  sst (time) has been used as without restart!)

CHANGES by Duy Cai and Patrick Joeckel:
- TRACER_FAMILY (messy_main_tracer_family.f90, tracfamily_newtrac):
  - put list of family members with weigths into long-name

CHANGES by Astrid Kerkweg:
- TRACER: new integer containers added (I_INITIAL, I_LBC, I_DAMP, I_GRIBTAB,
  I_GRIBPARAM)

CHANGES by Patrick Joeckel:
- CHANNEL (messy_main_channel.f90, messy_main_channen_io.f90):
  - bug fix for correct MIN and MAX output
- MECCA:
  - gas_mim1.eqn: function uef (uncertainty estimate function,
    approximated by 3rd order polynomial, for G7603) added
  - meccalit.bib: @TECHREPORT{2626 ..-} added
  - several batch, diagtrac and replacement files added
- KP4 (kp4.sh):
  - uef added to KPP_SUBROUTINE_LIST
- CHANNEL and xmessy_mmd: check-sum (md5sum) of executable as
  globale attribute; modified files:
  - xmessy_mmd: new function f_get_checksum
  - messy_main_channel.f90, messy_main_channel_bi.f90,
    messy_main_channel_e5.inc, messy_main_channel_c4.inc,
    messy_main_channel_cm.inc, messy_main_channel_blank.inc
- config/mh-linux-64 and xmessy_mmd:
  - modifications for DLR Linux-Cluster
  - modifications for LRZ SuperMIG/SuperMUC
- several submodels (all layers!): correctly NULLified string-arrays
  (used in strcrack)
- CHANNEL (messy_main_channel.f90, messy_main_channel_netcdf.f90)
  - output MINVAL and MAXVAL of channel object to log-file, if
    I_VERBOSE_LEVEL >=4
- SCAV (messy_scav.f90): POINTER strname NULLified

******************************************************************************

messy_d2.42i (19 Jul 2012)

CHANGES by Patrick Joeckel:
- xmessy_mmd: *rerun* repleced by rerun* to avoid moving of output-files
  with rerun suffix to save subdirectory
- M7 (messy_m7_si.f90): bug-fix (labels must not have the same name as
  declared variables)
- ONEMIS (messy_onemis.f90): bug-fix (loop index D declared as INTEGER,
  instead of REAL(dp))
- nml setup DU2 renamed to ADUST; all new namelist files (import) ranamed
  according to corresponding netCDF files, import.nml modified accordingly
- nml setup I2C moved to MBM/i2c, xmessy_mmd.i2c* modified accordingly

CHANGES by Astrid Kerkweg:
- CHANNEL:
   - messy_main_channel_e5.inc
     belowsf unit and dimension variable changed from 'cm' to 'm'
- M7: - unification of coupling of dust emissions:
	l_dust and l_dust_tegen replaced by l_dust_ci and l_dust_ai
      - all namelists adjusted to renaming of dust emission fluxes in ONEMIS
- ONEMIS:
  - unification of pointers for dust_emissions
  - 'DU1', 'DU2' renamed to 'DU_Astitha1','DU_Astitha2'
  - channel objects and pointer renamed to enable parallel execution of dust
    emission routines.
  - use airdens calculation from ONEMIS for DU_Astitha
  - define Parameter ustarthr as INTENT(INOUT), with INTENT(OUT) ustarthr should
    be always undefined following the Fortran standard for DU_Astitha.
- m7.nml / onemis.nml all namelists changed consistently

CHANGES by Marina Astitha:
- ONEMIS: 2 extra dust emission schemes introduced ('DU_astitha1'/'DU_astitha2')
- M7:     Astitha schemes introduced

CHANGES by Patrick Joeckel:
- CHANNEL: bug fix (verbose level) in messy_main_channel.f90, subroutine
  get_channel_object

******************************************************************************

messy_d2.42h (22 Jun 2012)

CHANGES by Astrid Kerkweg:
- TRANSFORM: options linclbnd, lprinterr added
- MPI:       init_par_utilities(4) added
- CHANNEL:   decomposition type DC_MMD_OUT added

CHANGES by Patrick Joeckel:
- xmesssy_mmd:
  - RESTART and CYLCE cleaned up in messages
  - $EXECUTABLE used everywhere (hard-wired names removed)
  - automatic detection of nudging sub-directory

CHANGES by Christine Froemming and Patrick Joeckel:
- TREXP (messy_trexp_si.f90): memory leak fixed (for L_GP=.FALSE.)

******************************************************************************

messy_d2.42g (01 Jun 2012)

CHANGES by Patrick Joeckel:
- QTIMER: CPL namelist switch l_deep_thought (default .TRUE.) to
	  suppress deep thought

CHANGES by Astrid Kerkweg:
- CHANNEL: warning to log-file, if object not found

CHANGES by Patrick Joeckel:
- OFFEMIS: bug-fixes in TENDENCY implementation

CHANGES by Sabine Brinkop:
- RND: bug-fix in messy_main_rnd_bi.f90, subroutine main_rnd_init_coupling

CHANGES by Patrick Joeckel (thanks to Hella Riede):
- messy/util/dau-ngrade.tcsh updated
- PSC, MSBM (both SMIL): hard-wired constants replaced by PARAMETERS from
  messy_main_constants_mem.f90

******************************************************************************

messy_d2.42f (23 May 2012)

CHANGES by Patrick Joeckel:
- RND: new messy_main_rnd_bi.f90 (for restart handling)
  modified files: messy_main_control_e5.f90, messy_main_control_c4.f90,
  messy_main_control_blank.f90
- TNUDGE: bug fix in MESSYTENDENCY implementation (wrong levels)
- messy/util/check_objects.tcsh upated for ch4*.nml
- new submodel CH4 for simplified methane chemistry (reaction with prescribed
  OH, O1D, Cl and photolysis); based on butterfly-implementation by
  Martin Weismann

CHANGES by Hiroshi Yamashita:
- CHANNEL: flexible rank for index decomposition (dcindex); modified files:
  messy_main_channel_repr.f90, messy_main_channel_bi.f90

CHANGES by Holger Tost:
- AEROPT (messy_aeropt_e5.f90): bug-fixes for local array variables

CHANGES by Patrick Joeckel:
- messy/util/lst2log.gawk: bug-fix for filenames with "f90" in name
- echam5(3.02,3.01)/Makefile.in (2x): bug-fix in LIBSRCS for forcheck
- NCREGRID: messy_ncregrid_tools_e5.f90 modified to allow NCFILE
  regridding of parameter variables; subroutines RGTOOL_E5_READ_NCVAR and
  RGTOOL_E5_READ_NCFILE overloaded for 4D and 5D data, respectively
- IMPORT_RGT: messy_main_import_rgt_bi.f90 modified to allow NCFILE
  regridding of parameter variables
- TREXP: new CPL namelist switch l_allow_ext (default: .FALSE.) to allow
  reaction / decay for non-TREXP tacers (for GP and LG tracers)

CHANGES by Christiane Hofmann:
- TREXP: allow reaction / decay for non-TREXP tracers (GP tracers only)

******************************************************************************

messy_d2.42e (08 May 2012)

CHANGES by Patrick Joeckel:
- messy/nml/EXAMPLES/switch.nml: PTRACINI and MMD2WAY added
- messy/util/dau-ngrade.tcsh updated
- updates for check_import_rgt.tcsh, check_import_ts.tcsh
- new messy/util/check_objects.tcsh for checking consistency of
  channel objects between tnudge.nml, offemis.nml, onemis.nml and import.nml
- messy/util/check_tnudge.tcsh removed

CHANGES by Christiane Hofmann:
- PTRACINI: new submodel; This submodel initialises tracers
  (during the simulation, not during the initial phase) according to field
  given in the namelist.)

******************************************************************************

messy_d2.42d (04 May 2012)

CHANGES by Sergey Gromov:
- MECCA(_TAG and _DBL): several updates
- SCAV (messy_scav_si.f90):
  additional code for TAG/DBL in preprocessor directive DBL;
  this should be later solved via MESSYTENDENCY

******************************************************************************

messy_d2.42c (23 Apr 2012)

CHANGES by Patrick Joeckel:
- IMPORT_TS (subroutine its_set_value_ts): bug-fix; avoid further processing
  (interpolation) if time is out of range and continuation is requested

******************************************************************************

messy_d2.42b (16 Apr 2012)

CHANGES by Christine Froemming:
- CONTRAIL: new submodel
- AIRTRAC: update
- CLOUD: additional diagnostic channel object rhc
  (critical humidity for natural clouds); modified files:
  messy_cloud_cover.f90, messy_cloud_e5.f90
- SCAV: new diagnostic channel object (HNO3 tendency) with CPL-namelist switch
  LTEND_HNO3 (default: FALSE); modified files:
  messy_scav.f90, messy_scav_si.f90

CHANGES by Patrick Joeckel:
- TREXP: #define _TFCORR only for ECHAM5
- CLOUD (messy_cloud_e5.f90): initialise qp1, temp, ztvp1, xlp1, xip1 with
  0.0_dp to avoid undefined values; intialise cloud_tte, cloud_qte,
  cloud_xlte, cloud_xite with 0.0_dp also for kproma:nproma
- echam5/Makefile.in (2x):
  bug-fix in determination of LIBSRCS (e.g. for forcheck)
- messy/smcl/specific.mk, config/mh-aix, config/mh-DEISA: update for
  RUNMODEs (compiler checks now part of F90FLAGS instead of F90)
- new (and updated for IBM Fortran/C on Linux) include/cfortran.h,
  identical files in echam5.3.02/support, libsrc/mmd/src,
  echam5.3.01/support
  replaced by symbolic links to include/cfortran.h
- xmessy_mmd:
  - call f_start_postproc from different (earlier) position
    (at the old position it is not called for last chain element!)
  - define WDIR for usage in namlist files
  - MMD call for openmpi MPI environment
- DATA: bug-fix for correct output of tm1, qm1, xlm1 and xim1 of ECHAM5 channel

CHANGES by Astrid Kerkweg:
- TIMER (messy_main_timer_bi.f90): bug-fix in setting stop date

CHANGES by Roland Eichinger:
- TENDENCY:
  - bug-fix in mtend_get_start_l; set jt for one tracer correctly

******************************************************************************

messy_2.42p2 (21 Sep 2012)

CHANGES by Patrick Joeckel:
- CHANNEL (messy_main_channel.f90, messy_main_channen_io.f90):
  - bug fix for correct MIN and MAX output

******************************************************************************

messy_2.42p1 (30 Mar 2012)

CHANGES by Patrick Joeckel:
- DATA: bug-fix for correct output of tm1, qm1, xlm1 and xim1 of ECHAM5 channel

CHANGES by Astrid Kerkweg:
- TIMER (messy_main_timer_bi.f90): bug-fix in setting stop date

CHANGES by Roland Eichinger:
- TENDENCY:
  - bug-fix in mtend_get_start_l; set jt for one tracer correctly

******************************************************************************

messy_2.42 (20 Mar 2012)

CHANGES by Patrick Joeckel:
- WARNINGS updated
- messy/util/OLD deleted
- ECHAM5
  - mo_io.f90 (5.3.02): IOR(...,NF_64BIT_OFFSET) for the remaining echam5 rerun
    file(s) (thanks to Mohamed Abdel Kader)
  - Makefile.in (5.3.02 and 5.3.01): HAVE_LIBNETCDF64 added to F90DEFS
- H2O: terminate simulation, if H2O tracer was not initialised
- SUBMOD3 (MBM BLANK), OTHERSM (MBM TRACER): call of tracer_iniflag modified
- TRACER: tracer_iniflag modified
- SCAV:
  - messy_scav_si.f90:
    - altitude = 5000.0 removed (is namelist parameter)
    - zcover initialized with 0._dp
    - mlev calculation moved out of kproma loop
  - messy_scav_inter.f90: max_lev_scav = MAX(2, max_lev_scav) added,
    because elements jk-1 of snow and pdmfdp are used
  - messy_scav.f90: mju_i(jl) = 1.e6_dp (_dp added)
- H2O: lstop=.TRUE. for RGTEVENT_READs
- ECHAM5 (physc.f90, 2x) and DATA (messy_main_data_bi.f90):
  - copies of tte, qte, xlte, xite into *_3d replaced by channel object
    references to channel scnbuf
  - copies of tm1, qm1, xlm1, xim1 into *_3d replaced by channel object
    references to channel g1a
  NOTE: Now the pointers to tte etc. (USEd through messy_main_data_bi.f90)
    and the respective *_3d pointers can be used equivalently. On medium
    term, all submodels need to be modified to use only one set!
- MBM BLANK (messy_main_control_blank.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- MBM QBO (messy_main_control_qbo.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- CLOUD: bug-fix (typo in preprocessor directive MESSYTENDENCY)
- xmessy_mmd: test MSH_HOST for user-defined (shell-environment) settings
- CVTRANS: bug fix (ntrac_gp instead of ntrac)
- TNUDGE:
   - channel object name conflict for multi-level nudging resolved
- TRACER:
  - global switches for tracer sets (L_??) moved from messy_main_tracer_bi.f90
    to messy_main_tracer_mem_bi.f90
- DATA:
  - bug fix: pointer assignment xtte_a only if L_LG (used from
    messy_main_tracer_mem_bi.f90)
- messy_check_all: avoid error messages, if basemodel is not present
- Makefile.in: bug-fix for target "check"
- echam5/Makefile.in (2x):
  - improved target "list"
  - bug-fix in LIBSRCS list
- DATA:
    NOTE: For ECHAM5 cossza_2d, cdisse and cdissem cannot be removed yet,
	  because they are heavily used (physc.f90, prerad.f90, etc.)
	  by RAD4ALL and the original ECHAM5 radiation (the latter, if
	  isw_rad4all = 1).
	  A revised radiation submodel should avoid this.
	  MESSy submodels should access cossza, cdisse and cdissem from
	  submodel ORBIT via channel objects.
- MEGAN:
  - cossza_2d now used as channel object (namelist controlled) from
    orbit (all megan.nml updated)
- aclocal.m4:
  - bug-fix in macro AC_GET_MH (avoid export of commented out assignments)
  - new macro AC_TEST_DOMAIN
- configure.in, configure:
  - use macro AC_TEST_DOMAIN
    Note: the result is so far only used in combination with mh-linux-64,
	where the HOST-Variable is directly tested
  - output information on COMPILER and RUNMODE options with --help option
- xmessy_mmd: function f_get_domain revised
- MECCA1:
  - all mecca1.nml: CTRL_UBP updated
  - messy_mecca1_vec.f90 updated (UBP changes)
  - messy_mecca1_vec_ubp_dec.inc updated (UBP changes)
  - messy_mecca1_vec_ubp_op.inc updated (UBP changes)

CHANGES by Holger Tost and Patrick Joeckel:
- SCAV (messy/smcl/messy_scav_inter.f90): bug fix in SUBROUTINE SCAV_MAIN
  and SCAV_MAIN2 (col_cov(:) = 0._dp);
  this missing initialisation caused diverging results in identical simulations!

CHANGES by Andreas Baumgaertner:
- GWAVE:
  - messy_gwave_si.f90: removed non-messy-conform lines
- TOOLS:
  - New Subroutine CalcTimeAngles
- messy_main_constants_mem.f90: added M_N2

CHANGES by Klaus-Dirk Gottschaldt:
- MECCA:
  - Butkovskaya reaction added as an option to: gas_mim1.eqn, gas.spc,
    diagtrac/gas_budgets_butkovskaya.tex, gas.tex, meccanism.tex,
    butkovskaya.bat, rpl/mim1/butkovskaya_*.rpl

CHANGES by Klaus-Dirk Gottschaldt and Holger Tost:
- SCAV:
  - updates for trapping and diagnostics

CHANGES by Holger Tost:
- SCAV: unified temperature usage (tm1, tte instead of tm1_3d, tte_3d)
  for impaction scavenging
  (modified files: messy_scav.f90, messy_scav_si.f90, all scav.nml)
- config/mh-linux-64, xmessy_mmd: settings for lc2login*.zdv.uni-mainz.de
- MPI:
  - mo_tr_gather.f90: bug-fixes for 4D fields
- AEROPT:
  - bug-fix
  - removed debug write statements in messy_aeropt_e5

CHANGES by Rudolf Deckert:
- MECCA1: revision of L41-UBP parameterisation
  - modified files: diagtrac.tex, gas.spc, L41_ubp.rpl, tracdef.tex,
    messy_mecca1.f90, messy_mecca1_ubp_dec.inc, messy_mecca1_ubp_op.inc,
    mecca1.nml

CHANGES by Astrid Kerkweg:
- ECHAM5 (mo_time_control.f90, 2x): bug fix in subroutine
  convert_steps2inter
- TIMER: NO_DAYS and NO_STEPS as namelist parameters implemented
  (modified files: messy_main_timer_bi.f90, messy_main_control_e5.f90,
  timer.nml, messy_main_timer.f90)
- messy_main_constants_mem.f90: new constant stDTDZ
- TROPOP: optional calculation of sea level pressure (according to ECMWF)

******************************************************************************

messy_d2.41n (15 Dec 2011)

CHANGES by Patrick Joeckel:
- RAD4ALL (messy_rad4all_e5.f90): lrestreq=.TRUE. as default for all objects
  in rad4all-channel; fields from radiation are used in radheat, but they
  are not calculated, if restart time step is without radiation calculation
- mo_memory_g3b.f90 (2x): lrerun=.FALSE. deleted for trfli, trflw, trfll,
  sofli, soflw, sofll; the variables are used in physc, but NOT calculated, if
  restart time step is without radiation calculation
- CHANNEL (messy_main_channel_pnetcdf.f90): bug-fix (repeated SAVE removed)
- Makefile.in: "gmake list" improved
- configure.in (configure), mh-linux-64, mh-linux, mh-aix:
  - (auto-)select compiler suite (Linux only, where available):
    ./configure [options] COMPILER=LF|INTEL|G95|GFORTRAN
    (default: machine dependent)
  - select run-time mode
    ./configure [options] RUNMODE=DEBUG|DEBUGOPT(AIX only)|PRODUCTION
    (defaults: Linux: DEBUG, AIX: PRODUCTION)
- QTIMER (messy_main_qtimer.f90): exclude external for gfortran
  (with __GFORTRAN__ preprocessor directive)
- ECHAM5 (src/labrun.f90, 2x): additional preprocessor directives __GFORTRAN__
  for getarg
- TENDENCY: bug fix (POINTER attribute does not allow INTENT attribute)
- E4CHEM:
  - cos zenith angle via namelist, some type modifications
  - all e4chem.nml changed accordingly
- OFFEMIS: terminate, if LG-method and/or GP-method is out of range
- xconfig, xmecca: bug fixes (exit if xmecca exits with error status)
- mo_mpi.f90: MPI_ATTR_GET replaced by MPI_COMM_GET_ATTR for OpenMPI
- ONEMIS:
  - terminate, if tracer does not exist
- OFFEMIS:
  - offemis_init_memory removed
- echam5.3.01/modules/mo_cloud.f90: cauloc for T31,T42 (lmidatm) corrected
- CLOUD (messy_cloud_ori.f90, sucloud): cauloc for T31,T42 (lmidatm) corrected
  (only relevant for echam5.3.01)
- config/mh-linux-64: settings for new Linux-Cluster at DLR
- MPI (mo_mpi.f90): poe-bug workaround for SuperMUC at LRZ (with
  preprocessor directive _XSUPERMUC) removed after poe update
- xmessy_mmd:
  - setup for DLR Linux Cluster
  - stop, if number of tasks is not equal to number of requested tasks
  - minor modifications (mainly for SuperMUC at LRZ)

CHANGES by Holger Tost:
- mo_tr_gather.f90: field declaration changed (mgather_gp3)
- AEROPT: submodel revised; modified files:
	  messy_aeropt_e5, messy_aeropt.f90, messy_aeropt_input.f90,
	  messy_aeropt_mem.f90, messy_aeropt_tanre.f90,
	  messy_aeropt_sets.f90, namelist
- CONVECT: messy_convect_e5.f90, messy_convect.f90: cleaned up
	   initialisation values
- GMXE:
  - various corrections/reformulations; modified files:
    messy_gmxe_e5.f90, messy_gmxe.f90, several sub-submodel files,
    namelists, added an additional gmxe_parameters.inc file,etc.
  - MBM removed
- IMPORT:
  - new oceanic OC emissions (for ONEMIS)
- CLOUD (messy_cloud_ori.f90): corrected wrong interpolation
- CHANNEL:
  - messy_main_channel_repr.f90 added fast transformation case
- ONEMIS:
  - two subroutines added for OC emissions coupled with seasalt
- SCAV: most submodel files (SMCL and SMIL) revised:
	- corrected convective liquid and ice water content
	  (thanks to Klaus-Dirk Gottschaldt and Sabine Brinkop)
	- change of order of processes (nucleation before impaction)
	- modification in nucleation scavenging parameterisation
	- evaporation of aerosols and gases

CHANGES by Astrid Kerkweg:
- ONEMIS:
  - get cosine of zenith angle via namelist
  - all onemis.nml changed accordingly

******************************************************************************

messy_d2.41m (03 Nov 2011)

CHANGES by Patrick Joeckel:
- SCAV (messy_scav_si.f90): bug-fix, undefined pointer was tested if
  associated (scav_init_coupling)
- MPI (mo_mpi.f90): poe-bug workaround for SuperMUC at LRZ (with
  preprocessor directive _XSUPERMUC)
- xmessy_mmd:
  - all not yet updated xmessy_mmd.* moved to messy/util/OLD
  - new sections for SuperMUC at LRZ
  - new function f_get_domain to determine host.domain
  - error message in f_check_restart improved
- configure.in,configure,config/mh-*:
  - alternative possibilities to specify netcdf-library
    (e.g. required for netcdf 4) and blas/lapack
    libraries (SPEC_NETCDF_INC, SPEC_NETCDF_LIB, SPEC_LABLA_LIB);
    for further comments see end of config/mh-linux(-64)
  - mh-linux-64: settings for SuperMuc at LRZ
- DDEP, SEDI, ONEMIS, OFFEMIS, M7: modified for MESSYTENDENCY
  - allow also lower boundary condition in vdiff; idea: in case
    of flux-option is active, the submodel tendency is zero but the
    vdiff-tendency is non-zero
  - register tracers individually
- JVAL: coupling of cdisse and cossza also for ECHAM basemodel
  completed; this requires now submodel ORBIT
  NOTEs: - cdisse and cossza_2d should be removed from messy_main_data_bi.f90
	   as soon as the new radiation module is finished
	   (use from ORBIT instead!);
	   in the current implementation, RAD4ALL still uses/fills
	   cdisse and cossza_2d from messy_main_data_bi.f90 !
	 - submodels ONLEM/ONEMIS, PHOTO, MEGAN and E4CHEM use cossza_2d
	   from messy_main_data_bi.f90
- ORBIT switched on in all namelist-setups that use JVAL (orbit.nml linked
  to DEFAULT)

CHANGES by Astrid Kerkweg:
- CHANNEL (messy_main_channel_bi.f90): trigger always with next-date
  in main_channel_update_timer, messy_channel_write_output
- DATA:
  - test cdisse removed
  - bugfix new calculation of ws
- JVAL:
  - coupling to cossza (orbit) added
  - bugfix pre-processor directives
- MECCA:
  - bugfix: do-loops range over ntrac not SIZE(xt,3)
- MECCA1:
  - bug-fixes in aero.rpl
- OFFEMIS: bugfix: in init_coupling mlev did not allow to distinguish
	    surface and Nx2D with only one z-level until now (required for
	    data exchange by on-line coupling)
- messy/util/init_restart: bugfix

CHANGES by Roland Eichinger:
- TENDENCY:
  - bug-fix in subroutine mtend_register (subroutine call without idt and idt_l)
  - main_tendency_init_memory moved/renamed to main_tendency_init_coupling

CHANGES by Andreas Baumgaertner:
- JVAL (messy_jval_box.f90): dp added

******************************************************************************

messy_d2.41l (30 Sep 2011)

CHANGES by Andreas Baumgaertner
- mh-linux-64: updates

CHANGES by Roland Eichinger and Patrick Joeckel:
- MESSYTENDENCY and all adapted submodels:
  - renamed:
     p0 -> v0 (subroutine formal parameter)
     p0t -> v0t (subroutine formal parameter)
     jt -> idt (subroutine formal parameter)
     i_idt -> idt_l (subroutine formal parameter)
     mtend_req_pv -> mtend_register
     mtend_it* -> mtend_id*
  - new feature for subroutine mtend_register: multiple calls with
    single tracer IDs or tracer lists are now possible

CHANGES by Astrid Kerkweg:
- OFFEMIS, ONEMIS, DDEP, SEDI, M7: adapted for MESSYTENDENCY
- OFFEMIS: new entry point offemis_init_memory
- MECCA: bug fixes with rank identifiers for MESSYTENDENCY
- MESSYTENDENCY:
  - finish replaced by error_bi
  - rank identifiers introduced
- messy_main_ppd_si.inc: new identifiers for number of tracers dimension

CHANGES by Roland Eichinger:
- CLOUD: special treatment of PSCs adapted for MESSYTENDENCY
- MESSYTENDENCY: update, new feature to request copies of tendencies of other
  submodels (subroutine mtend_request)

******************************************************************************

messy_d2.41k (29 Aug 2011)

CHANGES by Patrick Joeckel:
- messy_main_ppd_si.inc: new generic identifiers _XRI_hvh_ and
  _XRI_hhv_ defined, in order to avoid basemodel directives in SMIL-files,
  where appropriate
- TREXP:
  - bug-fix for multiple emission points (in space and time) for the same
    tracer(s)
  - icheck removed and replaced by nlev
  - modified for MESSYTENDENCY
- TNUDGE: modified for MESSYTENDENCY
- MECCA, MECCA_AERO: modified for MESSYTENDENCY
- TENDENCY: bug-fix (2 times l_closure added)
- DRADON: modified for MESSYTENDENCY
- CHANNEL: new namelist switch I_VERBOSE_LEVEL to control output to log-file
  (default 2, 0: only error, 1: initialise and finalise, 2: 1 and time loop)
  modified files: messy_main_channel_io.f90, messy_main_channel_bi.f90,
  messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90,
  messy_main_channel.f90
- SWITCH: new namelist parameter L_TIME_INFO to suppress
  output of time information in messy_physc
- CONTROL: output in messy_physc only for L_TIME_INFO = .true.

******************************************************************************

messy_d2.41j (02 Aug 2011)

CHANGES by Roland Eichinger and Patrick Joeckel:
- configure.in (configure), echam5.3.02/Makefile.in:
  new option / preprocessor directive --enable-MESSYTENDENCY

CHANGES by Roland Eichinger:
- WARNINGS: updated
- xmessy_mmd: copy tendency.nml (required for all setups)
- CONVECT: bug-fix, correct initialisation of sum_wat1, sum_wat2
  (ECMWF scheme)
- CLOUD, CONVECT, RAD4ALL, CVTRANS, GWAVE: (SMIL) alternative start value
  and tendency implementation with MAIN_TENDENCY
- MAIN_TENDENCY: new generic submodel for handling tendencies via
  subroutine calls (instead of direct modification) and internal
  diagnostics
  modified files: messy_main_control_e5.f90
- ECHAM5 (5.3.02 only!): new preprocessor directive encapsulated calls
  to MAIN_TENDENCY submodel; affected files:
  mo_midatm.f90, mo_ssortns.f90, mo_tpcore.f90, dyn.f90, physc.f90,
  scan1.f90, surf.f90, vdiff.f90

CHANGES by Patrick Joeckel:
- messy_main_tracer_bi.f90: all tracer-sub-array assignments encapsulated
  in corresponding if-statments
- TOOLS: SMCL now completely DP
- init_restart: bug-fixes
- all specific.mk: cleaned and updated
- messy/util/check_trac_out.tcsh: bug-fix

CHANGES by Astrid Kerkweg:
- M7: (patch_d2.41i_01) bug-fix in messy_m7_si.f90, completed if-statements

******************************************************************************

messy_d2.41i (26 Jul 2011)

CHANGES by Bastian Kern:
- SEDI: channel objects for instantaneous sedimention fluxes implemented
- TOOLS: str2num to convert strings into real, real(dp) and integer
- CONVECT (messy_convect_tiedtke_param.f90):
  IF(lcouple .OR. lipcc) cmfctop = 0.22_dp for T42L47MA
- messy_rad4all_e5.f90: modified zinhomi for T42L47MA, if coupled
- OTPHYYSC: tracer input from rivers as fields or constants
- SCALC: new submodel for "simple calculations with channel objects",
  currently SUMming is implemented

CHANGES by Patrick Joeckel:
- MSBM: data import via rgt event removed
- all msbm.nml, import.nml: import of H2SO4 for MSBM
- messy/util/init_restart update and bug-fixes
- messy/util/show_restarts.tcsh to list restart dates in save/????
  subdirectories
- TIMEPOS: preparations for common SMIL
- RAD4ALL:
  - new scalar channel object dt_offset to pass offset time in seconds to
    ORBIT
  - Note: The new RADIATION scheme needs to encapsulate (global_start)
	  the call to ORBIT:
	    1. RADIATON calculates trigger and time offset
	    2. ORBIT calculates orbit parameters with time offset
	    3. RADIATION calculates radiation
	    Currently, no coupling from ORBIT back to RAD4ALL is implemented!
- ORBIT:
  - modified for common SMIL; sinlat_2d, coslat_2d
  - new subroutine orbit_init_coupling for coupling to radiation
    (the offset in seconds for the radiation calculation is passed to ORBIT)
  - new CPL namelist parameter for offset coupling (radiation)
  Note: RAD4ALL does not (yet) use this, ORBIT is purely diagnostic;
	it is in preparation for the new radiation interface!
- DATA:
  - messy_main_data_bi.f90: sinlon_2d, sinlat_2d, coslon_2d, coslat_2d
- TOOLS:
  - nn_index revised; delivers now always indices in range, optional
    parameters fac and status added
  - locate_in_decomp (ECHAM5): initialisation of OUT variables

CHANGES by Astrid Kerkweg:
- AIRSEA:
  - modified for generalised SMIL (messy_airsea_si.f90)
  - division by zero avoided (SMCL)
- O3ORIG:
  - modified for generalised SMIL (messy_o3orig_si.f90)
  - division by zero avoided (SMCL)
- MADE: modified for generalised SMIL (messy_made_si.f90)
- E4CHEM: modified for generalised SMIL (messy_e4chem_si.f90)
- MSBM: modified for generalised SMIL (messy_msbm_si.f90)
- DATA:
   - channel object zust_2d added
   - precflx_no and precflx (similar snowflx) added
   - xlte, xite added
   - channnel object 'aclc' added
- CONTROL: new SMIL-fied submodels added/ renamed
- JVNEW, JVAL:
   - common SMIL
   - jrow removed from SMCL
   - Important note: photolysis calculations are now in single precision!
- M7: common SMIL
- SEDI: bug-fix in call to sedi_1

CHANGES by Volker Grewe and Patrick Joeckel:
- TREXP: time filter correction (only for classic emission points!) revised;
	 new namelist switch l_tf_corr (default: .FALSE.)

******************************************************************************

messy_d2.41h (01 Jul 2011)

CHANGES by Patrick Joeckel:
- MTCHEM (messy_mtchem_kpp.f90): force -qnocheck on IBM/AIX (smcl/specific.mk)
  because of statements like
    IF (ind_LISOPACO2>0)  RO2 = RO2 +  C(ind_LISOPACO2)
- CAABA/MECCA, KP4 (see messy/mbm/caaba/CHANGELOG):
  - xmecca, kp4.tcsh: make user_contributed/*.bat files selectable
- GWAVE:
  - messy_gwave_si.f90: added compiler directives (e.g. empty module for
    other models than ECHAM5, BLANK)
- xmessy_mmd: bug-fix in f_setup_mbm( ): not all infrastructure namelists
  must be available
- QBO: mbm repaired:
  - rank identifiers used, since QBO (messy_main_data_bi) uses hvh (as
    ECHAM5), but the objects in messy_qbo_si.f90 (shared with ECHAM5!!!)
    use the representations from BLANK (messy_main_channel_bi.f90), and
    BLANK is hhv
- TREXP: leap-frog correction (by Volker Grewe) deactivated with
  _TFCORR preprocessor directive (see header of messy_trexp_si.f90), since
  it does not yet work together with all other changes in TREXP

CHANGES by Andreas Baumgaertner:
- messy_main_spline.f90: "DP" introduced
- messy_main_cmn_gasaq.f90: bug fixes in comments for H2O and CH3OH (relevant
    for henry2tex.awk)
- KP4:
  - generalization with respect to submodel name (kp4.sh, kp4.tcsh,
    create_kpp_module.C, expand_decomp.C, expand_decomp.h
  - new submodel mtchem (--> directory def_mtchem)
- MTCHEM: new submodel
- CAABA/MECCA: generalization with respect to chemistry submodel name
  (for details, see messy/mbm/caaba/CHANGELOG)
- bug fixes in several files: changed line continuation for strings from
  && to &// (for compatibility with SunOS)

CHANGES by Rolf Sander:
- CAABA/MECCA: update to 3.2 (for details, see messy/mbm/caaba/CHANGELOG)
- messy/util/validate: check also all *.inc files for TABs
- Makefile.in: gmake TAGS updated
- messy_mecca_aero_si.f90: some local idt variables renamed:
  idt_Hp -> idt_Hp_aq etc.
- MTCHEM added:
  - messy/tools/kp4/def_mtchem
  - messy/smcl/messy_mtchem*
  - messy/smil/messy_mtchem*

CHANGES by Rolf Sander and Astrid Kerkweg:
- messy_mecca_aero_si.f90: bug fix, changing idt_Hp_cs -> idt_Hp_aq(i)

CHANGES by Astrid Kerkweg:
- CHANNEL: representation GP_1D_LEV introduced
- DATA:
  - channel objects dhyam, dhybm introduced
- CONTROL:
  - messy_main_control_e5.f90:
    - tropop_e5 renamed to tropop_si
- TROPOP:
  - modified for generalised SMIL (messy_tropop_si.f90)
  - REAL(dp) introduced
  - bugfixes for WMOtropop (array boundaries)
- TNUDGE: bugfix for rank identifier
- messy_main_ppd_si.inc:
  - _RI_YZr_ :  k1:k2 renamed to kmin:kmax
  - _RI_YZvr_ kmin(jp):kmax(jp),jrow  jrow,kmin(jp):kmax(jp) added
- VISO: adjusted to renamed _RI_YZr_

CHANGES by Volker Grewe:
- TREXP: oscillation due to leap-frog time filtering avoided for first
	 emission timestep

CHANGES by Patrick Joeckel:
- LNOX: set default of i_ff_cpl = 1
- TREXP:
  - new feature implemented; coupling to time series (IMPORT_TS) is
    now possible to prescribe realistic "vertical line emissions"
    Note: namelist incompatibility to previous versions!
    - all existing namelists modified accordingly
  - flux correction according to modulo time step length
- IMPORT_TS: bug-fixes; allow scalar data with default dimension d0=1
- MSBM: offlem channel changed to import_rgt for HNO3_tot in case of QCTM

******************************************************************************

messy_d2.41g (22 Jun 2011)

CHANGES by Patrick Joeckel:
- LNOX:
  - messy_lnox_si.f90: c_updr, c_freeze, cu_xupdr, cu_jkfreeze removed
		       l_midlevel, c_top_mid, c_bot_mid, c_freeze_mid
  - all lnox*.nml: c_updr, c_freeze ... removed
- SCAV:
  - all scav*.nml: added
     boxarea = 'geoloc', 'gboxarea', ! grid box area

CHANGES by Astrid Kerkweg:
  - CHANNEL: special case for GP_3D_1LEV added (different gather/scatter
		 required)
  - MPI:
    - additional routines, MPI types used from parallel_utilities
    - interface and respective subroutines global_fields added
      (required to calc global MAX, MIN, SUM)
    - special case for GP_3D_1LEV added (different gather/scatter required)
  - DATA:
    - channel objects added for convective and large scale variables
      required by SCAV / LNOX
    - channel object gboxarea_2d renamed to gboxarea
  - SWITCH: switch_init moved to bi to reduce dependencies (via USE_MLOCEAN)
    of BML to SMCL
  - messy_main_ppd_si.inc: redefine _RI_YCC_ for consistency reasons
  - LNOX:
    - bugfixes for rank flipping
  - MECCA-AERO: bugfix Hp index
  - OFFEMIS: adjusted to new RI definition of _RI_YCC_
  - SCAV:
    - add namelist entry for gboxarea coupling
  - MECCA1: bugfix in gas.spc: LossO3N was defined twice

******************************************************************************

messy_d2.41f (17 Jun 2011)

CHANGES by Patrick Joeckel:
- xmessy_mmd: bug-fix for user-defined namelist file names
- BLANK:
  - messy_main_control_blank.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- QBO:
  - messy_main_control_qbo.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- GWAVE:
  - gwave.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- CHANNEL:
  - channel_bml.f90: main_channel_global_end renamed to
    main_channel_write_output
  - messy_main_chhannel_bi.f90: ain_channel_global_end renamed to
    main_channel_write_output
- SPE:
  - spe.f90: main_channel_global_end renamed/moved to
    main_channel_write_output

******************************************************************************

messy_d2.41e (17 Jun 2011)

CHANGES by Patrick Joeckel:
- CONTROL:
  - messy_main_control_e5.f90:
    - call to main_channel_write_output added
- CHANNEL:
  - main_channel_global_end renamed to main_channel_write_output
    (i.e., call to main_channel_update_time -> trigger_channel_output
    moved after the <SM>_write_output
- TOOLS:
   - messy_main_tools.f90: nn_index updated
- S4D: updates and bug-fixes (initialisation before import of new data in
       subroutine read_s4d_data_files)
- xmessy_mmd: allow specification of namelist files (e.g. resolution or
  start-date dependent) for all messy submodels (including the generic
  submodels)
- messy/nml/README updated
- messy/util/check_tnudge.tcsh to check the consistency between tnudge.nml
  and import.nml
- messy/util/check_import_rgt.tcsh (and time2yyyymmdd_hhmm.tcsh) for
  checking the consistency of the import.nml with its dependent
  import/*.nml and corresponding netCDF files

******************************************************************************

messy_d2.41d (25 May 2011)

CHANGES by Volker Grewe:
- TREXP: bug fix in calculation of start values (for time integration)

CHANGES by Patrick Joeckel:
- S4D: modified for generalised SMIL (messy_s4d_si.f90); lcalc modified,
  if location out of region
- messy_main_ppd_si.inc: new directive _RI_YZr_
- VISO: modified for generalised SMIL (messy_viso_si.f90)
- SCOUT: modified for generalised SMIL (messy_scout_si.f90)
- SORBIT: modified for generalised SMIL (messy_sorbit_si.f90)

CHANGES by Astrid Kerkweg:
- DATA: lrestreq added for convection variables and cvs
- CHANNEL: option "only one channel" for messy_channel_read_restart;
	   modified files: messy_main_channel_bi.f90, messy_main_channel_io.f90

CHANGES by Christine Froemming and Patrick Joeckel:
- TREXP: bug-fix: skip emission into non-TREXP tracers, if they do not exist

CHANGES by Patrick Joeckel:
- PSC: bug-fix for kinpar: representation SCALAR for r_kinpar
- MSBM:
  - submodel name in tracer structure corrected (for kinpar)
    (this is a minor bug-fix)
  - r_kinpar (for coupling to HETCHEM removed)

CHANGES by Hella Garny:
- TOOLS/STRATO3BUD: update to be consistent with gas_mim1.eqn of MECCA

******************************************************************************

messy_d2.41c (11 May 2011)

CHANGES by Patrick Joeckel:
- TOOLS (edgar2nc,meteodiag,ncdx,prodloss,strato3bud):
  - use util/locate_f90.sh in Makefile.m to overwrite F90 with
    non-MPI wrapped compiler (to enable execution of non-parallelised tools
    on IBM-Power6 etc.)

CHANGES by Hella Garny:
- TOOLS/STRATO3BUD: new tool for calculating (post-processing) the
  stratospheric ozone budget

CHANGES by Volker Grewe:
- O3ORIG: update

CHANGES by Klaus-Dirk Gottschaldt:
- SCAV: (patch_2.41_01) bug-fix in new diagnostics
  (messy_scav.f90, SCAV_EASY_I3)

CHANGES by Volker Grewe, Rolf Sander:
- TOOLS/PRODLOSS: minor modifications and enabling for MECCA

CHANGES by Patrick Joeckel:
- messy/smcl/specific.mk: (patch_2.41_01) exclude messy_mecca.f90
  from array-bound checks on IBM architectures

******************************************************************************

messy_d2.41b (13 Apr 2011)

CHANGES by Patrick Joeckel:
- MECCA1: messy/mbm/mecca1/vector/xvector: bug-fixes
- config/mh-DEISA: updates for SX9

******************************************************************************

******************************************************************************
**                           end of CHANGELOG                               **
******************************************************************************
