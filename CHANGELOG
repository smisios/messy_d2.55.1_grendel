******************************************************************************
**                          MESSy/ECHAM5 history                            **
******************************************************************************

******************************************************************************

WARNINGS about the latest version are in the file WARNINGS!

******************************************************************************

messy_d2.55.1 on master (19 Apr 2021)

CONTROL/BIOBURN (hotfix):
   bioburn_vdiff moved before offemis_vdiff (for restart consistency)

configure/gmake (506):
   configuration update for buran @ igce.ru:
    - new configuration file: config/mconfig.igce.ru
    - buran entries removed from config/mconfig.others
    - configure(.in):
      - igce.ru added
      - YAXT and PNETCDF library handling revised
    - xmessy_mmd: updates for buran (SLURM header and run-time setup)


SCALC (449):
    The SPLITV operator splits a three dimensional channel object in gridpoint
    representation into two channel objects of the same representation along a
    two dimensional channel object (horizontal) with level indices.
    It requires as first entry the 3-dimensional channel object to be split,
    and as second entry the 2-dimensional channel object with the
    level indices. Furthermore, the operator takes one optional argument to
    select the split operator: 0 for <= (default) or 1 for <.
    The result is two three dimensional channel objects suffixed
    by _01 and _02 which are zero above and below the level indices,
    respectively.

CHANNEL (486):
    A first implementation of a productive environment, more specifically for
    the MECO(n) nased forecast (FC) system:
    - messy/util/py/channel.py: an example for the master python script to be
      called from CHANNEL via the forpy backend:
      The example contains four main routines (and a lot of helper routines):
      - the main entry point (fpy_main)
      - a prologue routine (fpy_def) which is always called first (e.g. to
	define additional objects)
      - a simple example routine (fpy_log) to output the object information to
	the log-file
      - a plotting routine for horizontal maps (fpy_map) in png and kml/kmz
	format
    - messy/util/py/channel.yml: an example control file in yaml-Syntax for
      channel.py
    - messy/util/py/channel_fpy_wrapper.py: a wrapper for the application of
      channel.py "off-line" to output netcdf files
    - messy/util/py/channel_nc2dict.py: a helper python script to convert the
      content of netcdf files into the same (or similar) python structures as
      the forpy CHANNEL backend delivers "on-line"; it is used by the wrapper
      for off-line usage
    - messy/util/py/kmzcat.py: s script to concatenate single (i.e. one per
      time step) kmz-output files into kmz time series files

EVER (468, 508):
    - new submodel "Explosive Volcanic ERuptions"
    - EVER is implemented such that all tracers can be emitted, including
      aerosol species and accordingly the updated number concentration for
      GMXE.
    - Different vertical shapes can be emitted (at the moment linear and
    - Gaussian) over a given time range.
    - The time filter correction from TREXP is kept (this could possibly be
      removed).

COSMO (483):
    - update to version 5.09
    - COSMO: COSMO-5.08 replaced by COSMO-5.09
    - CHANNEL: channel object definitions adjusted to new TILES fields of
      COSMO-5.09
    - DATA: pointer association adjusted to TILEd fields
    - cclm_subchain: test directories for COSMO-5.09 added
    - namelist directory CHAIN/COPAT2_509 added
    - PPDs: PPD COSMOv5s08 removed, new directive COSMOv509 added

CHANNEL, DATA, GRID, GRID_DEF (498):
    So far the representation GP_3D_1LEV has been defined by a rank linkage of
    'x-x-' / axis string of 'X-Y-'. However, for the "hhv" models this is not
    correct, as the horizontal dimensions are artificially separated by one
    rank, but the name of the representation suggests, that the representation
    is horizontal + vertical with a level dimension of length 1 (for "hhv"
    models this is defined by 'xx--' / `XY--', i.e.  identical to the
    representation GP_2D_HORIZONTAL).

    This inconsistency lead to a large error potential, as using the PPD
    macros for rank access will result in a wrong memory
    association. Therefore this inconsistency has been removed.  In most
    submodels, which needed to be adapted accordingly, the code became
    simpler, because differentiation between GP_3D_1LEV / GP_2D_HORIZONTAL and
    _RI_hhv_ / _RI_hvh_ are no longer required.

    The submodels DDEP and SCAV were, however, explicitly using the artificial
    '1' at the second rank and therefore had to be adapted w.r.t. their memory
    allocation. This could be achieved such that * the memory association is
    correct for the definition of the channel objects, and * the rank
    reduction from the 5D arrays for the fields accessed in the SMCL files
    remained.

    Tests have been performed with EMAC with the CCMI2/RD1-base-01 setup and
    with MECO(n) with the test setup merged with #497 and resulted in binary
    identical results.

    Changes::
      - SCAV: changed allocation of spec_field_ls/cv and
	aero_flx(js)%cloud_field_ls/cv_air and aero_flx(js)%aero_field_cv/ls
      - DDEP: changed allocation of DSET(.)%vdrydep_mass/num
      - MPI: revised scatter_gp32 and gather_gp32 for COSMO
      - CHANNEL:
	- revised GP_3D_1LEV definition for COSMO
	- revised scatter_gp32 and gather_gp32 for COSMO
      - IMPORT_GRID: removed case distinction for _hhv_ /  _hvh_ models
      - ONEMIS / SCALC / TNUDGE: removed case distinction for GP_3D_1LEV
      - GMXe and ORACLE: corrected pointer association for GP_3D_1LEV fluxes

GRID_DEF (429):
    The local calculations of height variables (altitude above ground or sea
    level, level thickness, etc.)  have been replaced by usage of channel
    objects from GRID_DEF. Modified submodels are:

    CONTROL (ECHAM5, COSMO), GRID, GRID_DEF (ECHAM5, COSMO, ICON, RAD,
    VERTICO), DATA, AIRSEA, LNOX, MMD2WAY, TROPOP, AEROPT, AIRSEA, CVTRANS,
    DDEP, DISSOC, GEC, GMXE, GWAVE, MECCA_AERO, MEGAN, OFFEMIS, ONEMIS,
    ORACLE, SVOC, TNUDGE, TROPO, MXL

    additional bug-fixes in DDEP and ONEMIS

configure/gmake & run-script (476):
    Updates of configure(.in) and runscript xmessy_mmd to separate
    instructions for JUWELS Booster and JUWELS Cluster (previously only JUWELS
    Cluster).

RAD (462):
    Some inconsistencies in RAD have been removed:
    - the calculation of the area density of water vapor from the specific
      humidity has been corrected
    - the time offset for the orbit calculations has been reduced to zero in
      case the radiation is called every time step
    - the solar radiation calculation has been split: without time offset for
      the heating rate calculation (every time step) and with offset for the
      radiation flux calculation (radiation time steps only)
    - the file name creation in CHANNEL (messy_main_channel_bi.f90) has been
      corrected for the MBM RAD and simplified for all basemodels (less
      preprocessor directives required)
    - a new namelist setup (E5RF) has been introduced for parameter
      optimisation ("tuning") simulations of the radiative forcing

TRACER_PDEF (487):
    TRACER_PDEF integrates all tracers masses over the entire model domain. In
    a first step, this integration is performed on each MPI task, in a second
    step the summation over the tasks is performed via p_sum calling
    MPI_ALLGATHER SUM. The latter is a quite expensive communication. With the
    new &CTRL namelist switch L_TASK_AGGREGATION (default: T) this summation
    over tasks can be switched OFF (F). In this case the mass on each MPI task
    is output and the summation needs to be performed "off-line", i.e. at
    post-processing.

    IMPORTANT NOTE: With L_TASK_AGGREGATION = F the mass tolerance criteria
    cannot be used (application will be skipped), because the global tracer
    masses are not available at run-time.


******************************************************************************

messy_d2.55.0 on master (07 Apr 2021)

TREXP (hotfix):
   correction of indices

Notes:
- The "related issues" below refer to the GitLab repository issue numbers,
  the corresponding short descriptions summarize what has been fixed or
  which feature has been implemented.
- Some components listed below have markers:
  (+): component has been adapted to work with ICON/MESSy
  (*): namelist syntax changed, see
       http://www-extern.pa.op.dlr.de/wikis/messy/ModelSetups/changes_2p54_to_2p55
  (-): component not (yet) part of current release
  (!): component has been removed

*** Overall framework:

- configure, (g)make, xmessy_mmd, messy/util (+)
  - several updates, fixes, and new features, related issues:
    469 asynchronous IO: add async-fortran as library to distribution
    446 gmake docu target=scalc does not compile:  mhchem.sty version 3
	missing
    411 Update configure script for new JUWELS hostname
    397 porting to cluster of TU Delft
    389 Downgrade:  MMD need to be kept for oasis3mct
    379 INTEL compiler: change for RUNMODE=DEBUG + bugfixes
    362 Make xmessy_mmd clean-up work on CARA
    361 compilation fails if configured without MPI
    342 make infrastructure and SMIL submodels compilable with MESSYDWARF
    336 add missing dependencies in oasis3mct library
    326 messy/util/xtrigadjust.py
    314 Update of configuration to support Cyprus hosts
    309 FUB update of configuration
    302 Dependency problems with PIO and/or OASIS-MCT?
    291 add docu for AVEOUT
    284 update documentation (new make target docu et al.)
    282 Adding PGI compiler to juwels mconfig file
    265 Further tentative bugfixes  / compiler work arounds required for PGI
    261 new target "gmake docu" for creating documentations
    235 Adding profilemode to JUWELS mconfig file
    230 xtrigadjust | tcsh to py
    222 if only configured with COSMO "gmake mbm" breaks in serveral mbms
    214 Add GOMPI module for GCC compiler stack in configuration for CARA
	at DLR
    175 Automatic git revision from Makefile
    173 mconfig.mogon.uni-mainz.de
    154 Migration to new DLR Linux Cluster
    138 configuration / runscript for SuperMUC-NG @ LRZ
     75 gmake mbm fails, if configured with --enable-POSIX90
     71 update runscript xmessy_mmd
	(add start_minute/stop_minute and move COSMO EXTERNAL data path
	 into namelist setup)
     62 gmake mbm does not work anymore (devel) after loland, loglac removal
     61 remove Time-stamp from all MESSy files
     50 Get MECO(n) working on JUWELS @ FZJ
     29 Compilation with NAG compiler environment (mistral) fails
     25 Include OASIS3MCT as MESSy submodel + library
     18 gmake distclean crashed if configured with --disable-MESSY due to
	error message in echam5.3.02_c
     15 zip download corrupted?
     14 Repair inclusion of git commit in netcdf output

*** Infrastructure submodels:

- BLATHER (+)
  - log messages refined: optional blather namelist added (to request
    debug output submodel-wise)
    - related issues:
      407 BLATHER: consolidation and avoiding write(0,*) statements
      325 harmonize the usage of write(0,*)

- CHANNEL (+)
  - several updates and fixes, related issues:
    491 COSMO (all versions): vartab name /= channel object name for "_mult"
	variables / bugfix for qflux
    486 CHANNEL backend FORPY: 1st revision
    472 CHANNEL: fixes for linking forpy and python3
    424 ONVIS: new submodel for on-line visualisation via forpy
	(calling python from fortran)
    414 Parallel I/O with MPI
    410 bugfix for time_bnds in messy_main_channel_echam5.inc
    387 CHANNEL: netCDF attributes of type 'real/double' require same
	precision as variable
    386 COSMO: PPDs wrong for COSMO 5.0 in channel and data
    360 CHANNEL: bugfix+cleanup for COSMO / change TIME_BNDS dimension
	to DIMIDS_TBNDS (all BMs)
    349 move subroutine channel_halt to new module
	messy_main_channel_error_bi
    293 Abort simulation in case of error in fixate_channels?
	(status check was missing after split of subroutine fixate_channes)
    275 Output of specific domain in CHANNEL via OUT_CHANNEL
    201 ADD_REF in channel.nml does not work with wildcard '*' anymore
    187 define CF compliant units attribute of time axis for all basemodels
    180 optional suppression of CANNEL (OBJECT) ATTRIBUTES from output
    169 CHANNEL option to force output in double precision for
	selected objects
    151 CHANNEL: create output variable time_bnds for output refering to
	intervals (AVE, MAX, etc.)
    150 CHANNEL: add routine(s) to make output cf convention conform
    116 move path/domain information to new CHANNEL_MEM (SMCL)
     76 set yyyymmdd dimension attribute in output file to next date
     13 expansion of CHANNEL  and  SCALC  (use 2D horiz. slice instead of 3D
	data)
      9 enable CHANNEL output at sub-time steps of ICON patches
      1 set triggers for CHANNEL output at beginning of time step

- COMPILERINFO
  - no changes

- CONSTANTS (+)
  - some constants added
  - version number updated

- CONTROL (+)
  - updates according to new/removed submodels, new and split main entry points
    - related issues:
      123 mo_mpi::p_start calls messy_setup(0,p_all_comm), but the corresponding
	  subroutine is not available
	  (p_all_commm parameter removed)
       38 CONTROL: store / provide information about entry points

- DATA (+)
  - several updates and fixes, related issues:
    491 COSMO (all versions): vartab name /= channel object name for "_mult"
	variables / bugfix for qflux
    431 messy_main_grid_def_bi: separate GRID defining variables from DATA
	(additionally DATA was split into basemodel dependent include files)
    386 COSMO: PPDs wrong for COSMO 5.0 in channel and data
    384 DATA: static channel objects contain potentially wrong information,
	if written to restart files
    351 cleanup DATA and submodels w.r.t. rank reduced fields   (Part 2)
    344 cleanup DATA and submodels w.r.t. rank reduced fields
    182 DATA: channel object 'pmsl' (ECHAM5) obsolete?
    386 COSMO: PPDs wrong for COSMO 5.0 in channel and data
     47 DELETE 1d  arrays loland and loglac  in MESSy submodels and use
	consistently loland_2d / loglac_2d

- DECOMP
  - changes for removal of CMAT submodel and MBM
    - related issues:
      461 CMAT/VGLUE remove submodels
      434 Bugfixes in various code parts found during testing of #431

- GRID (+)
  - new sub-submodel GRID_DEF for generalized grid definitions
    - related issues:
      444 ICON: grid_def
      431 messy_main_grid_def_bi: separate GRID defining variables from DATA
  - updates and bug-fixes, related issues:
    231 GRID: include test for  COSMO is the grid is crossing the dateline
	and adjust MINMAX calculation

- IMPORT (*)(+)
  - several updates and new features, bug-fixes, related issues:
    481 IMPORT_GRID: BUG in REGRIDDING OF ITYPE=5 (i.e. 4D data)
    456 IMPORT_GRID_BI: error in representation names
	(GP_ vs UCELL_)
    454 IMPORT_GRID: create new feature for initial initialisation
	(RGT_INIT)
    448 include (old) IMPORT docu , update on some other docu issues
    427 IMPORT_GRID: changes after restart ignored or errors caused
	(due to triggers in restart_import_gird.rst)
	(restart revised (via netCDF 0D objects, no *rst file anymore))
    409 IMPORT_LT: new feature for time-dependent lookup tables
    368 Decomposition depended results of import_grid over Europe
    364 IMPORT_GRID: time control for MBM broken
    324 make MESSYGRID obligatory and remove IMPORT_RGT
    317 IMPORT_GRID + JVAL / JVST / CLOUDJ   treatment of pressure level
	information
    299 replace usage of  messy_ncregrid_tools_bi in MESSy submodels by usage
	of GRID / IMPORT_GRID
    296 Correct logic for IXF regridding
    283 IMPORT-GRID:  restructure namelist settings for different ICON
	domains in accordance to other submodels
    266 IMPORT_GRID / REGRID: multi-netcdf descriptor files
    224 create only one representation for NX2D fields with same z-levels
    177 introduce dimension variables for height and pressure for Nx2D in
	IMPORT_GRID
    174 Bugfix in IMPORT_GRID after introduction of MACROS
    148 messy_main_import_grid_par.f90 crashes with deallocate error
    146 wrapping of longitude axis in IMPORT and GRID
	(completely revised / repaired later on in #368)
     99 wrong units after scaling in IMPORT_GRID

- MPI:
  - basic functionality for distributed I/O (currently ECHAM5 only)
    - related issues:
      424 ONVIS: new submodel for on-line visualisation via forpy
	  (calling python from fortran)
      414 Parallel I/O with MPI

- PPD:
  - related issues:
    220 RI:  some additional bugfixes /cleanups wrt. macro introduction
    155 replace rank identifiers by rank flipping macros

- QTIMER (*)(+)
  - use of MPI Allgather
    - related issues:
      240 possible speedup of QTIMER

- RND (+)
  - minor modifications
    - related issues:
      321 remove non-MESSy-conform USE statements from SMCL
      108 add verbose switch to RND

- SWITCH (+)
  - changes according to new/removed submodels

- TENDENCY
  - complete revision, related issues:
    365 TENDENCY: revision of memory allocation
    327 TENDENCY: mtend_request does not return proper status=0 on success
    192 TENDENCY does currently not work if no tracer tendencies are required
     41 segmentation fault in TENDENCY for E5 setup (ECHAM5 without tracers)
     22 wrong meta-information (units) of TRACER family members in TENDENCY
	output
     11 TENDENCY generalisation for ICON

- TIMER (+)
  - bug-fixes
    - related issues:
      51 BUGFIX  TIMER : logical error in function if_less
      31 urgent bugfix in TIMER influencing YEARDAY ...and this DAYOFYEAR

- TOOLS (+)
  - clean-up and new functions
    - related issues:
      348 rename messy_cmn_kinetics.f90 into messy_main_tools_kinetics.f90
      274 NAG compliance

- TRACER (+)
  - several upadates, related issues:
    373 move subroutines tracer_halt and tracer_set_domain to new module
	messy_main_tracer_tools_bi
    286 Bugfix GRID Access  in TRACER_INIT
    247 correct !!#D attila + directive in TRACER_BI
    132 TRACER_FAMILY domain aware
    129 TRACER_PDEF: remove TPD_TIMER option (&CPL_PDEF namelist) and replace
	with output request from CHANNEL
    100 TRACER_FAMILY: allow existing tracers to become a family tracer
     94 remove unused I_wetdep switch
     77 TRACER: enable standard(_)name for TPROP / MECCA *.tbl
     66 Remove all new_tracer_old calls
     22 wrong meta-information (units) of TRACER family members in TENDENCY
	output
     16 enable tracer initialisation by using main_channel_read_restart:
	issue for discussion
      7 finish adaption of TRACER, TRACER_FAMILY and TRACER_PDEF for/in ICON
      6 TRACER_PDEF: subroutine to calculate dry air mass in ICON

- TRANSFORM (+)
  - clean-up and extension for ICON
    - related issues
      461 CMAT/VGLUE remove submodels
      125 remove obsolete preprocessor directives E5202A and E5301 from BMIL
	  & SMIL
      117 TRANSFORM locate_in_decomp: OPTIONAL parameter to communicate all PEs;
	  update of TREXP, SCOUT etc. accordingly
	8 locate_in_decomp for ICON

*** Ordinary submodels:

- A2O

- ACCF

- ADVECT (-)

- AEROPT
  - updates and bug-fixes, related issues:
    321 remove non-MESSy-conform USE statements from SMCL
    305 Changes in AEROPT for JVAL (desired by C. Brühl)
    128 AEROPT: does not terminate if a component of a merge set is not
	available

- AIRSEA

- AIRTRAC

- AIRTRAF

- ATTILA
  - bug-fix, related issues:
    428 ATTILA: segmentation fault in TRAJECtory mode

- AVEOUT (+)
  - updates, related issues:
    113 ICON:  make  AVEOUT patch aware

- BIOBURN
  - updates and new features, related issues:
    501 Fix bug in calculation of emissions in vertical fractions in bioburn
    420 BIOBURN: include recent updates
    232 BIOBURN: Add vertical levels from 1Lev to  6Lev
     32 BIOBURN is not working in COSMO

- BUFLY (+)

- CAM (!)
  - submodel removed
    - related issues:
      35 Delete submodel CAM

- CAT

- CMAT (!)
  - submodel removed
    - related issues:
      461 CMAT/VGLUE remove submodels

- CH4

- CHEMGLUE

- CLOUD
  - major bug-fix, related issues:
    377 H2OISO not longer consistent after update in CLOUD;
	refactoring of H2OISO required
    369 CLOUD: wrong usage of Xm1, Xte and Xpe for tendency update
	(with AND without MESSYTENDENCY)
    292 CLOUD UAF (unified dust activation framework) inconsistent F77 code

- CLOUDJ

- CLOUDOPT

- CONTRAIL

- CONVECT

- CRM
  - new submodel
    - related issues:
      172 bugfix for crm
       56 check-in new submode CRM (based on 2.54.0)

- COSMOTOY (-)

- CVTRANS

- D14CO
  - SMILified, related issue:
    304 SMILify D14CO

- DDEP
  - related issues:
    216 COSMO crashes with Segmenation Faults in  DDEP/TAGGING
    101 Memory issues in messy_ddep_si with gfortran 6.2.0
     85 DDEP include changes of Tamara Emmerich
     24 deposition fluxes in SEDI and DRYDEP are wrongly calculated with
	delta-pressure, i.e. with humid mass of air

- DISSOC
  - related issues:
    84 Incorporation of CH3Br, Halon-1211 and Halon1301 into dissoc

- DIUMOD
  - updates and clean-up, related issues:
    392 DIUMOD: code cleanup

- DOMINT
  - new submodel
    - related issues:
      412 DOMINT: extension and fixes
      352 DOMINT - a sub-model for domain-wise tracer mass integration /
	  diagnostic

- DRADON
  - related issues:
    191 bugfix for DRADON (array out of bounds)
     17 remove NCREGRID from submodel DRADON and use IMPORT_GRID or OFFEMIS
	instead

- E4CHEM

- E5VDIFF (*)
  - related issues:
    193 Error in loland_2d dimensionen in function call in VERTEX and E5DIFF
    190 Implement changes in VERTEX
     40 expand SURFACE for namelist driven LAI  / move sections 3.6-3.8 from
	vdiff to SURFACE
     20 E5VDIFF / VERTEX: the formerly known "accumulated" variables need to
	be re-introduced, but "masked" only

- EDITH

- EC2COSMO

- FIRE (-)

- GMXE
  - major updates, related issues:
    372 GMXE and/or SCAV aerosol deteriorated in CMIP6 setup
    363 include bugfixes for lately introduced code change
    329 SCAV & GMXE: replace USE of messy_cmn_aqattr and messy_cmn_gasaq in
	SMCL by usage of TRACER containers in SMIL
    253 PGI Compiler error: SCAV /GMXe  function k_siv_h2o2 not defined
    181 Update of GMXE including upgrade of KPP in gmxe_aerchem to KPP v2
     59 check-in modifications for MOM (MPIC)
     23 TENDENCY diagnostic in GMXE is incomplete

- GRAGG (+)
  - new submodel (ICON only)
    - related issues:
      300 Get rid of warnings in GRAGG
	4 include new submodel GRAGG (Grid AGGregation) for ICON

- GWAVE
  - updates and bug-fixes, related issues:
    218 GWAVE & TENDENCY: flip order of tendency registration with RETURN
	for non-MA EMAC setups
     58 BUGFIX for GWAVE

- H2O

- H2OEMIS
  - new submodel
    - related issues:
      442 h2oemis_init_coupling error
      202 New Submodel H2OEMIS

- H2OISO
  - major refactoring, part 1: cloud processes moved to submodel CLOUD
    - related issues:
      422 Possible bug in H2OISO / CLOUD update
      377 H2OISO not longer consistent after update in CLOUD;
	  refactoring of H2OISO required

- HD

- HAMOCC
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL

- IONS

- ISOPCOR

- JVAL & JVST (*)
  - clean up, related issues:
    439 JVAL/JVST: clean up from #418
    298 Remove NCREGRID FROM CLOUDJ as done previously from JVAL /JVST
     98 JVAL  remove ECHAM5 only regridding => enable ICON and COSMO stand-alone

- LAMETTA (-)
  - related issues:
    350 LaMETTA: Why is qp needed in messy_lametta?
    310 Improve LaMETTA to get rid of NAG Warnings
    301 Get rid of warnings in LAMETTA
     64 LaMETTA: Improve performance and memory management
     21 Include LaMETTA into ICON-MESSy

- LGCLOUD (-)

- LGGP

- LGFMM (-)

- LGHPM (-)
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL

- LGH2O (-)

- LGMC (-)

- LGTMIX

- LGVDIFF (-)

- LGVFLUX

- LNOX (*)
  - additional parameterisation added, related issues:
    358 Include IFluxT lightning parameterization in LNOX module

- M7

- MADE

- MADE3
  - updates and bug-fixes, related issues:
    115 Compilation error in MADE3 due to tendency
    104 Boxmodel MADE3 does not compile anymore

- MECCA
  - several updates, related issues:
    390 Repair links for mecca boxmodel
    385 MECCA-TAG: further fixes
    381 MECCA-TAG: fixes and update
    359 MECCA-TAG: update pascal build Makefile
    355 MECCA_KHET does not terminate if asm_cpl > 0 and asm(asm_cpl)
	is not set
    348 rename messy_cmn_kinetics.f90 into messy_main_tools_kinetics.f90
    346 MECCA_TAG: update and bug-fixes
    330 GPU: Fixing Medina parser, so it parses the new RO2 calculation
	from messy_mecca_kpp correctly
    328 MECCA: add a rpl file for chlorine release of G6405, J6500, J6501
    321 remove non-MESSy-conform USE statements from SMCL
	(MECCA_AERO)
    277 repair creation of polymecca mtchem after inclusion of
	cleanRO2.tcsh
    271 integrate GPU unspecific changes in MECCA / KPP from GPU version in
	devel
    228 MECCA_AERO USE of chemprop from messy_main_tracer in SMCL renders
	TRACER properties from tracer.nml  (TPROP) wihtout effect
    194 skip mecca_khet if l_skipkpp_go = TRUE
    158 potential source of errors due to typecasting in rate expressions
	in MECCA
     95 updates of tracer properties in MECCA(_TAG) (I_wetdap and
	standardname)
     73 check-in updates from Sergey Gromov
     72 update to CAABA/MECCA 4.0
     19 MECCA (partly) and MECCA_TAG broken in 2.54.0

- MEGAN

- MESOENERGY

- MLOCEAN

- MMFORCE

- MPIOM
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL

- MSBM

- MTCHEM (!)
  - submodel removed

- MTSKIP

- NAN

- O3ORIG

- OASIS3MCT
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL
    319 Cleanup infrastructure usage in MMD2WAY and OASIS3MCT core
     78 ECHAM5 (E5) crashes after configuration with OASIS3MCT
     36 external coupling with OASIS3MCT
     25 Include OASIS3MCT as MESSy submodel + library

- OFFEMIS (+)
  - related issues:
    166 ICON: make OFFEMIS patch aware

- ONEMIS
  - updates and bug-fixes, related issues:
    370 ONEMIS: Write Statement 'ONEMIS F2TB '
    363 include bugfixes for lately introduced code change
    338 replace locally defined "icheck" in onemis by PPDs
    206 ONEMIS: channel object 'prectot' has probably wrong meta data
	information

- ORACLE

- ORBIT

- OROGW
  - bug-fix, related issue:
    3 OROGW must also be called in EMAC for non-MA model setups

- OTPHYSC

- PLUMEGAS

- PROPTEST (-)
  - (ICON only)

- PSC

- PTRAC (+)
  - improved error message for non-existent aersol tracer, related issues:
    170 Loss processes of residual aerosol NO3m_cs

- PTRACINI
  - related issues:
    93 Allow tracer initialization by field in PTRACINI

- QBO

- RAD & FUBRAD:
  - some updates, relates issues:
    447 MBM_RAD adapt for flexible horizontal and vertical resolutions
    402 change fladd initialization
    306 RAD-FUBRAD: Schumann-Runge  Kockarts and Koppers-Murtagh tests /
	FUBRAD resolutions

- RELAX
  - related issues:
    259 RELAX: bug-fixes and updates
    126 check-in EMIL updates from Roland Walz and Hella Garny

- RNDTEST (+)

- SATSIMS

- SCALC (*)(+)
  - several updates, additional main entry points, related issues:
    399 SCALC: WVA  new operator for weighted vertical average
    312 SCALC: new operator delta(Rstd, n) for conversion of delta-values
	(isotopologues) into fractions
    268 Fixes for FLAG operator in SCALC
    244 SCALC:  Additional call scalc_init_coupling
    227 SCALC: Add jrow loop
    225 SCALC: New operator FLAG
     86 enable patch handling for SCALC
     57 Update SCALC User Manual
     49 Summation of water tracers in SCALC
     44 SCALC:  indicate entry points for calculation by strings
	instead of integers

- SCAV
  - major updates and bug-fixes, related issues:
    329 SCAV & GMXE: replace USE of messy_cmn_aqattr and messy_cmn_gasaq in
	SMCL by usage of TRACER containers in SMIL
    280 SCAV:   loop is directly exiting: error?
    253 PGI Compiler error: SCAV /GMXe  function k_siv_h2o2 not defined
    188 188: Update SCAV to KPP2
  - improved error message for non-existent aersol tracer, related issues:
    170 Loss processes of residual aerosol NO3m_cs

- SCOUT (+)
  - updates, related issues:
    278 SCOUT:   object property  lstatic  is lost for new objects defined in
	submodels
    149 SCOUT: include column output other than GP_3D_MID or GP_3D_INT
    110 enable SCOUT for ICON

- SEDI
  - improved error message for non-existent aersol tracer, related issues:
    170 Loss processes of residual aerosol NO3m_cs
     24 deposition fluxes in SEDI and DRYDEP are wrongly calculated with
	delta-pressure, i.e. with humid mass of air

- S4D (+)(*)
  - updates, related issues:
    267 Fix S4D timing   .AND.   add / change attributes and namelists for
	COPAT2
    127 ICON: make S4D patch aware
     73 check-in updates from Sergey Gromov
	(option to switch OFF bilinear horizontal interpolation)

- SF6

- SORBIT (+)
  - updates and bug-fixes, related issues:
    443 SORBIT:  BUGFIX for erroneous ORB strings
    106 SORBIT:  update for ICON

- SPACENOX

- SVOC
  - new submodel
    - related issues:
      54 check-in submodel SVOC (based on d254.0)

- GEC

- SPE

- SURFACE (*)
  - related issues:
    40 expand SURFACE for namelist driven LAI  / move sections 3.6-3.8 from
       vdiff to SURFACE

- T8CODE (-)
  - new submodel
    - related issues:
      396 t8code as MESSy submodel

- TAGGING
  - related isssues:
    216 COSMO crashes with Segmenation Faults in  DDEP/TAGGING

- TBUDGET

- TEMIS (-)

- TIMEPOS

- TNUDGE (*)
  - related issues:
    408 TNUDGE: new feature to restrict the nudging to a user specfied range
	of values
    332 TNUDGE: terminate simulation if tracer or channel objects from
	namelist are not found
    118 TNUDGE: unify namelist syntax without special cases for different
	tracer sets
    105 update  TNUDGE  to ICON submodels
     89 Enable TNUDGE for CLaMS tracer set

- TPULSE

- TREXP (*)(+)
  - related issues:
    367 Discussion: Improved error handling in TREXP
    276 TREXP: emission height in metre and distribution with height
    273 TREXP does not work for high resolution domains in ICON
    120 TREXP revise namelist syntax to be consistent with PTRAC
     91 ICON: enable patch handling for TREXP
     89 Enable TREXP for CLaMS tracer set
     81 Add special case in TREXP for SO2+OH

- TROPOP
  - related issues:
    233 add windspeed calculation in MESSy

- TRSYNC

- UBCNOX (*)
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL

- VAHR

- VAXTRA (+)
  - updates, related issues:
    153 VAXTRA:  error index mlev is not correct for MiD2INT interpolation
    152 ICON: make VAXTRA patch aware

- VEG
  - updates, related issues:
    307 Updates to the VEGetation Submodel and couplings to GUESS

- VERTDIFF

- VERTEX (*)
  - related issues:
    193 Error in loland_2d dimensionen in function call in VERTEX and E5DIFF
     67 update VERTEX
     20 E5VDIFF / VERTEX: the formerly known "accumulated" variables need to
	be re-introduced, but "masked" only

- VGLUE
  - submodel removed
    - related issues:
      461 CMAT/VGLUE remove submodels
      434 Bugfixes in various code parts found during testing of #431

- VISO (+)
  - updates, related issues:
    10 VISO: update for ICON

- VISOP (+)
  - new submodel (ICON and COSMO only)
    - related issues:
      303 Get rid of warnings in VISOP
	2 check-in new submodel VISOP (VIsual Satellite OPerator)

- MMD2WAY
  - related issues:
    321 remove non-MESSy-conform USE statements from SMCL
    319 Cleanup infrastructure usage in MMD2WAY and OASIS3MCT core
    297 USE correct already existing wrapper routines for MMD2WAY_READ_RESTART
    219 MMD bugfix for 1-way data exchange
     82 MMD2WAY: Implement optional sending of units for CHILD coupling as
	it was already done for PARENT coupling
     42 URGENT BUGFIX:  SWITCHES in EMAC are currently only read in if
	MESSYMMD is defined

- TESTEVENT
  - new submodel

- CLAMS, CLAMSTRAJ, CLAMSCHEM, CLAMSCHEME5, CLAMSMIX, CLAMSBMIX, CLAMSCIRRUS,
  CLAMSRDFRC, CLAMSSEDI, CLAMSTRACER, CLAMSDEEPCONV
  - several updates, related issues:
    473 CLaMS: add input parameter to CIRRUS
    463 CLaMS: Update setup for ERA and ERA5 clams2.0 runs
    458 CLaMS: Setup for Clams2.0 runs (ERA and ERA5)
    445 CLaMS: modifications in deepconv
    436 CLaMS: new interpolation routine in bmix
    435 CLaMS: Update of config file for IEK-7 cluster
    425 CLaMS-chem heterogeneous chemistry calculations not changed
	for unphysical input
    423 Clams: script show_restarts.tcsh does not work for channel clams
    419 CLaMS: Clams standalone is not running
    415 CLaMS: configure is no longer running on JUWELS
    395 CLaMS: segmentation fault if deepconv is switched of
    394 CLaMS: add global attributes to clams-output
    383 CLaMS:   matrices for heterogenous chemistry corrected
    254 Daungrade: version does not compile without CLAMS
    229 Incorporation of VSLS species into CLaMS-chem and DISSOC
    217 CLaMS: Updates for CLaMS 2.0
    210 CLaMS: Basemodel CLaMS does not run with current messy version
    207 EMAC/CLaMS MESSy tracer do not work for CLAMSMIX
    200 CLaMS: Basemodel CLaMS does not run with current messy version
    178 CLaMS: avoid missing values in BMIX
    144 CLaMS: theta at tropopause can be used in CLAMSTRACER
    142 CLaMS: set julian seconds for coupled run
    139 bugfix messy_clamstracer in devel does not compile after merge of
	CLAMS code
    137 CLaMS: avoid missing values on EQLAT
    136 CLaMS: Updates for TRAJ
    124 CLaMS Dev.- CLaMS artificial tracers
    111 EMAC-CLaMS Dev. - CLaMS Gridding
     88 Coupling CLaMS and DISSOC
     83 Load imbalance in Newton-Raphson iteration in CLaMS chemistry
     74 CLaMS Chemistry update
     68 ClaMS Chemistry update
     65 CLaMS Updates
     63 bugfix for clams: month on filenames not replaced correctly
     52 CLaMS Development

- MXL
  - only for MBM VERTICO
  - related issues:
    434 Bugfixes in various code parts found during testing of #431

*** Legacy basemodels:

- ECHAM5
  - mo_tr_gather.f90: modifications of gather/scatter routines to
    enable choice of target PE, preparation for distributed I/O
    - related issues:
      424 ONVIS: new submodel for on-line visualisation via forpy
	  (calling python from fortran)
      414 Parallel I/O with MPI
  - NUDGING: improved error behaviour, related issues:
    199 Generate ERROR of restart frequency is below 12 hours for nudged EMAC
  - clean-up of MESSy SMIL/BMIL:
    125 remove obsolete preprocessor directives E5202A and E5301 from
	BMIL & SMIL

- COSMO (-)
  - several updates and bug-fixes, related issues:
    491 COSMO (all versions): vartab name /= channel object name for "_mult"
	variables / bugfix for qflux
    434 Bugfixes in various code parts found during testing of #431
    401 Include official COSMO 5.08 pre-release into MESSy
    386 COSMO: PPDs wrong for COSMO 5.0 in channel and data
    378 update to newest COSMO version  including CLM-Community contributions
	to COSMO 6.0
    356 Include new COSMO update (with all MESSy changes in official version)
    339 Update to COSMO5.07b
    334 COSMO - lwc is not set
    290 COSMO - MESSYTENDENCY tendencies for itype_turb=3 .AND. itype_vdif=1
	are currently not saved
    289 Enable TWOMOM_SB and  CLOUDOPT ( and EULAG?)  for COSMO-5.07a/MESSy
    288 replace COSMO-5.07 by newest officially tagged version COSMO-5.07a
    260 bugfix small typos in COSMO 5.05
    255 COSMO: Call of SCALC in messy_convec outside jrow loop
    252 update some things for cclm_subchain / COPAT2
    243 set L_CALCOUT_EACH_STEP dependent on output statistics requested
	for COSMO GRIBOUT blocks
    238 Include official COSMO 5.07 release into release version
    234 bugfixes for TENDENCY in COSMO v5.05
    221 bugfix treatment of tracer variables in COSMO src_output.f90
    212 USE INT2LM 2.0 for COSMOv5.0_clm16
    197 Bugfix in COSMO for tracer boundary exchange
    189 unify COSMO / MECO(n) setups doubled for COSMOv5.05 sofar
    183 bugfixes in COSMO code found by NAG compiler
    167 update COSMO5.0_clm15 to COSMO5.0_clm16
    164 COSMO-CLM/MESSy Set-Up for EVAL
    161 switch COSMO/MESSy from TRRANK=3 to TRRANK = 4
    135 introduce bugfixes for alb_dif_bd in COSMO5 and remove stutter text
	in SCALC
    134 Integrate  COSMO 5.06 / INT2LM 2.06 into MESSy distribution of
	checkin @DWD
    131 Bugfixes for COSMO v5.05 and rm if @MESSYTENDENCY@ for COSMO 5.0
    122 Bugfix: COSMO stand-alone restart with grib boundary files goes wrong
    121 Build Set-Up for COSMO-CLM Community
    119 COSMO restart stops with restart_attributes do not match for nbd1
     79 DELETE old COSMO and INT2LM version
     69 update COSMO-CLM/MESSy "diagnostics only"
     60 update of cosmo_131108_5.00_clm10 to newest COSMO-CLM version
     53 bugfix for MECO(n)  RESTARTs  / ncdf BC (introduced with
	commit 7d07b233)
     48 bugfix COSMO :  CHANNEL declaration of  pointers of refatm structure
     12 Add new COSMO version 5.05 / INT2LM 2.05

- CESM1 (-)
  - related issues:
    249 CESM1/MESSy does not write an END file when simulation is finished
    157 check-in CESM1/MESSy updates
    103 CESM1 does not compile anymore after introduction of sqcst_2d
     37 CESM1/MESSy does not compile anymore with OASIS3MCT

- ICON (-)
  - several updates and bug-fixes, related issues:
    459 ICON generates no END file at the moment and finish.status is no
	longer checked in xmessy_mmd
    455 Timer and restarts in ICON
    430 TNF and restart with multiple domains in ICON
    335 Writing restarts with ICON/MESSy when resuming from restart files
    320 Use experimentReferenceDate in MESSy-ICON simulations
    281 ICON-MESSy: add longname and standard name to ICON tracers
    245 compilation of ICON breaks on mistral
    237 ICON setup for CO2MON - Indianapolis nested LAM
    236 ICON setup for CO2MON - US-Midwest LAM
    186 ICON: gather in bi_decompose does not work for IXF fields anymore
	(after rank generalisation)
    171 High resolved CO2 emissions for ICON LEM
     90 Correct TIMER event trigger for ICON
     87 implement optional status parameter for file reading routines in ICON
     43 Prepare MESSy infrastructure for new ICON 2.4.0

*** MESSy TOOLS:

- messy/tools/temdiag
  - new tool, related issues:
    354 integrate TEM diagnostic as TOOL

- messy/tools/jvpp
  - bug-fix, related issues:
    347 JVPP:  erroneous function when compiled/linked without ($F90R8) option

*** MESSy MBMs:

- rad
  - updates, related issues:
    447 MBM_RAD adapt for flexible horizontal and vertical resolutions

- dissoc_3d
  - related issues:
    434 Bugfixes in various code parts found during testing of #431

- mpiom:
  - related issues:
    434 Bugfixes in various code parts found during testing of #431

- qbo:
  - related issues:
    434 Bugfixes in various code parts found during testing of #431

- vertico:
  - related issues:
    434 Bugfixes in various code parts found during testing of #431

*** new and updated namelist setups, related issues:
   460 Add import namelists for TraK road emission data
       (and upate for aircraft)
   457 Update of DLRs MMD/* setups
   450 Fix MADE namelist setups after new GRID variable definitions
   441 Update nml setup STRATOFLY
   433 Fix broken MMD set-ups
   406 clean-up of namelist setups
   398 CUDA namelist setup update
   391 CCMI2 REF-D1 (1960-2018) namelist setup
   388 EU_ASIA: Update the Variable Names of the EDGAR 4.3.2 Namelists
   382 All namelist setups with i_ffcalc = 9 stop with error message
   375 SSP namelists for TraK
   337 Bugfixes in EURO_ASIA setup
   323 FC Set-Up for CH4-TO-GO-Europe
   315 CCMI-2 fSST setups
   313 CO2MON: Update model output for Indianapolis setup
   294 EMAC/ATTILA/CLaMS setup for frontier simulation
   285 Error in namelist SpiroKettle_MPIM1.0_clim_bio_DMS_01-12.nml
   256 MECO(n) FC setup for aircraft campaign
   251 Set-Up for ROMEO Analysis simulation
   246 Fix dead namelists links
   226 EMAC (ESCiMo) SD-setup (1990-2019 hindcast) with best available
       boundary conditions
   196 Update sunset_b related set-ups
   185 Add CH4-To-Go Set-Up
   168 Move namelist folder CH4x into CH4
   165 CO2MON: include CO2 emission set
   156 setup RIEME-01-oc: radiation calculation in hindsight to EME
       scenarios with MLO
   143 Create MECO(n) Set-Up for Europe and Asia
   130 FC Set-Up for Romania
   109 Add Cordex East Asia Set-Up
    80 Clean up Forecast namelist Files
    59 check-in modifications for MOM (MPIC)
    46 create new MMD namelist setup for COMET campaign analysis
       (including methane isotopologues)
    45 VERTEX / E5VDIFF :  include namelist setting of LAI by Tamara
    30 Check in new sunset Set-Ups

******************************************************************************

messy_d2.54.0.3 on master (1 Mar 2021)

Changes by Patrick Joeckel and others:
- SCAV: bug-fixes
- UBCNOX: bug-fix for cold starts
- TNUDGE: bug-fix
- DDEP: bug-fix

Changes by Astrid Kerkweg:
- TENDENCY:
  - cleaned: commented blocks with old code deleted
  - (TR) RANK macros introduced
- NAN: bugfix for TENDENCY - add kind parameter for ytp1_0
- MADE3: bugfix for TENDENCY - use always ti_gp

Changes by Rolf Sander:
- CAABA/MECCA: update to verrsion 4.0
- messy/util/renumber_nml.py: new script that renumbers the indices of
  the array elements in a namelist file to avoid overwriting any
  elements.

Changes by Andrea Pozzer:
- update of MOM setup
- GMXE:
  - messy/smil/messy_gmxe_si.f90: added emis_flux_list(35) and
    emis_flux_list(36) with different units
- KPP1:
  - messy/tools/kpp1/src/gdata.h:  increase nember of MAX_SPECIES to 5000
- messy/nml/MOM updated (now only tropospheric,
  stratospheric available on demand)
- H2O:
  - messy/echam5/smil/messy_h2o_e5.f90:
    get idx of h2o if tracer already existed (case of tagging)

Changes by Harald Rybka:
- CRM: new submodel
- SATSIMS: coupling tp CRM

Changes by Holger Tost:
- SVOC:
  - new submodel submodel (see Octaviani et al., GMD(D), 2019)
- SCAV:
  - bug fix

******************************************************************************

messy_d2.54.0.2 (1 Feb 2019)

Changes by Patrick Joeckel:
- xmessy_mmd: disable fca (only for mistral @ DKRZ)
- Makefile.in: bug-fix in new target= option
- xcheck_objects.tcsh expanded for compatibility with OFFEMIS extensions
- GMXE: updates for TENDENCY

Changes by Markus Kunze:
- MECCA:
  - updated setup for CMIP6
- RAD:
  - messy_rad_si.f90, messy_rad.f90:
    - added rset switch for calbmns, calbmxs, calbmni
- DDEP:
  - namelist string length expanded
- MSBM:
  - fix in diagnostic output
- CLOUD:
  - messy_cloud_si.f90, messy_cloud.f90:
    - added rset switch for cauloc, csatsc, crhsc
- CHANNEL:
  - messy_main_channel.f90
    - increased NMAXADDREF to 1000

Changes by Mattia Righi:
- SCAV:
  - updated diagnostic output with appropriate fluxes

Changes by Rolf Sander:
- MECCA:
  - ignore spaces and tabs in rpl include file basenames
- MADE3:
  - bug fix: corrected sign in calc_evapo_frac of SCAV for MADE3

Changes by Astrid Kerkweg:
- TIMER:
  - bug-fix in calculation of YEARDAY
- TRACER, CHANNEL: option for tracer initialisation from restart file
  In the subroutine tracer_init (for ECHAM, COSMO and CESM) the possibility
  has been added to initialise tracers from the restart_tracer_gp.nc
  file. More specifically, this has to be a link in the work directory!. For
  this feature to work properly, the checking of the restart_attributes had to
  be skipped for this special case.

Changes by Patrick Joeckel:
- SCAV: bug-fix; calculation of evporation fractions for process 1 (rain) fixed
- CONTROL: call sequence of infrastructure submodels changed
  The TENDENCY output contained wrong meta information (e.g. units) of tracers
  which are tracer family members. The reason was the call sequence in CONTROL
  (because TENDENCY internally uses the meta information from the original
  channel objects / tracers). This has been fixed for ECHAM5, CESM1 and ICON.
- E5VDIFF / VERTEX: re-introduced the formerly known "accumulated" variables,
  but "masked" only
- GMXE: avoid creation of H2O tracer
- CONTRIBUTING.md: contribution guide added
- LICENSE file added
- OROGW:
  - bug-fix: OROGW in EMAC now also called for non-MA model setups
- Makefile.in:
  - added target=... option for making basemodels,tools and mbms
  - bug-fixes
- deprecated submodels DRYDEP, HETCHEM, MECCA1, OFFLEM, ONLEM, PHOTO and
  RAD4ALL removed

******************************************************************************

messy_d2.54.0.1 (26 Sep 2018): first TAG on GitLab @ DKRZ

Changes by Patrick Joeckel:
- KPP, KPP1: omit automatic rebuild of lex.yy.c with flex:
  This rebuild fails on most of the machines due to outdated flex.  Since git
  does not keep file date and time, (g)make tries to recreate lex.yy.c. This
  is, however, not required unless the kpp source code changes. In this case,
  lex.yy.c should be updated manually.

******************************************************************************

messy_d2.54.0 (25 Sep 2018)

Changes by Patrick Joeckel:
= <<STEP 8: dau-ngrade, ...
  ( ./configure --enable-YAXT --enable-CESM1 \
		--enable-MESSYTENDENCY RUNMODE=PRODUCTION)
    - intel/18.0.2 openmpi/2.0.2p2_hpcx-intel14:
      - COMPILATION: OK
      - nml/CCMI/R1EME-01: OK
= <<STEP 7: dau-ngrade, TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION
  -----------------------------------------------------------
  - openmpi/1.10.3/gfortran/4.9.4      PRODUCTION  OK
  - openmpi/1.10.3/g95-dint32/0.93     PRODUCTION  OK
  - openmpi/1.10.3/intel/16.0-2        PRODUCTION  OK
  - openmpi/1.10.3/gfortran/6.2.0      PRODUCTION  partly OK
     ( internal compiler error: Segmentation fault in messy_init of
       messy/mbm/caaba/messy_main_control_cb.f90)
  - openmpi/3.1.1/gfortran/4.9.4       PRODUCTION  OK

******************************************************************************

messy_d2.53.0.27 (24 Sep 2018)

Changes by Patrick Joeckel:
- config/mh-linux-64:
  - minor update for pa2 @ DLR
- xmessy_mmd:
  - update (MPI_OPT) for pa2 @ DLR (openMPI 3.1.*)
  - (thanks to Joerg Behrens): workaround to avoid core-dumps
    at MPI_FINALIZE on mistral @ DKRZ when using openmpi/2.0.2p2_hpcx-*
- VERTEX: izwet an istrom now only known in SMCL, since they are not used
	  on SMIL

Changes by Tamara Emmerichs:
- VERTEX: last minute fixes and updates

Changes by Patrick Joeckel (thanks to Astrid Kerkweg):
- AEROPT: correction of height calculation from geopotential
- TROPOP: correction of height caclulation from geopotential for
	  Ri-number based PBLH

Changes by Astrid Kerkweg:
- GRID_TRAFO: bug-fix in messy_main_grid_trafo::reduce_input_grid for
  non-overlapping grids

Changes by Patrick Joeckel:
= <<STEP 6b: TEST COMPILATION on mistral @ DKRZ>>:
  ( ./configure --enable-YAXT --enable-ICON --enable-CESM1 \
		--enable-COSMO --enable-I2CINC --enable-MESSYMMD \
		--enable-GUESS --enable-MESSYTENDENCY RUNMODE=PRODUCTION)
    - bullxmpi + ... + intel                   : OK
    - intel/18.0.2 openmpi/2.0.2p2_hpcx-intel14: OK
    - intel intelmpi                           : OK
    - gcc/6.4.0 openmpi/2.0.2p1_hpcx-gcc64     : OK
    - nag/6.2 openmpi/2.0.2p2_hpcx-nag62       : <under construction>
= <<STEP 6a: TEST COMPILATION on SuperMUC @ LRZ>>:
  ( ./configure --enable-ICON --enable-CESM1 --enable-COSMO \
		--enable-I2CINC --enable-MESSYMMD --enable-GUESS \
		--enable-MESSYTENDENCY RUNMODE=PRODUCTION )
    - intel/17.0 mpi.ibm/1.4): OK, CCMI/R1EME-01 setup running
- <BASEMODELs>/Makefile.in: LD and LDFLAGS corrected
- config/mh-linux-64: update for mistral@ DKRZ ($SPEED added to SPEC_LIB
  to make it occur also for linking)

Changes by Mariano Mertens:
- DATA (COMSO): new switch l_solarcyc (=T, if solar cycle data from IMPORT_TS
  are available)
- COSMO (5.00_clm10: src_radiation.f90, 5.04e: radiation_utilities.f90):
  - update solar parameters every time step (in case of MESSY and l_solarcyc)
    to avoid restart frequency dependence due to update of solar "constant"
    in messy_main_data_bi:messy_global_start(2)

******************************************************************************

messy_d2.53.0.26 (14 Aug 2018)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh updated
- IMPORT_GRID:
  - messy_main_import_grid_tools_bi.f90, rgtool_bi_read_ncfile_5d:
    - avoid non-needed allocates and data copies
= <<STEP 5: TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION
  -----------------------------------------------------------
  - openmpi/1.10.3/gfortran/4.9.4      PRODUCTION  OK
  - openmpi/1.10.3/g95-dint32/0.93     PRODUCTION  OK
  - openmpi/1.10.3/intel/16.0-2        PRODUCTION  OK
  - openmpi/1.10.3/gfortran/6.2.0      PRODUCTION  OK
  - openmpi/3.1.1/gfortran/4.9.4       PRODUCTION  OK
- xmessy_mmd:
  - update for Hybbrid(MPI/OpenMP) parallelistion on mistral
  - MSH_MEASURE completely revised (for valgrind, ddt, map etc. usage)
= <<STEP 4: MEMORY LEAK DETECTION, NML_SETUP=CCMI/R1EME-01 on pa2 @ DLR>>:
	    (with openmpi/3.1.1/gfortran/4.9.4, valgrind/3.13.0)
- MPI (mo_mpi.f90):
  - b_bcast_real_sp_*: p_real_sp instead of p_real in MPI-call
- NCREGRID:
  - messy_ncregrid_netcdf.f90:
    - several INTENT(OUT) replaced by INTENT(INOUT) to avoid memory leaks
     (thanks to Astrid Kerkweg)
  - messy_ncregrid_base.f90:
    - index renamed to idx (in qsort-subroutines), since indesx is fortran
      intrinsic
- TRACER:
  - messy_main_tracer_bi.f90, TRACER_INIT (2x): RGT deallocated/nullified
- TRACER_FAMILY:
  - messy_main_tracer_family.f90: allocate IS_TRACER only once
- JVAL, JVST, SCAV:
  - improved free_memory
- GRID:
  - messy_main_grid_netcdf_bi.f90:
    - p_bcast_narray: bug-fix in dimensioning
    - p_bcast_ncvar: additional init at beginning
  - messy_main_grid.f90:
    - init_geohybgrid: additional inits
    - copy_geohybgrid: additional copies
  - messy_main_grid_bi.f90:
    - p_bcast_grid: missing components added
  - messy_main_grid_netcdf.f90:
    - maxfrac2idx_ncvar: memory leaks fixed
    - several INTENT(OUT) replaced by INTENT(INOUT) to avoid memory leaks
      (thanks to Astrid Kerkweg)
  - messy_main_grid_tools_bi.f90:
    - rgtool_bi_read_ncvar_5d, rgtool_bi_read_ncfile_5d: bug-fix
      (corrected grid)
- IMPORT_GRID:
  - messy_main_import_grid.f90:
    - construct_igridmask: memory leaks fixed
    - parse_str: sl3 deallocated/nullified
- TIMER:
  - messy_main_timer.f90, timer_dealloc_clock: 3 additional deallocates
- config/mh-linux-64: update for supermuc @ LRZ (guess, OpenMP)
- SCACL:
  - bug-fix (thanks to Astrid Kerkweg): copy of %when component added
- CVTRANS:
  - pointers NULLIFied
- H2O:
  - new subroutine h2o_free_memory
- O3ORIG:
  - NULLIFY pointers in o3orig_free_memory
- SATSIMS:
  - pointer isccp_cldtypes NULLIFied
- CONTRAIL:
  - SMCL: pointers NULLIFied
= <<STEP 3: TEST RUNMODE=PRODUCTION, NML_SETUP=E5 on pa2 @ DLR>>:
  :                                    COMPILATION SIMULATION RESTART_IDENTITY
  ----------------------------------------------------------------------------
  - gnu openmpi/1.10.3/gfortran/4.9.4  PRODUCTION  OK         OK
  - g95 openmpi/1.10.3/g95-dint32/0.93 PRODUCTION  OK         OK
  - int openmpi/1.10.3/intel/16.0-2    PRODUCTION  OK         OK
  - g62 openmpi/1.10.3/gfortran/6.2.0  PRODUCTION  OK         OK
= <<STEP 2: CORRECTING RUN-TIME ERRORS>>
  [CMIP6-AMIP.bat, NML_SETUP=CMIP6/DECK/piControl-37]:
  - RAD (messy_rad_si.f90): correction of treatment of #const aerosol; the
    usage of names in the CASE constructs has been conceptionally wrong,
    since it lead to segmentationfaults if object names are different; this has
    now been replaced by using indices in the CASE constructs, which
    allow for a free choice of object names; in addition the obsolete
    differntiation between ECHAM5 and CESM1 has been removed and the
    units attribute with contentes 'mol/mol' is NOT longer added to the
    aerosol optical properties
  - CLOUD (messy_cloud_lohmann10.f90): bug-fix in array dimensions of
    vervel_ls and vervel_tke (1:kproma)
  - A2O (messy_a2o_si.f90):
    - moved MPI communication out of openMP directive
    - openMP directives encapsulated in #ifdef _MESSY_OMP ... #endif
  - AIRTRAF (messy_airtraf_tools_ga.f90):
    - syntax correction (spaces around stop statements) [gfortran on mistral]
  - CLOUD (messy_cloud_si.f90): bug-fix (segmentation fault) in case if GMXE
    without UAF
= <<STEP 1: CONFIGURATION and COMPILATION>>
  - config/mh-linux-64:
    - LIBCXX for g95 @ pa2 - DLR
    - F90OMPLIB set correctly for OpenMP enabled compilation (Intel,
      pa2 @ DLR and mistral @ DKRZ)
  - EDITH (SMCL): bug-fix in dimensioning of tx
  - KP4 (create_kpp_module.C): update/correction
    (according to Theodoros Christoudias)

Changes by Patrick Joeckel:
- configure option --disable-MESSYTIMER removed:
  - all pre-processor directives (#ifdef MESSY ... #endif) removed
  - all alternative branches (#ifndef MESSYTIMER or #else) removed
  - all #if(n)def MESSYTIMER replaced by #if(n)def MESSY
  - modified files:
    - Makefiles:
	./cesm1_2_1_c/Makefile.in
	./cesm1_2_1/Makefile.in
	./cosmo_131108_5.00_clm10/Makefile.in
	./cosmo_170323_5.04e/Makefile.in
	./echam5.3.02_c/Makefile.in
	./echam5.3.02/Makefile.in
	mbm/blank/main.mk
	mbm/clams/main.mk
	mbm/cmat/main.mk
	mbm/dissoc_3d/main.mk
	mbm/gwave/main.mk
	mbm/mpiom/main.mk
	mbm/qbo/main.mk
	mbm/rad/main.mk
	mbm/spe/main.mk
	mbm/vertico/main.mk
	mbm/vglue/main.mk
    - MESSy BMIL:
	messy_main_channel_cdi.f90, messy_main_tracer_family_bi.f90,
	messy_main_qtimer_bi.f90, messy_main_import_grid_tools_bi.f90,
	messy_main_data_bi.f90, messy_main_bmluse_bi.f90,
	messy_main_tracer_pdef_bi.f90, messy_main_tracer_bi.f90,
	messy_main_rnd_bi.f90, messy_main_import_ts_bi.f90,
	messy_main_grid_bi.f90, messy_main_channel_bi.f90,
	messy_main_control_[icon,echam5,cesm1].inc,
	messy_main_channel_[echam5,cmat,cesm1].inc,
	messy_ncregrid_interface_cesm1.inc,
	messy_ncregrid_interface_e5.f90, messy_ncregrid_tools_e5.f90,
	messy_ncregrid_interface.f90, messy_ncregrid_tools_bi.f90,
	messy_ncregrid_tools_c1.f90
    - SMIL:
	messy_viso_si.f90, messy_veg_si.f90, messy_tropop_si.f90,
	messy_tpulse_si.f90, messy_tbudget_si.f90, messy_sorbit_si.f90,
	messy_scav_si.f90, messy_rad_si.f90, messy_qbo_si.f90,
	messy_orogw_si.f90, messy_oracle_si.f90, messy_o3orig_si.f90,
	messy_mtskip_si.f90, messy_mmd2way_parent_si.f90,
	messy_mecca_si.f90, messy_mecca_aero_si.f90, messy_made3_si.f90,
	messy_lnox_si.f90, messy_jval_si.f90, messy_ions_si.f90,
	messy_gmxe_si.f90, messy_e5vdiff_si.f90, messy_dradon_si.f90,
	messy_dissoc_si.f90, messy_cvtrans_si.f90, messy_contrail_si.f90,
	messy_cloud_si.f90, messy_chemglue_si.f90, messy_bioburn_si.f90,
	messy_aeropt_si.f90, messy_vertex_si.f90, messy_trsync_si.f90,
	messy_trexp_si.f90, messy_tnudge_si.f90, messy_surface_si.f90,
	messy_sedi_si.f90, messy_s4d_si.f90, messy_rad_fubrad_si.f90,
	messy_plumegas_si.f90, messy_orbit_si.f90, messy_onemis_si.f90,
	messy_nan_si.f90, messy_msbm_si.f90, messy_megan_si.f90,
	messy_mecca_khet_si.f90, messy_made_si.f90, messy_m7_si.f90,
	messy_jvst_si.f90, messy_isopcor_si.f90, messy_gwave_si.f90,
	messy_gec_si.f90, messy_e4chem_si.f90, messy_diumod_si.f90,
	messy_ddep_si.f90, messy_convect_si.f90, messy_cmat_vglue_si.f90,
	messy_cloudj_si.f90, messy_ch4_si.f90, messy_airsea_si.f90
    - SMIL (e5):
	messy_timepos_e5.f90, messy_spacenox_e5.f90, messy_rad4all_orbit_e5.f90,
	messy_rad4all_e5.f90, messy_photo_e5.f90, messy_onlem_e5.f90,
	messy_mmforce_e5.f90, messy_mecca1_e5.f90, messy_lgvflux_e5.f90,
	messy_lgtmix_e5.f90, messy_lghpm_e5.f90, messy_lgfmm_e5.f90,
	messy_hetchem_e5.f90, messy_hamocc_e5.f90, messy_h2o_e5.f90,
	messy_edith_e5.f90, messy_d14co_e5.f90, messy_cat_e5.f90,
	messy_cam_e5.f90, messy_attila_tools_e5.f90, messy_airtraf_e5.f90,
	messy_accf_e5.f90, messy_spe_e5.f90, messy_relax_e5.f90,
	messy_rad4all_fubrad_e5.f90, messy_psc_e5.f90, messy_otphysc_e5.f90,
	messy_mpiom_e5.f90, messy_mlocean_e5.f90, messy_mecca1_aero_e5.f90,
	messy_lgvdiff_e5.f90, messy_lgmc_e5.f90, messy_lgh2o_e5.f90,
	messy_lgcloud_e5.f90, messy_hd_e5.f90, messy_h2oiso_e5.f90,
	messy_fire_e5.f90, messy_drydep_e5.f90, messy_cmat_vglue_e5.f90,
	messy_cam_sfflux_e5.f90, messy_bufly_e5.f90, messy_attila_e5.f90,
	messy_advect_e5.f90, messy_a2o_e5.f90
    - MBMs:
      - caaba/mecca/tag/imtag_tag_si.f90
      - mecca1/vector/smil/messy_mecca1_vec_e5.f90
      - spe/smil/messy_spe_box.f90
    - CESM1:
      - SMIL: messy_h2o_c1.f90, messy_mlocean_c1.f90:
    - ICON:
      - icon-nwp-2.1.01/src/atm_dyn_iconam/mo_nh_stepping.f90:
      - autom4te.cache/output.0, config/mh-linux, configure, configure.ac,
	externals/messy/util/configure.ac.lrz,
	externals/messy/util/configure.lrz, externals/messy/util/Makefile.lrz
	Makefile-MESSy.in
  - ECHAM5 (2x):
    - stepon.f90, mo_time_control.f90, mo_io.f90
    - mo_time_control.f90: L_TRIGGER_RESTART without MESSYTIMER removed

Changes by Frauke Fritsch:
- SCALC: new DIV operator
- TREXP: allow unit 'unknown' in the same way as '<unspecified>' (for SCALC)

******************************************************************************

messy_d2.53.0.25 (27 Jul 2018)

Changes by Tamara Emmerichs:
- DDEP:
  - new &CTRL namelist parameter l_ganzeori (default: .TRUE.) to switch
    (if set .FALSE.) from old scheme (Wesely 1998) to one which considers
    the canopy wetness (Zhang 2002)
- VERTEX:
  - new &CTRL namelsit parameter irstom (default = 0) to switch between
    5 (0 - 4) different schemes to calculate the stomatal resistance

Changes by Astrid Kerkweg:
- config/mh-linux-64: update fior FUB
- COSMO:
  - src_radiation.f90 expanded for CO2, O3 coupling
-DATA / CONTROL (COSMO)
  - subroutine data_init_coupling and data_global_start second call after
    import_global_start added for coupling of tracers to and for overwriting tsi
    constant used in COSMO radiation (+ additional diagnostic fields, only
    included temporarily)
- xmessy_mmd:
  - MPMD mode implemented for aprun
- dwdlibgrib:  Makefile.m : export and case for LINUX64 added

Changes by Patrick Joeckel:
- KP4 (create_kpp_module.C): update/correction
  (according to Theodoros Christoudias)
- config/mh-linux-64, xmessy_mmd: revised for mistral @ DKRZ with additional
  compile / run-time environment based on intel with intelmpi

Changes by Roland Walz and Hella Garny and Matthias Nuetzel:
- RELAX:
  - idealised heating
  - updated equilibrium temperature
  - new namelist parameters
- TOOLS:
  - subroutine strcrack with optional parameter lempty that allows for
    (counting and assigning) empty strings

Changes by Patrick Joeckel:
- ECHAM5 (2x!):
  - hdiff.f90): modifications for EDITh restricted to
    #ifdef MESSY and IF (ledith), the latter USEd from DATA
  - mo_time_control.f90 (echam5.3.02, see below)
- MECCA:
  - new batch, rpl and diagtrac files for EDITh setups conistently renamed
  - new messy/mbm/caaba/mecca/rpl/include/EDITh-temp.rpl to replace
    temp_ion and temp_ec by temp; now included in all mim1-EDITh-*.rpl
    (instead of hard-wired modifications in gas.eqn)
  - process_gas.tbl: additional entries for EDITh (from Stefans gas.tex)
  - translated "switch on transport for O2 and N2" from gas.tex into
    tracer properties (see TPROP(.) in &CTRL namelists (tracer.nml)
    of EDITH and AIRGLOW namelist setups)
- RAD:
  - messy_rad.f90:
    - LW-"blending" from HAMMONIA and cut-off at 1.0 Pa limited to ledith
      (passed from DATA as new formal parameter of rad_radheat_smcl)
- MSBM (SMIL):
  - limit PSC region to below 1.0 Pa only for ledith (from DATA)
- DATA (ECHAM5): set parameter ledith for ionosphere/thermosphere extension
  if uppermost half levels is < 0.1 Pa
- VERTEX (SMIL):
  - changes in E5VDIFF adapted
- E5VDIFF (SMIL):
  - limit inclusion of turbulent diffusion from hines scheme (channel object
    gweddy) to ledith setups (see messy_main_data_bi and below)
- GWAVE (messy_gwave_hines.f90):
  - local paramter ledith (is true if upper half levels is < 0.1 Pa);
    used instead of (papm1(1,1)
  - local variable diffco (which is now formal parameter) with INTEN(OUT)
    attribute (see below)
- CLOUD (messy_cloud_ori.f90):
  - module paramter ledith (is true if upper half levels is < 0.1 Pa);
    used instead of (papm1(1,1) to prevent mesospheric clouds
- CONVECT:
  - messy_convect_si.f90:
    - revised cut-off of zpt only for ledith
- dau-ngrade.tcsh: updated
- EDITH:
  - vmr_to_nd and nd_to_vmr USEd from TOOLS
  - illegal USEs to E5VDIFF replaced by USE of messy_main_constants_mem
  - SMIL:
    - USE of ldc from mo_decomposition removed and replaced
    - illegal USEs of basemodel modules (mo_memory_g1a, _g2a) replaced
- TOOLS (SMCL):
  - subroutines vmr_to_nd and nd_to_vmr added
- MESOENERGY:
  - USE of (obsolete) messy_ncregrid_tools_bi, RGTEVENTS removed
    (since not used anyway)
  - subroutines vmr_to_nd and nd_to_vmr moved to TOOLS (SMCL)
    to share between different submodels

Changes by Stefan Versick:
- ECHAM5:
  - hdiff.f90: modifications for EDITh
  - mo_time_control.f90: pre-settings of deltat_time for T*L74MA,L84MA,L94MA
- MECCA:
  - new batch, rpl and diagtrac files for EDITh setups
  - gas.spc: new species for EDITh
- RAD:
  - messy_rad.f90:
    - LW-"blending" from HAMMONIA
    - cut-off at 1.0 Pa
  - messy_rad_long.f90: hack to avoid out of bounds
  - messy_rad_si.f90: limit lookupoverflow detection only to p >= 1Pa
- MSBM (SMIL):
  - limit PSC region to below 1.0 Pa
- E5VDIFF (SMIL):
  - include turbulent diffusion from hines scheme (channel object gweddy)
- GWAVE:
  - messy_gwave_hines.f90:
    - icutoff and alt_cutoff are now &CTRL_HINES namelist parameters
    - alternative calculation of visc_mol for ionsophere/thermosphere
      extension
    - diffco limited
    - additional formal parameter diffco (subroutine gwspectrum)
  - messy_gwave_si.f90: new channel object gweddy (for options 1 (Hines)
    and 5)
- CLOUDOPT (SMCL, subroutine cloud_set_param):
  - zinpa and zinhomi settings for T42L74MA, T42L84MA, T42L94MA
- CLOUD (messy_cloud_cover.f90, messy_cloud_ori.f90):
  - limit lookupoverflow detection only to p >= 1Pa
  - messy_cloud_ori.f90:
    - prevent mesospheric clouds
    - limit lookupoverflow detection only to p >= 1Pa
    - subroutine sucloud_1: cauloc settings for T*L74MA, T*L84MA and T*L94MA
  - messy_cloud_si.f90, subroutine cloud_radiation:
    - limit lookupoverflow detection only to p >= 1Pa
- CONVECT:
  - messy_convect.f90, messy_convect_tiedtke.f90:
    - limit lookupoverflow detection only to p >= 1Pa
  - messy_convect_tiedtke_param.f90, subroutine cuparam_init:
    - cmfctop and cprcon settings for T*L74MA, T*L84MA and T*L94MA
  - messy_convect_si.f90:
    - limit lookupoverflow detection only to p >= 1Pa
    - revised cut-off of zpt
- SPE: update with new possibility to use positive ions
- config/mh-linux-64: updates for KIT
- MESOENERGY: new submodel (airglow and chemical heating)
- EDITH: new submodel (Extended Dynamics In the THermosphere)

Changes by Patrick Joeckel:
- all ECHAM5*nml: obsolete namelists removed and comments corrected

Changes by Rolf Sander and Jens-Uwe Grooss:
- DISSOC: update of SMCL file

Changes by Patrick Joeckel:
- MBM random reactivated and repaired
- GRID_TRAFO (messy_main_grid_trafo.f90): updates for grid expansion
- AVEOUT (SMIL):
  - bug-fix: ALLOCATABLE attribute is NOT allowed for namelist variables
  - SAVE attribute added
- dau-ngrade.tcsh: update

Changes by Astrid Kerkweg:
- TIMER: new features
	 - set YEAR, MONTH, ... also for lresume in initialize
	 - set YEAR_NEXT, MONTH_NEXT, ... already in initialize
- AVEOUT: new submodel to average channel objects based on regularly spaced
  subsets of time-steps (e.g. monthly averages based on 6-hourly steps)
- COSMO5.4e:
  - workaround for namelist reads for compilers not supporting IOMSG
  - some bugfixes for official COSMO code (DLR cluster compiler)
- CLAMSSEDI: bugfix (conversion of REAL to integers)

Christiane Hofmann:
- INT2LM: extensions for MESSYTWOWAY / MESOTEL

Changes by Patrick Joeckel:
- MEGAN (SMIL): bug-fix (corrected index)
- MONSOON: submodel removed

******************************************************************************

messy_d2.53.0.24 (4 Jul 2018)

Changes by Patrick Joeckel:
- ECHAM5 (2x), NUDGING:
  - no_nudging_sst.f90: finish with error message, if (netcdf) nudging file,
    which just has been closed, is opened again (without that fix, the model
    enters an endless loop, if the nudging data file is incomplete)

Changes by Rolf Sander:
- new subdirectory messy/util/latex
- messy/util/validate: check for dead links added
- CAABA, MECCA, DISSOC: updates (see messy/mbm/caaba/CHANGELOG)
- messy_chemglue_si.f90: messyfied with get_tracer
- messy/util/mmg: *.tbl added (for chemprop)
- Makefile.in: bugfixes for gmake TAGS:
  - option "-a" also needed for first line:
    find . -name "*.f90" -type f | xargs etags -a -l fortran ;\
  - ctags option is --language, not --languages

CHANGES by Jens-Uwe Grooss and Rolf Sander:
- DISSOC, JVAL, JVST, CLOUDJ, messy_cmn_photol_mem.f90:
  ip_BrONO2 deleted

Changes by Patrick Joeckel:
- WARNINGS updated
- CLOUD (all *cloud*nml): &CTRL_L10 and &CTRL_K14 added for all
  cloud_param > 1

Changes by Markus Kunze:
- MBM/rad: updates
- MPIOM: additional channel object for output of stability
- CONVECT (messy_convect_tiedtke_param.f90): additional log output
- CHANNEL (SMCL): NMAXADDREF = 900 (instead of 800)

Changes by Patrick Joeckel:
- CLAMS (messy_clamstraj_si.f90, messy_clams_si.f90, messy_clamsbmix_si.f90):
  - daun-grade directives for distro without CLAMSCHEM

Changes by Mattia Righi:
- MADE3 (SMIL): bug-fix, 2 string lengths correceted

******************************************************************************

messy_d2.53.0.23 (27 Jun 2018)

Changes by Mattia Righi:
- CLOUD:
  - Kuebbeler14: update and bug-fixes with additional CTRL_K14 namelist
    - calculation of soluble aerosol number concentration using
      explicit indices instead of conditional loop overal all modes
    - bug-fix: correct for inconsistencies in phase and temperature (from ETH)
  - Lohman10:
    - modification with additional CTRL_L10 namelist
      (also limm_bn09 moved from CTRL to CTRL_L10)
    - bug-fix (use mass mixing ratio instead of volume mixing ratio as
      input for subroutine cloud_droplet_arg)
    - calculation of soluble aerosol number concentration using
      explicit indices instead of conditional loop overal all modes
- SCAV (messy_scav_inter.f90): update of MADE3 coupling

Changes by Hiroshi Yamashita and Patrick Joeckel:
- ACCF: illegal USE of mo_time_control in SMIL corrected

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: updated

Changes by Feijia Yin and Volker Grewe:
- ACCF: new submodel for Algorithmic Climate Change Function calculation

Changes by Hiroshi Yamashita:
- messy_main_tools_ga* renamed to messy_airtraf_tools_ga*
- AIRTRAF: update (version 2.0)
  - new rouing options
  - coupling with CONTRAIL and ACCF

Changes by Patrick Joeckel:
- messy/util/init_restart: bug-fixes (echo replaced by find, rerun* only for
  1st instance)
- CVTRANS: l_calc_trma = .FALSE. as default

Changes by Holger Tost:
- CVTRANS: update for transport matrix calculation; new &CTRL namelist
  parameter l_calc_trma

Changes by Patrick Joeckel:
- WARNINGS updated
- CLAMSTRACER (SMIL): SAVE attribute added
- CLAMS (SMIL)
  - global SAVE attribute
  - new main enty points clams_local_start and clams_local_end for
    saving diabatic heating rates, if coupled to EMAC

Changes by Nicole Thomas and the CLaMS team:
- xmessy_mmd: variable INSTANCE[.] renamed to MINSTANCE[.] (to avoid conflict
  with with environemnt variable INSTANCE=GNOME)
- config/mh-linux-64: updates for IEK workstations
- CHANNEL
  - messy_main_channel_bi.f90: REPR_LEVARR_CLAMS, REPR_3DINP_CLAMS2 and
    REPR_2D_CLAMSTEST removed
  - messy_main_channel.f90, subroutinbe set_channel_output:
    set channel%int%lsuppr_out and channel%int%lforce_out
  - (BMIL) messy_main_channel_clams.inc: update
- CLAMSTRACER: new submodel
- CLAMS:
  - new entry points clams_init_coupling and clams_global_end
  - (CONTROL) messy_write_output and messy_write_restart
  - further updates
- CLAMSBMIX, CLAMSCHEM, CLAMSCIRRUS, CLAMSMIX, CLAMSSEDI, CLAMSTRAJ:
  - updates
- DISSOC, MBM DISSOC_3D (SMIL): allocate albedo_2d, if rad is off

Changes by Andrea Pozzer:
- AIRSEA (SMIL): bug-fix (fullname instead of basename)

Changes by Christoph Bruehl and Francois Benduhn:
- SEDI (now version 2.5):
  - see http://dx.doi.org/10.1002/jgrd.50622
  - 5 additional sedimentation schemes implemented, selectable with
    new CTRL namelist parameter scheme (default: 1 = standard trapezoid scheme)

******************************************************************************

messy_d2.53.0.22 (5 Jun 2018)

Changes by Patrick Joeckel:
- DISSOC (messy_dissoc.f90):
  - fixes (w.r.t. floating point precision) according to gfortran
- DATA (COSMO): xvar, xskew (for modifications in CONVECT, see below)

Changes by Holger Tost:
- MBM gmxe: update

Changes by Jasper Denissen:
- ECHAM5 (2x), mo_memory_g3b.f90: long_names of xvar and xskew corrected
- CLOUD (messy_cloud_cover.f90, messy_cloud_lohmann07.f90,
	 messy_cloud_lohmann10.f90, messy_cloud_ori.f90);
  CONVECT (messy_convect.f90, messy_convect_mem.f90, messy_convect_si.f90);
- H2OISO (messy_h2oiso_cloud.f90):
  - Implemented in the original code was
      i) an incorrectly calculated
     ii) proxy (distribution width (b-a)) for
    iii) the standard deviation of the total water amount.
    In the updated code we
      i) made sure the variable is calculated correctly, regardless of cloud
	 cover scheme,
     ii) actually calculate the standard deviation of moisture instead of the
	 distribution width (b-a), and
    iii) changed the variable description from variance to standard deviation
	 of moisture.
    Furthermore, we implied a novel parametrization, which calculates
    the cloud-core area fraction independent from mass flux calculations
    based on a moisture function (Sikma and Ouwersloot, 2015).

Changes by Patrick Joeckel:
- MBMs dissoc, dissoc_3d and MESSy SMIL & SMCL: clean up of symbolic links
- MBM dissoc:
  - README updated
  - main.mk: missing target install added
  - Makefile.m (for gmake mbm)
- MBM dissoc0 renamed to dissoc
- MBM dissoc renamed to dissoc_3d

Changes by Rolf Sander:
- CAABA/MECCA: updates, see messy/mbm/caaba/CHANGELOG
- zip.sh: several files added for CAABA that have been skipped so far
- mbm/dissoc0: another simple column model for DISSOC. Compared to
  mbm/dissoc, the implementation is much simpler, i.e., better to
  understand but using less of the MESSy infrastructure.
- new subdirectory messy/util/latex

Changes by Patrick Joeckel:
- CLOUD (messy_cloud_ice_bn09.f90): use isnan from TOOLS in case of
  Lahey/Fujitsu compiler
- TOOLS: new function isnan as workaround for Lahey/Fujitsu compiler
- config/mh-linux-64: MPICXX, MPICXXFLAGS and LIBCXX settings for
  lx* @ DLR, pa2 @ DLR, mistral @ DKRZ
- configure.in (configure), Makefile.in: modified LIBSRCS directory for GUESS
- VEG/GUESS:
  - libsrc/guess/build/Makefile.m for compilation without cmake
- dau-ngrade.tcsh: update for new submodels CAT, VEG, NAN, IONS
- configure/make: CXY renamed to standard conform MPICXX
- VEG:
  - filenames and modules renamed from vegetation to veg
    (according to MESSy naming convention)
  - p_pe used from MPI instead of DATA
  - preprocessor directive for only ECHAM5, COSMO, BLANK
- GMXE: SMIL module renamed from messy_gmxe_e5 to messy_gmxe_si
  (file was already named correctly)

Changes by Holger Tost (and colleagues):
- CAT:
  - new submodel (for ECHAM5 only)
  - calculation of turbulence index and optional tracer mixing by small
    scale turbulence
- VEG:
  - new submodel with interface to the LPJ-GUESS library
  - library for LPj-GUESS included in libsrc (libsrc/guess)
- TOOLS:
  - new subroutine IDXSORT_DP (merge sort)
- DATA (ECHAM5):
  - new pointers and channel objects tpoteq_3d and tpoteq2_3d
- CONTROL (COSMO):
  - call of GMXE main entry points
- changes in GMXE:
  - updates for COSMO
  - updates for ORACLE
  - internal updates and bugfixes
- changes in CLOUD: bugfixes
- MPI
  - p_isend, p_irecv, p_wait USEd through
- ECHAM5 (2x)
  - Makefile.in: preprocessor directive for GUESS
- init_restart: handling of GUESS restart files
- configure.in (configure):
  - new option --enable-GUESS (default: false)
  - preprocessr directive for GUESS
  - MPICXX compiler and flags
- config/mh-linux-64:
  - options for MOGON I / II
- xmessy_mmd:
  - options for MOGON I / II
  - special handling of GUESS setup and restart files

Changes by Sara Bacer:
- CLOUD:
  - implementation of Barahona et al. (2009) new icnc formation
  - new file messy_cloud_ice_bn09.f90
- GMXE:
  - coupling with ORACLE

Changes by Vlassis Karydis:
- CLOUD:
  - implemented "unified dust activation framework"
    (UAF : https://doi.org/10.5194/acp-17-5601-2017)
  -new files messy_cloud_droplet_uaf.f90, messy_cloud_parameters_uaf.inc

Changes by Vinod Kumar:
- SORBIT: new CPL-namelist parameter deltat_scale for relaxing the
  local time condition (default: 1.0)

Changes by Patrick Joeckel:
- COSMO (CONTROL and src_tracer.f90): optional parameter l_calcadv of
  subroutine messy_beforeadv made mandatory
- DRADON: decay constant(s) as static scalar channel objects for output
  and coupling

Changes by Andrea Pozzer:
- config/mh-linux-64
  - added new system cobra @ MPCDF (Garching, DE)
- xmessy_mmd
  - added new system cobra @ MPCDF (Garching, DE)
- MEGAN: modified to account for lumped species emissions
- nml/MOM  modified to account for heavy VOC not included in MOM
  but present in ORACLE
- mecca/rpl/MOM3d.rpl added missing ORACLE species

Changes by Rolf Sander:
- TRACER/CHEMPROP: updated messy_main_tracer_chemprop.tbl and
  added test for duplicates in xchemprop

Changes by Patrick Joeckel:
- nml/EXAMPLES/switch.nml updated
- dau-ngrade.tcsh updated
- IONS:
  - SMIL:
    - USE of time_step_len corrected
    - unused USE of t_scb removed
    - unallowed redundant save-statements removed
    - indirect index of philon/ilon philat/ilat replaced by philon_2d, philat_2d
    - some substr corrected
-NAN:
  - MBM: executable renamed to nan.exe (according to standard)
  - SMIL:
    - missing pointer xtp1_0 (for MESSYTENDENCY) declared
    - nan_driver_si: missing USE of p_parallel_io added
    - standard conform entry point nan_radiation with parameter 1 or 2 to
      call nan_radiation_b4 and nan_radiation_after, respectively

Changes by Sebastian Ehrhart:
 - GEC: new features, expanded CTRL and CPL namelists
 - MBM NUCLEATION replaced by new MBM nan
 - IONS: new submodel (ionisation in the atmosphere)
 - NAN: new submodel (new aerosol nucleation)

Changes by Matthias Nuetzel and Patrick Joeckel:
- S4D: added attributes missing_value and _FillValue to all channel objects

Changes by Astrid Kerkweg:
- GRID_TRAFO (messy_main_grid_trafo.f90): bug-fix for non-overlapping grids

******************************************************************************

messy_d2.53.0.21 (2 May 2018)

Changes by Patrick Joeckel:
- SF6:
  - SMCL subroutine rnelec Fortan95 conform
  - SMCL US(E)age of messy_main_timer DAYOFYER moved to SMIL
- MBMs BLANK, QBO, DISSOC : (heavily based on BLANK) updated accordingly
- SWITCH, CONTROL, BLANK, CHANNEL, DATA:
  - preprocessor logic for sharing between different
    BLANK-based MBMs
- BLANK:
  - hard-wired redundancy between DATA and CHANNEL (inc) removed:
    - new file bml/messy_mbm_blank_bl.f90 with basemodel information,
      e.g. grid (latitude, longitude, level) and setup and finalize routines
    - bml/blank_main.f90: calls to new routines to setup/finalize mbm
    - DATA (BLANK): use grid information from mbm (i.e., from new file)
    - CHANNEL (messy_main_channel_blank.ink): use grid infor from mbm (i.e.,
      from new file)
- ECHAM5 (2x), NUDGING:
  - mo_nudging_init.f90, mo_nudging_io.f90: bug-fix (INT replaced by NINT to
    avoid rounding errors in date / time conversion) to allow for hourly
    nudging input
  - mo_nudging_sst.f90: log-ouput commented out
- CONTROL (all basemodels and MBMs):
  - CALL main_channel_init_coupling: added flag=2
  - CALL main_channel_init_coupling(1) added BEFORE calls to <SM>_init_coupling
- CHANNEL:
  - SMCL: new subroutine modify_attributes to apply ADD_ATT from CTRL namelist
  - BMIL: main_channel_init_coupling with parameter flag to be called twice
	  from CONTROL
- ECHAM5 (5.3.02, 5.3.02_c), NUDGING:
  - mo_nudging_init.f90, subroutine NudgingInit:
    - finish with error message, if nudging data file (netcdf) contains less
      than 2 time steps
  - mo_nudging_io.f90: finish with error message, if (netcdf) nudging file,
    which just has been closed, is opened again (without that fix, the model
    enters an endless loop, if the nudging data file is incomplete)
- CAABA/MECCA (messy_mecca_box.f90): dau-ngrade directives for radjimt
  re-introduced
- dau-ngrade.tcsh: update

******************************************************************************

messy_d2.53.0.20 (28 Mar 2018)

Changes by Patrick Joeckel:
-CHANNEL:
  - new CTRL namelist entry ADD_ATT to add/overwrite channel / object attributes
- configure(.in), Makefile.in:
  - save module list at configure and compile time, if module environment
    is available
  - autodetect compile-time environemnt (ENVOPT = openmpi vs. bullxmpi_mlx)
    on mistral @ DLRZ
- xmessy_mmd:
  - save module list at run-time if module environment is available
  - autodetect run-time environemnt (ENVOPT = openmpi vs. bullxmpi_mlx)
    on mistral @ DLRZ
- CFU: executable renamed to cfu.exe according to standard
- HYMACS, BOTTDC:
  - missing SAVE statements added to SMIL file
- Makefile.in: add IOMSG_NOT_AVAIL to F90DEFS0I2C for specific compilers
  (required for int2lm_170406_2.04a[_mod])
- COSMO (131108_5.00_clm10):
  - Makefile.in: set preprocessor directive IOMSG_NOT_AVAIL for specific
    compilers
  - dfi_initialization.f90, src_artifdata.f90, src_setup.f90,
    organize_assimilation.f90, organize_data.f90, organize_diagnosis.f90,
    organize_dynamics.f90, organize_eps.f90, organize_physics.f90,
    organize_satellites.f90:
    preprocessor directive IOMSG_NOT_AVAIL

Changes by Theo Christoudias:
- MEDINA:
  - messy/util/medina subdirectory with source code and instructions to run
    MECCA / KPP on GPUs

Changes by Patrick Joeckel:
- TRACER_CHEMPROP, MECCA:
  - messy/mbm/tracer/chemprop and messy/mbm/caaba/mecca/latex:
    links to files in messy/util/latex
- new subdirectory messy/util/latex with
  chem.sty, citefind.awk, citetags.awk, egu.bst from MECCA latex

Changes by Astrid Kerkweg:
- dau-ngrade.tcsh:
  - new option -ksp2 (to keep a set of sumbodels for COSMO starter package)
  - some improvements
- CHANNEL:
  - messy_main_channel_bi.f90, subroutine channel_readdistrib_ICON_data
    adapted to lreduceio option of dummy dimension
- messy/util/cclm_subchain: subdirectory containing the subchain scripts from
  CCLM community
- configure.in  CCLM added (sets "CCLMORI" and "CLM", enables COSMO
- MMD: add free memory routines
- cosmo_170323_5.04e added
- int2lm_161111_2.03_beta2 and int2lm_170406_2.04a_mod added
- cosmo_131108_5.00_clm7 updated to cosmo_131108_5.00_clm9:
  data_parameters.f90, /dfi_initialization.f90, environment.f90, lmorg.f90
  netcdf_io.f90, organize_assimilation.f90, organize_data.f90
  organize_diagnosis.f90, organize_dynamics.f90, organize_eps.f90
  organize_physics.f90, organize_satellites.f90, src_artifdata.f90
  src_meanvalues.f90, src_obs_rad.f90, src_output.f90 src_setup.f90
  src_soil_multlay.f90
- adaption to CCLM StarterPackage added + bugfix preprocessor directives
   MESSYTRAC / MESSYTRACP
  fast_waves_rk.f90, hori_diffusion.f90, io_utilities.f90 lmorg.f90
  near_surface.f90, organize_data.f90, organize_physics.f90,src_advection_rk.f90
  organize_satellites.f90, src_conv_shallow.f90, src_conv_tiedtke.f90
  src_diagbudget.f90, src_flake.f90, src_gridpoints.f90, src_gscp.f90
  src_input.f90, src_integrals.f90, src_lheat_nudge.f90, src_meanvalues.f90
  src_mult_local.f90, src_output.f90, src_radiation.f90, src_relaxation.f90
  src_runge_kutta.f90, src_setup.f90, src_slow_tendencies_rk.f90, src_soil.f90
  src_soil_multlay.f90, src_turbulence.f90, turbulence_interface.f90
  - pre processor directive CCLMORI added:
    cosmo/Makefile.in, numeric_utilities_rk.f90, src_advection_rk.f90,
    src_gscp.f90, src_radiation.f90, src_slow_tendencies_rk.f90, src_tracer.f90
  - for MESSY && CLM: avoid nevative precipitation in src_gscp.f90: MAX
    statements added.
  - src_setup.f90: change in TIMER stettings according to 10 or 14 digit dates
  - cosmo/Makefile.in: CLM directive added
- cosmo_131108_5.00_clm9/Makefile.in: enable compilation of IFS code
- Makefile.in: options for CCLMSP added as comments
- CHANNEL:
  - block memory for COSMO added
    - routines messy_channel_alloc_block, messy_channel_dealloc_block,
      messy_channel_register_block_fields, messy_channel_register_copy added
  - CHANNEL_BI:
    - DIMID_ILEVp1 added
    - accu ptr-arrays deleted
  - channel_cosmo_inc / messy_main_channel_int2cosmo.inc:
     new fields for COSMO_5.4e added
 - CONTROL / SWITCH: submodel BOTTDC and empty shell for submodel HYMACS
   added
 - DATA: adapted to COSMOv5s4
 - GRID_BI: bugfix, filename creation of COSMO file
 - QTIMER: measure tool added
 - TIMER_BI: bugfix for last timestep in COSMO model:
   routine timer_COSMO_resetfinalstop added
 - TRACER:
   - block memory added
   - "processes" : blockmem, sedim and spptpert added to be consistent with
     COSMO tracer handling
- MMD2WAY:
  - adaption to new INT2LM versions
  - call to qtimer measure routines added
- NML: namelist directories  COSMOv5s4_EVAL and COSMOv5s4 added
- mess/util/zipcclmsp.sh makefile zip option for CCLM StarterPackage added

Changes by Patrick Joeckel:
- CHANNEL:
  - ICON (messy_main_channel_icon.inc):
    - dummy dimension 'one' with lreduceio=.TRUE.
    - main_channel_icon_attributes: avoid self-references of clon and clat
  - messy_main_channel_dimensions.f90: new, optional switch lreduceio to
    suppress I/O of dummy-dimensions with length 1
  - messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90:
    - suppress I/O of dimensions with lreduceio=.TRUE.
- IMPORT_GRID (messy_main_import_grid_bi.f90): lower_case replaced by lcase
- TOOLS: lower_case renamed to lcase (to be consistent with ucase)
- TRACER
  - messy_main_tracer_bi.f90: lower_case replaced by lcase
  - (ICON): subroutine map_tracer_meta_m2i: itype_v/hlimit set
- DATA (ICON): clon/clat_vertices renamed to vlon and vlat

Changes by Markus Kunze:
- DATA (ECHAM5), messy_main_data_bi.f90:
  - changed representation for vdiff variables cfh, cfm, ebsh back to GP_3D_INT

******************************************************************************

messy_d2.53.0.19 (16 Mar 2018)

Changes by Patrick Joeckel:
- SF6: bug fixes: SAVE attribute added, loop counter converted to INTEGER
- messy/util/xusediagram_all.tcsh: modified with automatic loop over all
  submodels and gs instead of pdftk (which is not available everywhere)
- JVST: updates of JVAL included (see below)

Changes by Frauke Fritsch:
- CONTROL(ECHAM5):
  - calls to trexp_init_coupling and scalc_init_coupling moved in order to
    make new scalc objects available for trexp
- SF6: new submodel
- TPULSE: new submodel

Changes by Rolf Sander:
- CHEMGLUE: upadate
- TRACER_CHEMPROP: update of species and properties
- messy/tools/strato3bud: function k_3rd added
- CAABA, MECCA: update (see messy/mbm/caaba/CHANGELOG)
- KPP: update
- JVAL, JVPP:
  - update (see messy/mbm/jval/CHANGELOG); new photolyis rates for HO2, ClO
- messy_cmn_photol_mem.f90: new photolysis reactions added (HO2, ClO)
- messy/util/xusediagram.tcsh: add MECCA002, MECCA003 etc. from Polymecca
- Makefile.in: new target depend added

Changes by Andrea Pozzer:
- xmessy_mmd: new setup for GAIA @ RZG
- config/mh-linux-64: setup for GAIA @ RZG
- ORACLE: update and bug-fixes

Changes by Sara Bacer:
- CLOUD (messy_cloud_kuebbeler14.f90): bug-fix (correct scaling for units)

Changes by Klaus Klingmueller:
- RAD: constant values (in rad.nml) for aerosol optical properties now possible
- AEROPT now able to calculate diagnostic LW (for comparison with IASI at 10 um)

Changes by Sergey Gromov:
- messy_cmn_aqattr.f90: MAXSIZE increased to 1000
- messy_cmn_gasaq.f90: MAXSIZE increased to 1000

Changes by Andrea Pozzer, Klaus Klingmueller, Meryem Tanarhte, Sara Bacer:
- ONEMIS:
  - new dust emission routine "KKDU"
  - dust emissions composition added in Astitha schemes
  - new namelist for simulation with bioaerosol emissions (BIO)
  - Added "BIOL" aerosol emissions in onemis (new input files based on MODIS)

******************************************************************************

messy_d2.53.0.18 (13 Mar 2018)

Changes by Patrick Joeckel:
- RNDTEST: temporary workaround: ALLOCATABLE NCELL is not allowed as namelist
  parameter; therefore with fixes dimension now
- TREXP: new special case (order = -2 -> CH4 + OH reaction coefficient:
  k(temp) = 1.85E-20 * exp(2.82*log(temp) - 987/temp)
- Makefile.in: new target "dist" for tools, mbm, and basemodels
- DATA (CESM1): new channel object cfm (see below) for E5VDIFF

Changes by Astrid Kerkweg:
- ICON (for restarts):
  - icon/src/drivers/mo_atmo_nonhydrastatic.f90: additional call of
    read_restart to read objects made in init_coupling
- CHANNEL (ICON):
  - read_restart:
    - logical lisread added to fill object%..%lrestart_read in
      channel_read_data loop in MODE_DISTRIBUTE
    - channel_read_data outputs additionally channel name for ICON
    - readdist:
      - 0D, 1D for DC_BC read implemented,
      - 2D read for DC_AG     implemented,
- BMLUSE (ICON): USEs for ICON read subroutines added
- CONTROL (ICON):
  - bugfix, call main_channel_read_restart only once (not patchwise)
- RNDTEST:
  - new submodel to aquire random numbers for testing RND
    (implemented in ECHAM and ICON sofar)
- MPI: subroutine messy_mpi_initialize renamed to messy_mpi_setup
- RND: implemented in ICON
- QTIMER: implemented in ICON
- TIMER:  bugfix for output with unit 'steps'
- TRANSFORM: get_dc_domain moved to bottom, access for all base models
- SWITCH: QTIMER / RND / RNDTEST added for ICON

Changes by Markus Kunze:
- DATA (ECHAM5), messy_main_data_bi.f90:
  - changed representation for vdiff variables to GP_3D_MID. zcfh, zebsh are
    originlly declared as zcfh(kbdim,klev), zebsh(kbdim,klev) in vdiff.f90.
  - added 3D-pointer cfm to have an output channel for eddy viscosity
    (calculated in E5VDIFF, VERTEX).
- E5VDIFF (messy_e5vdiff_si.f90):
  - changed local 3D-array zcfm to pointer. zcfm points to cfm from
    messy_main_data_bi.f90.
- VERTEX (messy_vertex_si.f90):
  - changed local 3D-array zcfm to pointer. zcfm points to cfm from
    messy_main_data_bi.f90.

Changes by Thomas Jahns (DKRZ):
- config/mh-linux-64: new environment for NAG-compiler on mistral @ DKRZ
- libsrc/ifs/sucumf.F90: bug-fix (order of declarations)
- messy/smcl/Makefile.m: improved line breaks for compiler info in
  messy_main_compilerinfo_mem.f90
- AIRTRAF (messy_airtraf_gc.f90):
  - bug-fixes in format specifier (x->1x)
  - correct initialisation of ac_mass (REAL(DP) instead of INTEGER)

Changes by Rolf Sander:
- Makefile(.in): new target "depend" to create/update dependency files

Changes by Patrick Joeckel:
- TRACER (BMIL ICON):
  - tracer integration for ICON (tracer tendencies from ICON are added
    to tracers)
- CONTROL (ICON): calls to main_tracer_set_patch added
- DATA (ICON): new (static) grid objects clon_vertices, clat_vertices
- VISO:
  - messy_viso_si.f90: allow index fields without suffix '_i'
- TOOLS:
  - messy_main_tools.f90 (subroutine ind2val_1d):
    return FLAGGED_BAD, if index is out of bounds
- CHANNEL:
  - BMIL (ICON):
    - main_channel_icon_attributes to automatically add grid
      atrributes to ICON variables
    - new representation UVERT_2D_SURFACE
  - new SMCL module parameter ldom (default: false) indicating basemodels
    (the paramater is set in channel_setup at BMIL),
    which are capable of internally nested domains (or grid refinements),
    such as ICON (true)
  - improved logic to check possible channel object references (as defined
    in the namelist) for ldom=.TRUE. models (subroutine fixate_channels)
  - channel location for "patch models" (ldom = .TRUE.) via optional
    parameter patch_id OR appended domain number "_Dxy" (via get_name_domain)
    OR current_patch (in this hierarchical order)
    - subroutines: new_channel, loc_channel_by_name
- TOOLS:
  - get_name_domain returns now global_patch (instead of -1) as default

Changes by Markus Kunze:
- RAD
  - messy_rad_short_v1.f90: bug-fixes
  - messy_rad_short_v2.f90: obsolete variables commented out
- RAD_FUBRAD (messy_rad_si.f90, messy_rad_fubrad_si.f90):
  - some parameters removed, this is a bug-fix for the case when not
    each time step is a radiation time step

******************************************************************************

messy_d2.53.0.17 (23 Jan 2018)

Changes by Markus Kunze (op_mk):
- E5VDIFF (messy_e5vdiff_si.f90)
  - messy_e5vdiff_si.f90: updated channel object: emter no longer
    available in rad01, replaced by flxt
- VERTEX (messy_vertex_si.f90)
  - messy_vertex_si.f90: updated channel object: emter no longer
    available in rad01, replaced by flxt
- RAD/FUBRAD (messy_rad_fubrad_si.f90, messy_rad_si.f90, messy_rad.f90,
    messy_rad_short_v1.f90, messy_rad_short_v2.f90):
  - messy_rad_fubrad_si.f90: added output heatswc (clear sky SW HR)
    added flux/transmissivity correction for new upward directed
    output of RAD;
    added the possibility to change the lowest operation level of FUBRAD
    (blev) via namelist.
  - messy_rad_si.f90: added output: flxus, flxusf, flxut, flxutf,
    flxuni, flxunif (upward directed fluxes (all sky, clear sky)
    for SW, LW, NIR); added output: trus, trusf, truni, trunif
    (upward directed transmissivities (all sky, clear sky) for
    SW and NIR; added output: dtswc (SW heating rates), dtlwc (LW
    heating rates) for clear sky conditions.
    removed output: emter, emtef as they are redundant. emter, emtef
    are the longwave fluxes (all sky, clear sky) and not the emissivities;
    LW fluxes already output as flxt, flxtf.
    Output by the SMCL routine rad_rad_smcl changed to SW transmissivities
    instead of SW fluxes; conversions from SW fluxes to transmissivities area
    therfor obsolete.
  - messy_rad.f90: added to interface of SUBROUTINE rad_rad_smcl: pflut , ptrus,
    pflutc, ptrusc, ptruni, ptrunic, to save upward directed fluxes and
    transmissivities. Changed the output for SW calculations from fluxes to
    transmissivities, as these are needed in the SMIL. Cleaned up the code;
    commented all obsolete local variables.
  - messy_rad_short_v1.f90, messy_rad_short_v2.f90: output are the
    SW transmissivities (see changes for messy_rad.f90); commented all variables
    which now are obsolete.
  - messy_rad_fubrad.f90: added calculation of clear sky SW heating rates.
  - messy_rad_fubrad_mem.f90, messy_rad_fubrad_init.f90, : added variable blev
    (basic level of FUBRAD, default 7000 Pa), which can be changed via namelist.
- MPIOM (messy_mpiom_e5.f90)
  - messy_mpiom_e5.f90: added new output channel objects, to calculate
    additional diagnostics offline: dlxu, dlyu, dlxv, dlyv (length grid
    box vector), uko, vke (x-, y-velocity), dduo, ddue
    (layer thickness at vector points).
- SCOUT (messy_scout_si.f90)
  - messy_scout_si.f90: TYPE IO_SCOUT: changed length of character str to
    STRLEN_XLONG.

Changes by Matthias Nuetzel:
- CLOUDOPT: soubroutine cloud_opt split into cloud_opt_prelwsw, cloud_opt_lw1,
	    cloud_opt_sw1 in preparation for implementation of alternative
	    radiation schemes
- RAD: new /CPL/ namelist parameter i_lw for the selection of alternative
       long-wave schemes (similar as i_sw)

Changes by Patrick Joeckel:
- DATA (ICON): new static channel objects clon and clat
- CHANNEL (BMIL, ICON):
  - messy_main_channel_bi.f90: bug-fix in array copy for CASE(3) in subroutine
    channel_readdistrib_ICON_data
  - messy_main_channel_icon.inc: EXEC_CHECKSUM as global attribute with md5
    checksum of executable (icon.exe)
- IMPORT_GRID (BMIL):
  - messy_main_import_grid_bi.f90 (subroutine import_grid_initialize):
    - cycle for patch_id = 0 in case of ICON
    - call rgtevent_init_nml with patch_id instead of modifying modstr
  - messy_main_import_grid_tools_bi.f90: subroutine rgtevent_init_nml with
    optional parameter patch_id (instead of modyfing namelist file name)

******************************************************************************

messy_d2.53.0.16 (11 Jan 2018)

Changes by Astrid Kerkweg:
- BMLUSE:  additional ICON fields added for reading data
- GRID_BI: unnecessary if-statement deleted
- GRID_TRAFO: EXPAND LON ... expanded
- TIMER: further adaption to ICON patches
   - subroutine timer_add_seconds_to_date_real added in SMCL
- CHANNEL: (BI / IO / (p)netcdf / cdi): ICON restart enabled

Changes by Patrick Joeckel:
- config/mh-linux-64: updates for openmpi-3.0.0 on pa2 @ DLR
- IMPORT_LT (SMCL): bug-fix in subroutine ilt_read_lt_netcdf; pointer vec
  correctly nullified

******************************************************************************

messy_d2.53.0.15 (15 Dec 2017)

Changes by Mariano Mertens:
- JVAL (SMIL): compiler workaround for MAX(0.0, clp_2d)

Changes by Patrick Joeckel:
- configure.in, configure: bug-fix w.r.t. availability of pnetcdf library
- mh-linux-64: updates for gcc / openmpi on mistral @ DKRZ
- ISOPCOR: new submodel for the production rate calculation of isotopes
  produced by cosmic rays
- JVST (messy_jvst_jvpp.inc): updated to the status of JVAL, 14.1.1

Changes by Rolf Sander (thanks to Stefan Versick):
- JVAL: upadate (version 14.1.1) with revised/corrected O3 and OCS spectra
  (modified files: O3.s2t, OCS.s2t, messy_jval_jvpp.inc)

Changes by Patrick Joeckel:
- MSBM (SMIL): adjustment of large scale cloud cover (aclc) after
  repartitioning of xl and xi
- CLOUD (SMIL): adjustment of saved large scale cloud cover (aclc) in case
  of MSBM is active in stratosphere:
  Note: After the calculation of aclc in cloud_radiation -> cover_ori,
  the liquid water and ice tendencies are (numerically) modified, e.g.
  by E5VDIFF (and maybe others); thus, the initial values of aclc in
  cloud_convec are occasionally inconsistent with xlte and/or xite.
  In the standard case the consistenty between aclc and xlte & xite
  is re-adjusted in cloud_convec -> cloud_ori. In case of MSBM, however,
  this re-adjustment is bypassed by saving and resetting the original
  inconsistent value. Thus, the saved value needs to be re-adjusted as well.
- TIMER (BMIL, main_timer_read_nml_cpl): bug-fix (POINTERs must NOT be
  part of NAMELISTS, at least g95 complains ...); thus: local variable
  delta_time to be read from namelist copied to clock(1)%delta_time

Changes by Patrick Joeckel and Mariano Mertens, thanks to Holger Tost:
- JVAL, JVST (SMIL): bug-fix in memory management for specific representation
  REPR_JV_AER_4D
- messy_main_ppd_bi.inc: _RI_YdZdWd_ modified

Changes by Patrick Joeckel:
- config/mh-linux-64 and xmessy_mmd:
  alternative intel-based compile-/run-time parallel environment
  for mistral (to be selected with ENVOPT=1 or 2 and only for development)

Changes by Mariano Mertens:
- DATA (COSMO), GRID_TOOLS: calculation of wind vector components in
  geographical coordinates
- TAGGING: update; flexible tagging classes controlled via namelist
  (requires namelist updates,see WARNINGS or WiKi)

******************************************************************************

messy_d2.53.0.14 (10 Nov 2017)

Changes by Patrick Joeckel:
- SCAV (scav_init_coupling): bug-fix to avoid calculation of LOG(0) = nan
  for inactive modes (sigma = 0)
- ICON (2.0.17) removed

Changes by Astrid Kerkweg:
- MBMs (BLANK, CLAMS, CMAT, DISSOC, GWAVE, MPIOM, QBO, RAD, SPE, VERTICO,
  VGLUE):
  - messy_main_control_*.f90 updated according to TIMER update
- messy/util/init_restart: copy / link ICON ori files
- messy/util/xmessy_mmd: bugfix restart_ICON does not longer exist;
			 changed to tracer_gp and test of icon*.nc files
- TIMER: include domain handling:
  - introduce arbitrary number of clocks and BMtimes
  - set IO_RERUN_EVENT / no_cycles for ICON
  - bugfix for ICON: set of resume date to current date instead of start date
- IMPORT_GRID: change domain handling of RGTEVENT counter restart;
	       added domain number to modstr (as in CHANNEL)
- ICON (nwp-2.1.01):
  - icon/src/atm_dyn_iconam/mo_nh_stepping.f90: include calls to timer_time
    in patch iteration
  - messy/nml/ICON/NWP:
    - NAMELIST_cascade_R2B04_ALL031_2006072500:
      - check_uuid_gracefully = .TRUE. introduced in run_nml as restart produces
	in uuid_ofHGrid check for extpar_file a zero string (?? why ??)
      - comment out dt_checkpoint => overwritten by TIMER.
    - icon_master.namelist:
      - fill master_time_control_nml with meaningful values (will be overwritten
	by TIMER (!)
    - completely empty OLD namelist time_nml
    - channel.nml: put OUT_CHANNEL(16) = 'tracer_gp_*', IGNORE = T as long as
      scattering does not work to enable RESTART tests
    - timer.nml: active delta_time as this now provides the ICON time_step!
- xmessy_mmd.MECOntest xmessy_mmd.CESM1test and namelist directories
  messy/nml/MMD/RC1test2 and messy/nml/CESM1/SE/importtest contracted for
  testing of all basemodels (please keep!)
- TRACER / GRID: consistent treatment of BASEGRID ID

Changes by Patrick Joeckel:
- configure.in (configure): syntax bug-fixes
- TRACER (messy_main_tracer_bi.f90):
  - bug-fix in SUBROUTINE TRACER_INIT (#ifndef MESSYGRID)

Changes by Franziska Frank:
- H2OISO:
  - tendencies added in correct order to avoid double accounting
  - bug fix in numerical correction tendency for MSBM
  - new functions (SMCL)

******************************************************************************

messy_d2.53.0.13 (23 Oct 2017)

Changes by Patrick Joeckel:
- MECCA_TAG (imtag.pas):
  - imtag.pas bug-fix: addinline4tagrates moved AFTER kieproc, since
    otherwise KIE variables are used before they are calculated,
    for example:
    - if_D_G4118_HCHO was
      - first declared: REAL(dp) :: k_G4118, ib_D_G4118, if_D_G4118_HCHO
      - then used: tag_kG4118a =(  if_D_G4118_HCHO) *k_G4118;
      - and only then calculated:
	if_D_G4118_HCHO = ib_D_G4118 / (1.+ ib_D_G4118)
    The reason is that #INLINE F90_RCONST blocks from mecca.eqn are
    processed in the order of occurrence.
    This bug causes a severe restart dependency in 3D simulations:
    - in the first box of each vector (jp=jk=jrow=1), (jb=1) the variable
      is undefined ... also after each restart ...
- TRACER: new_tracer returns (if PRESENT) correct tracer ID if tracer is
  already defined
- ECHAM5 (5.3.02_c):
  - Makefile.in: new preprocessor directive E5302_C
  - physc.f90:
    USE of ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi removed
- DATA (ECHAM5, 5.3.02_c):
  - ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi removed
    (available only #ifndef(E5302_C))
  - wind10_2d removed
- CONVECT (SMIL):
  - check for ASSOCIATED status of l_heatflux, s_heatflux
- CLOUD (SMIL):
  - check for ASSOCIATED status of tke
- ONEMIS (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- ONLEM (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- AIRSEA (SMIL): USEd wind10_2d replaced by local pointer / get_channel_object
- CAM, CAM_SFFLUX (SMIL): USEd wind10_2d replaced by local pointer /
  get_channel_object

Changes by Hella Garny and Patrick Joeckel:
- DATA (ECHAM5, main_data_init_coupling):
  - allow setups with neither E5VDIFF nor VERTEX (for EMIL-mode):
    object references for l_heatflux, s_heatflux, tke and wind10_2d
    avoided, if none of both submodels is running

Changes by Sabine Brinkop:
- new Lagrangian submodels: LGH2O, LGCLOUD, LGVDIFF
- LGMC: update, equipped with MESSYTENDENCY
- CLOUD: new channel object 'sdtdt_cloud' for L_LGMC
- CONVECT (for l_LGMC):
  - correction of some units
  - new channel objects ptu_gp and ptd_gp
  - sign corrections (jk <-> jk+1) in differences
- H2O: new option I_FEEDBACK = 0 no feedback and no sync between LG and GP

Changes by Vanessa Rieger:
- TAGGING: update, incl. HOx tagging

Changes by Andreas Baumgaertner:
- TRACER: bug fix for initialisation of qm1 via TRACER
  - messy_main_tracer_bi.f90 and messy_main_tracer_mem_bi.f90:
    flag to tell CESM1 basemodel that qm1 is already initialised
- CESM:
  - se/dp_coupling.F90: flag check for qm1 initialisation via TRACER
  - restart_dynamics.F90: relative vorticity into restart file

Changes by Markus Kunze:
- FUBRAD (1.9): added new spectral resolution with 81 bands:
  - messy_rad_fubrad.f90: added cases 'STR-HR22' and 'STR-HR44'
  - Added test bed for spectral degradation of refinement:
    - messy_rad_fubrad_init.f90: splitted initialisation of fluxes and
       cross sections. added subroutines: fubrad_initialize_cross_sec,
       fubrad_initialize_cross_sec_dyn, fubrad_initialize_fluxes_dyn,
       fubrad_ini_param_dyn
  - messy_rad_fubrad_ini_param_dyn.inc            (new)
  - messy_rad_fubrad_initialize_cross_sec_dyn.inc (new)
  - messy_rad_fubrad_mem.f90: nherz, nhart, nhug (no longer PARAMETER)
  - new namelist character switch: resolution = 'DEFAULT' or 'DYNAMIC'
  - messy_rad_fubrad_sr_str.f90: removed unneccessary arrays
  - messy_rad_fubrad_si.f90: new namelist switch resolution
    initialisation of fluxes and cross sections depends on resolution

Changes by Bastian Kern:
- ICON (nwp-2.1.01): update of Makefile-MESSy.in

Changes by Phoebe Graf:
- TNUDGE: error instead of warning, if tracer to nudge is not found

******************************************************************************

messy_d2.53.0.12 (27 Sep 2017)

Changes by Patrick Joeckel:
- COSMO: src/src_tracer.f90: set_tracer with refspec='H2O' for hydrolocical
  COSMO tracers (mainly for molarmass > 0.0)
- DATA: some channel objects with lstatic=.TRUE.
- CHANNEL: new characteristic (lstatic) for time independent channel objects,
  to be set optionally with new_channel_object(...,lstatic=.TRUE.);
  this only affects the output and is used to save output by suppressing
  time series of static data ...;
  modified files:
    - messy_main_channel.f90, messy_main_channel_io.f90,
      messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90
  - NOTE: not yet implemented for CDI
- TRACER (messy_main_tracer_bi.f90, subroutine TRACER_INIT for ICON):
  - set pointers to tracer memory correctly
  - use set_name_domain for patch detection
  - improved error messages in subroutine set_tracer_properties
    (messy_main_tracer.f90)
- TOOLS: bug-fixes in get_name_domain

Changes by Astrid Kerkweg:
- COSMO:
  - lmorg.f90: main entry point messy_new_tracer moved
  - CONTROL: main_tracer_new_tracer(1) moved
- ICON (2.0.17, 2.1.01):
  - src/drivers/mo_atmo_nonhydrostatic.f90:
    call diagnose_pres_temp between messy_init_coupling and messy_init_tracer
- CONTROL (ICON):
  - calls to main_tracer_init_tracer(.)
- TRACER (messy_main_tracer_bi.f90):
  - subroutine TRACER_INIT for ICON
- IMPORT_GRID:
  - info(string) to pass information from regrid-namelist to BMIL

******************************************************************************

messy_d2.53.0.11 (13 Sep 2017)

Changes by Patrick Joeckel:
- MECCA_TAG
  - imtag_tag_si.f90 (subroutine mecca_tag_calc_xtte4scav):
    explicit dimensions of xtte_scav and pxtp1
  - imtag_cfg_si.f90 (subroutine {%TAG}_calc_xtte4scav):
    bug-fix (corrected array index jtc) for else-branch

Changes by Bastian Kern:
- ICON version 2.1.01

Changes by Patrick Joeckel:
- configure.in (configure): update for newer yaxt libraries (need libyaxt_c.a)
- all ptrac*nml: henry replaced by pss
- messy/util/ptrac_convert.tcsh: henry replaced by pss
- MECCA1, SCAV, PLUMEGAS, ORACLE, O3ORIG, MADE, MADE3, MTCHEM, GMXE, E4CHEM,
  DDEP, CMAT, DRYDEP:
  - R_henry replaced by R_pss
- TRACER:
  - workaround for R_henry = R_pss removed
  - R_henry removed
- MECCA (process_gas.tbl): H2O added to make it available for MECCA_TAG
- CONTROL (COSMO)
  - call of main_data_free_memory
- DATA (COSMO):
  - nvclev set to nlevp1 and vct array allocated and filled
    (both required for MECCA_TAG)
  - new subroutine main_data_free_memory
- TRACER: additional routine set_tracer for non-dp reals
- TRACER_CHEMPROP: diagtrac tracers removed from messy_main_tracer_chemprop.tbl
- config/mh-linux-64: updates for gfortran (6.2.0) and intelmpi (2017.0.098)
  on mistral @ DKRZ
- poly_MECCA (template_messy_mecca_poly_si.f90, messy_mecca_poly_si.f90):
  added interfaces for GNU compiler issue workaround
- H2OISO, TRSYNC: added empty non-MESSYTENDENCY branches, since it did not
  compile without MESSYTENDENCY

Changes by Rolf Sander:
- TRACER: messy_main_tracer_chemprop.tbl updated

Changes by Franziska Frank:
- CONTROL (ECHAM5):
  - call of tnudge_init_coupling moved after mecca_init_coupling(2)
  - new calls to h2oiso_physc(1|2)
- HSOISO:
  - modified to take into account PSC region from MSBM (as in CLOUD)
- CLOUD: use STRAT_region instead of PSC region from MSBM
  (which is more consistent, since MSBM calculates re-partitioning everywhere!)
- MECCA (SMIL): calculation of H2O tendency (conversion from q) corrected
- MSBM: conversion between q and H2O corrected (q is in kg/kg(moist air)!)
- TRSYNC: update

******************************************************************************

messy_d2.53.0.10 (17 Aug 2017)

Changes by Patrick Joeckel:
- main_grid_netcdf.f90: bug-fix (see below) disabled, because
  access to a1%dim and a2%dim happens only, if one of both is
  .NOT. ASSOCIATED ???

Changes by Astrid Kerkweg:
- GRID_BI: determination of minmaxlonlat changed
- main_grid_netcdf.f90: bugfix undefined dims
- main_grid_trafo.f90:
  - some commented blocks deleted
  - reduce_input_grid modified to deal with [0:360] / [-180:180}
    grid definitions
- main_grid_trafo_scrp.f90: diagnostic logfile output added
- main_import_grid.f90: new subroutine CONTRUCT_IGRISMASK called from
   RGTOOL_READ_NCFILE/VAR  to mask input fields to accelerate overlap search
   in SCRIP

Changes by Andreas Baumgaertner:
- CESM1:
  - New Makefiles for different "compsets", including setup with E5VDIFF
  - Updates to atm_comp_mct for E5VDIFF
- CHANNEL: For CESM1, write_dimension and write_representation are turned off
- TNUDGE: smil bugfix for l2tls=T
- OROGW: Fix for CESM1
- CONTROL for CESM1: Moved call to vertdiff_vdiff
- DATA: For CESM1, added L90 vertical resolution
- messy/util/yam.tcsh: updates

Changes by Patrick Joeckel:
- MECCA:
  - process_gas.tbl
    - modifications to complete tracer information
    - xmecca: added ONE as refspec for diagtrac-tracers
- TRACER_CHEMPROP (messy_main_tracer_chemprop.tbl)
  - species added
  - dummy species ONE with molarmass = 1.0 added
- TRACER_PDEF (main_tracer_pdef_init_mem):
  stop with error message, if tracer has non-positive molar mass
- TRACER (set_tracer_properties):
  - subroutines new_tracer(_old): set container contents of R_HENRY to that
    of R_PSS
  - special case for setting chemical properties via "refspec"
    pseudo-container (tracer.nml, ptrac.nml), e.g.
    TPROP(.) = 'gp;', 'LossO3', 'refspec', 'O3',
- IMPORT_GRID
  - temporary workaround since forced restart does not work for non-patch
    basemodels, presumably due to event / counter naming mismatches;
    all modifications since d2.53.0.6 have been encapsulated into
    #if(n)def ICON preprocessor directives:
    - messy_main_import_grid_tools_bi.f90
    - messy_main_import_grid.f90, subroutine RGTOOL_NCRGCNT_RST with
      optional parameter cname
    - messy_main_import_grid_bi.f90: call of corresponding subroutines
- TRACER (ICON):
  - map_tracer_meta_i2m: set chemical properties of selected
    'q' variables from ICON to those of H2O
- ICON:
  - new entry points in src/atm_dyn_iconam/mo_nonhydro_state.f90:
    - CALL messy_init_memory(11,p_patch%id,timelev)
    - CALL messy_init_memory(12,p_patch%id,timelev)
  - new entry points in src/drivers/mo_atmo_nonhydrostatic.f90:
    - CALL messy_init_memory(1)
    - CALL messy_init_memory(3)
- CHANNEL:
  - new subroutine  main_channel_set_patch (only for ICON)
- CONTROL (ICON):
  - main calls for TRACER (see note on tracers); cleaned code
- DATA (ICON):
  - new subroutine set_timelev
  - some variables added
- SWITCH:
  - PTRAC enabled for ICON
- TRACER: modifications for ICON; modified files:
  - messy_main_tracer_bi.f90:
    - new subroutines map_tracer_meta_i2m, map_tracer_meta_m2i,
      map_tracer_memory_icon, main_tracer_set_patch
    - modifications for ICON in main_tracer_new_tracer,
      main_tracer_init_memory,
    - setup_tracer_set_gp for ICON
  - messy_main_tracer_mem_bi.f90: variables for tracer sets
  - messy_main_tracer.f90:
    set_tracer_properties with optional parameter patch_id and
    internal logic (implicit wildcards) for downward compatibility
    with non-patch-basemodels
- TRACER_FAMILY:
  - loop over all tracer sets for ICON
- TRACER_PDEF:
  - error message; TRACER_PDEF not yet implemented for ICON
- PTRAC:
  - modified for ICON

******************************************************************************

messy_d2.53.0.9 (08 Aug 2017)

Changes by Stefanie Falk:
- configure/mh-linux-64: new entry for ic*|hc* (@KIT)
- ONEMIS: new bromine emission scheme from snow and sea ice ('AirSnow');
  new namelist CTRL_AirSnow (see messy/nml/EXAMPLES/onemis.jnl)

Changes by Christiane Hofmann:
- PTRACINI: bugfix

Changes by Astrid Kerkweg:
- IMPORT_GRID: Bugfix for restart dependence in models with height coordinate:
  write import_grid restart file, do not automatically regrid at restart
- GRID_TRAFO (messy_main_grid_trafo.f90, switch_geohybgrid): bug-fix,
  initialisiation of pressi and pressm (if .NOT. lz)

******************************************************************************

messy_d2.53.0.8 (19 Jul 2017)

Changes by Mariano Mertens and Patrick Joeckel:
- VAXTRA: correct definition of representation (rank-flipping)

Changes by Astrid Kerkweg:
- GRID (messy_main_grid_bi.f90, messy_main_grid_trafo_scrp.f90):
  bug-fix of rounding errors
- TRACER (messy_main_tracer_bi.f90): bug-fix for tracer initialisation in
  CESM1

Changes by Patrick Joeckel:
- config/mh-linux-64: modifications for pa2 @ DLR to allow for different
  versions of OpenMPI

******************************************************************************

messy_d2.53.0.7 (12 Jul 2017)

Changes by Astrid Kerkweg:
- COSMO: bug-fix for calculation of autoconversion in graupel scheme
  (src_gscp.f90, subroutine hydci_pp_gr)
- INT2COSMO: bug-fixes for bypassing generalized humidity (lgrh=.FALSE.);
  modified files: src_lm_fields.f90, src_vert_interpol.f90)
- MMD (library): bug-fixes to yield binary identical results for
  ldev = .TRUE. / .FALSE.; modified files: mmd_child.f90, mmd_parent.f90
- IMPORT_TS: implemented in ICON
- MMD2WAY: SNREGRID implemented
  - switch off SATAD above "htop_moist_proc" (index kstart_moist)
    changed files: data_runcontrol.f90, data_modelconfig.f90,
    organize_physics.f90, src_gscp.f90, src_input.f90, src_leapfrog.f90
    src_lheat_nudge.f90, src_nudging.f90, src_relaxation.f90
    src_runge_kutta.f90
  - src_radiation.f90: clipp humidity for high atmosphere

Changes by Patrick Joeckel:
- IMPORT_GRID (MBM): dependencies in src/Makefile updated
- IMPORT_GRID (messy_main_grid_bi.f90):
  - bug-fix with pre-processor directives to enable compilatiopn of
    MBM mpiom
- DATA (MBM_MPIOM): BASEGRID_ID defined as array with rank 1

Changes by Astrid Kerkweg:
- COSMO:
  - src_relaxation.f90: Bugfix for PTRACINI to allow relax switch to be
    switched off after a number of time steps
- BMLUSE: use vct from mo_vertical_coord_table for ICON
- CHANNEL_BI (ICON specific):
  - representation UCELL_3D_1LEV added
  - gp_nseg added
  - bugfix in bi_decompose for nlevs==1: allow for UCELL_3D_1LEV
- CHANNEL (messy_main_channel_icon.inc):
  - representation UCELL_3D_1LEV added
  - replace axis string 'N---' by 'XY--' (local decomp is the important one)
- CONTROL:
  - call to main_grid_free_memory added for all basemodels
  - COSMO: call main_data_init_tracer for pressure calculation before tracer
	   initalisation
  - ICON: calls to GRID and IMPORT added
- DATA:
  - make BASEGRID_ID an array (to allow for patches) in all basemodels
  - COSMO:
    - static pressure fields for testing purposes added (pressm/i_stat)
    - new subroutine main_data_init_tracer to calculate pressure prior to
      tracer initialisation
- GRID (BMIL):
  - grid definition for ICON added
  - bgrid_ptr removed (never used anyway)
  - include patches, e.g. BASEGRID_ID becomes array
  - bugfix: broadcast unstructured lon / lat
  - remove local ranges as ranges now part of the t_geohybgrid
  - COSMO: implement pressure regridding for height coordinates, i.e.,
	   vcoord%ivctype > 1
- TIMER: event handling expanded to patches
- TRACER_BI: tracer initialisation vertical interpolation via SNREGRID in case
	     of horizontal SCRIP interpolation (CESM1, COSMO, ICON)
- IMPORT (BMIL): #ifndef ICON removed
- IMPORT_GRID_(TOOLS_)BI:
   - patches enabled (IMPORT_GRID_INITIALIZE nearly new ..):
     - counter expanded that internal names add patch number
     - t_import_patch added to provide facility npatches times
     - individual namelists for each patch possible: patch_id in namelist added
   - ICON specifics channel_object definition added
- GRID (SMCL):
  - RGMAX added (similar to RGEMPTY, used for pressure regridding)
  - t_geohybgrid expanded by pressm and pressi
  - bugfix: consistent handlung of imask and clonc, rlonc, lonc
  - older comments partly removed for better readability
  - function GEOHYBGRID_UPDATE_PRESS added (messy_main_grid)
  - convert-tools expanded for 3d pressure fields (grid_tools)
  - subroutines made public: RNGADJ_NARRAY, IMMI_NARRAY, IMMI_NCVAR (grid_trafo)
  - new subroutines: H2PSIG_3D, RNGADJ_ARRAY (grid_trafo)
  - expand_input_grid: use 6 instead of 4 longitudes (required for some grid
    when regridded to ICON grid)
  - subroutine SNREGRID added to grid_trafo_nrgd_base
  - comment function  UNSTRUC4NRGD (no longer needed) (grid_trafo_nrgd)
  - GRID_TRAFO_SCRP
    - new subroutines  CONSTRUCT_VERT_AXIS and INTERPOL_3D_PRESSURE
    - use pi_icon for ICON grid
    - flag data according to imask in subroutine GEOHYB2SCRIPGRID
    - correct use of ranges (<= instead of <) in  subroutine GEOHYB2SCRIPGRID
- IMPORT_GRID (SMCL)
  - counter expanded that internal names add patch number
  - pressi / pressm added to namelist handling
  - use SNREGRID for vertical implementation in case of SCRIP horizontal
    interpolation
- TOOLS: subroutine lower_case added

******************************************************************************

messy_d2.53.0.6 (20 Jun 2017)

Changes by Franzika Frank:
- CAABA: namelist extension to control output
	 (output_step_freq, output_sync_freq);
  modified files: caaba.f90, caaba_io_netcdf.inc, caaba_mem.f90

Changes by Patrick Joeckel:
- zip.sh: zip icon*/data contents only, if available
- TRACER_CHEMPROP (messy_main_tracer_chemprop.tbl):
  - double entries (CHF3, CHF2CF3, CH2F2) removed
  - new entry for CH2Cl2
  - default molar mass: 0.0
- TRACER: additional optional parameter "refspec" in subroutine new_tracer
  to pre-set chemical properties also in cases where basename does not match
- CAABA (messy_traject_box.f90): comma after write statement removed
- JVAL, JVST (SMIL): C3O2 inserted (no. 103)

Changes by Sergey Gromov:
- MECCA_TAG: update to work with chemprop and TRACER containers
- Makefile.in: new make target rar for archiving (with rar) the source code
  (inluding new messy/util/rar.sh)
- config/mh-linux-64: updates for tonerre

CHANGES by Rolf Sander:
- xgraphvizall: consider deltmp from xmecca
- process_gas.tbl: O3 is refspec for O3s
- xmecca: rxnrates considers refspec
- messy_main_tracer_chemprop.tbl (based on gas.tex): bug fix for molar
  mass of CF2ClCFCl2; should be F3 not F2
- config/mh-linux-64: bug fixes for fluorine
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- messy/mbm/tracer/Makefile: g95 added
- KPP update from 2.2.1_rs7 to 2.2.3_rs2; for details, see KPP CHANGELOG
- new user manual:
  documentation/howto-newsubmodel/howto-newsubmodel-messy2.tex
  (MAYBE STILL NOT UP TO DATE?)
- messy/util/zip.sh: exclude *.pyc
- chemprop:
  - mbm/tracer/chemprop/* updated
  - messy_main_tracer_chemprop.awk updated
  - process_gas.tbl instead of gas.tex
  - process_aqueous.tbl instead of aqueous.tex
  - tracdef_tbl.awk instead of tracdef.awk
  - new FUNCTION get_chemprop_index in messy_main_tracer.f90

Changes by Stefan Versick:
- UBCNOX: update with bug-fix for elevated stratopause events (ese);
  Note: incompatibility with older restart files

******************************************************************************

messy_d2.53.0.5 (23 May 2017)

Changes by Markus Kunze:
- FUBRAD
  - messy_rad_fubrad.f90:
    Bugfix in subroutine middle_atmosphere_heat_rates:
    Scaling factor without pmu0 (1./cos(sza)) in the calculation of heating
    rates in the Schumann-Runge range (when lsrflx=.FALSE.).  Identified after
    comparision with line-by-line calculations, created by Thomas Reddmann
    (KIT).
  - messy_rad_fubrad_mem.f90: (submodver = '1.7' -> submodver = '1.8')

Changes by Mariano Mertens:
- xmessy_mmd: update for module environment on SuperMUC @ LRZ

Changes by Patrick Joeckel:
- xmessy_mmd: COSMO namelist files made selectable

******************************************************************************

messy_d2.53.0.4 (09 May 2017)

Changes by Phoebe Graf and Patrick Joeckel:
- MECCA
  - gas.tex:
    - double entries (CHF3, CHF2CF3, CH2F2) removed
    - CH2Cl2 added

Changes by Patrick Joeckel:
- TRACER: max. string length of longname set to STRLEN_ULONG
- TIMER (messy_main_timer.f90): bug-fix in subroutine add_date_real
- BLANK:
  - submodel ORBIT included
    (messy_main_control_blank.f90, messy_main_switch_bi.f90)
  - messy_main_channel_blank.inc: new representation GP_2D_HORIZONTAL
- DATA (BLANK):
  - new channel objects sin/cos.lat/lon_2d

Changes by Bastian Kern:
- CHANNEL (messy_main_channel_repr.f90): bug-fix (use global_patch)
  in subroutines new_representation, loc_representation_by_name
- SCALC: update with new operators MULT, PSUM and PSUMDIA

Changes by Patrick Joeckel:
- DATA: lrestreq=.FALSE. for parallel decomposition information
- JVAL/JVST: bug-fix (see d2.52l) reintroduced, which somehow got lost:
  additional SMCL parameter l_export_to_smil to fix an issue with
  pointers (to aerosol properties) that are only associated, if JVAL is
  run 3D ...
- VISO: new feature to select maps on specific levels via
  channel = '#level','23' (special cases: -1: nlev; -2: nlev+1)

Changes by Phoebe Graf and Patrick Joeckel:
- TOOLS (subroutine iso2ind, 2x): set index level to 1, if not found with
  reverse search

Changes by Patrick Joeckel:
- SCAV (messy_scav_si.f90): set_channel_object_restreq for J_HNO3 instead
  of J_NO2O (caused a dependency of results from the restart frequency)
- MECCA (SMIL): _dp appended to some constants
- GRID (messy_main_grid_netcdf.f90): two POINTERs correctly nullified

Changes by Astrid Kerkweg:
- MMD2WAY (messy_mmd2way_parent_si.f90):
  - bug-fix in wait time measurement in case of one-way nesting

******************************************************************************

messy_d2.53.0.3 (02 Mar 2017)

Changes by Andreas Baumgaertner:
- CESM1:
  - fixes so that qtimer works with restart frequency "monthly" and
    end of queue time
  - restart files named consistently
  - new basemodel subdirectory cesm1_2_1_c (clean) with obsolete code removed

Changes by Patrick Joeckel:
- CONVECT (messy_main_convect_si.f90): distinguish USEd lookupoverflow from
  local zlookupoverflow
- METEODIAG: scaling factor converted to REAL(dp)
  - modified file: messy_ncregrid_control.f90

Changes by Franziska Frank:
- H2OISO:
  - tendencies from msbm are added to q, xl and xi
  - bug-fix concerning the numerical tendencies, which were not correctly
    zeroed between HHO and the isotopical numerics.
- MECCA_TAG (imtag_cfg_si.f90):
  - check for negative values at "t+1"

Changes by Mattia Righi:
- NCREGIRD: scaling factor converted to REAL(dp)
  - modified files: messy_ncregrid_base.f90, messy_ncregrid_control.f90
- GRID, IMPORT_GRID: scaling factor converted to REAL(dp)
  - modified files: messy_main_grid_netcdf.f90, messy_main_import_grid.f90,
    messy_main_import_grid_par.f90

Changes by Astrid Kerkweg:
- MMD2WAY (messy_mmd2way_parent_si.f90):
  - bug-fix for CPL_EVENT in case of one-way nesting
  - bug-fix in wait time measurement in case of one-way nesting

Changes by Patrick Joeckel:
- MMD: several pointers NULLified in f90 files of mmd library

Changes by Phoebe Graf and Patrick Joeckel:
- SCALC (messy_scalc_si.f90):
  - do not stop, if object has no units attribute; output warning instead

Changes by Huug Ouwersloot:
- TROPOP: bug-fix for calculation of tp_clim_f (fraction of box below
  climatological tropopause)

******************************************************************************

messy_d2.53.0.2 (02 Mar 2017)

Changes by Patrick Joeckel:
- TRACER: internal option to use rank 4 (TRRANK=4) for tracer index in
  internal tracer memory (default: TRRANK=3); this can now be selected
  by the basemodel in main_tracer_setup;
  IMPORTANT NOTE: Since the tracer memory is coded in the SMCL of TRACER
  and therefore shared between different BMs, it is not possible to select
  the memory layout at compile time (e.g. via pre-processor directives)!
  It must be selected at run time, i.e., CASE constructs for TRRANK are
  required throughout the SMCL code of TRACER.
  In the SMIL and BMIL files, however, the new preprocessor macros can be
  used to set the array selectors correctly.
  --> This requires an adaption of all SMs (SMIL-files), the old
      rank identifiers need to be replaced by the selector macros.
  - modified files:
    - BMIL: messy_main_tracer_bi.f90, messy_main_tracer_family_bi.f90
    - SMCL: messy_main_tracer.f90, messy_main_tracer_family.f90,
	    messy_main_tracer_pdef.f90, messy_main_channel_tracer.f90
- messy_main_ppd_bi.inc:
  - new macros to place indices into correct ranks
  - some rank identifiers (which are only used in TRACER_FAMILY) removed
- MBMs, CHANNEL: link to messy_main_channel_cdi.f90 set for several
  MBMs

******************************************************************************

messy_d2.53.0.1 (24 Feb 2017)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: -ICON option
- COMSO (Makefile.in): non-existing path messy/cosmo/bmil removed
- Makefile.in (COSMO, ECHAM5, CESM1, ICON): -include <various paths>/specific.mk

Changes by Bastian Kern and Patrick Joeckel:
- README_ICON
  - some hints, HOWTOs and TODOs
- mh-linux-64:
  - CDI_LIB and CDI_INCLUDE added
  - netcdf/4.4.1 on pa2 @ DLR
- Makefile.in:
  - CDI added
  - ICON as new BASEMODEL
- messy/smcl/Makefile.m: CDI_INCLUDE added
- configure(.in):
  - new option --enable-ICON (default: no)
  - new option --enable-CDI for (external) CDI library
- xmessy_mmd: extensions for ICON as basemodel
- messy/util/zip.sh:
  - exclude *.pl only from messy/util
  - include $DIR/icon*/data/*
- new BASEMODEL ICON
  - subdirectories icon-export_29588 (HD(CP)^2 LES) and icon2.0.17 (default
     DWD)
- BMLUSE (messy_main_bmluse_bi.f90): ICON related USEs
- CONTROL (ICON):
  - new file: messy/bmil/messy_main_control_icon.inc
- CHANNEL:
  - dimensions and representations added for ICON
  - patch-id introduced
  - new CDI output (messy_main_channel_cdi.f90)
  - modified files: messy_main_channel_bi.f90, messy_main_channel.f90,
    messy_main_channel_dimensions.f90, messy_main_channel_error.f90,
    messy_main_channel_io.f90, messy_main_channel_repr.f90,
- CONSTANTS (messy_main_constants_mem.f90):
  - global_patch added
- DATA (ICON): new
- GRID and IMPORT_GRID: excluded for ICON (#ifndef ICON ... #endif)
  - messy_main_grid_bi.f90, messy_main_import_bi.f90,
    messy_main_import_grid_bi.f90, messy_main_import_grid_tools_bi.f90,
- NCREGIRD: excluded for ICON (#ifndef ICON ... #endif)
  - messy_ncregid_tools_bi.f90
- MPI:
  - messy_main_mpi_bi.f90: additions for ICON
  - messy/bmil/mo_mpi.f90: alternative include file for ICON
- HD (messy_hd_e5.f90): hd_interval as REAL(dp)
- PPD (messy_main_ppd_bi.inc): ICON added
- TRANSFORM (messy_main_transform_bi.f90):
  - gather_trix and gather_trix_1d for ICON added
- TRACER (messy_main_tracer_bi.f90):
  - preprocessor directives for ICON added
  - messy_main_tracer_mem_bi.f90: PUBLIC for ICON added
- TIMER:
  - conversion to internal usage of milliseconds
  - modified files: messy_main_timer_bi.f90, messy_main_timer.f90,
    messy_main_timer_event.f90, messy_main_timer_manager.f90,
- TOOLS (messy_main_tools.f90):
  - new subroutine get_name_domain
- MMD (messy_mmd2way_child_si.f90):
  - call messy_timer_init_manager with dt as real(dp) instead of INT(.)
- SWITCH:
  - switches for GRAGG and VISOP added
  - messy_main_switch_bi.f90: QTIMER, IMPORT and RND excluded for ICON

Changes by Patrick Joeckel:
- TOOLS:
  - bug fix in interpol_mid2stag (thanks to Rolf Sander):
    correctly initialised value

Changes by Franzska Frank:
- MSBM (messy_msbm_si.f90): bug-fix (dimension length nproma instead of
  kproma) for variables zxtte and zxtp1 (only relevant for MECCA_TAG)

Changes by Mattia Righi:
- CLOUD (messy_cloud_kuebbeler14.f90): bug-fix (*dp was wrong, probably a
  typo)

Changes by Franzska Frank and Patrick Joeckel:
- MECCA_TAG (template imtag_cfg_si.f90): IMPLICIT NONE and SAVE added

******************************************************************************

messy_d2.53.0 (21 Feb 2017)

<<<TEST>>>:
- run SC1SD-H2O-02 on mistral @ DKRZ with and without MESSYTENDENCY
  (intel/16.0.3 mxm/3.4.3082 fca/2.5.2431 bullxmpi_mlx/bullxmpi_mlx-1.2.9.2)
- compilation (gmake, gmake tools, gmake mbm) on pa2 @ DLR with
  - openmpi/1.10.3/gfortran/4.9.4
  - openmpi/1.10.3/g95-dint32/0.93
  - openmpi/1.10.3/intel/16.0-2
  and running E5 setup successful

Changes by Patrick Joeckel:
- MBM SPE: does not compile anymore after SPE update (see below);
  CALL to subroutine spe_prod commented (thus, the MBM SPE compiles
  again, but us now essentially doing nothing)

Changes by Patrick Joeckel (thanks to Franziska Frank):
- MBM CHANNEL: compile with MPI compiler (otherwise compilaiopn fails, if
  pnetcdf is available)

Changes by Sabine Barthlott:
- SPE: update

<<<TEST with 2.52n9>>>:
- run SC1SD-H2O-02 on mistral @ DKRZ with and without MESSYTENDENCY
- compilation on pa2 @ DLR with
  - openmpi/1.10.3/gfortran/4.9.4
  - openmpi/1.10.3/g95-dint32/0.93
  - openmpi/1.10.3/intel/16.0-2
  and running E5 setup successful

<<<SNAPSHOT d2.52n9>>>

Changes by Sabine Brinkop:
- ATTILA: updated vertical interpolation for velocities

Changes by Vanessa Rieger:
- TAGGING: update with fix for consistent HOx tagging

Changes by Patrick Joeckel:
- VISO: bug-fix (MAPs on ISOsurfaces without fraction missed the
  update of the channel object to be mapped ...)
- MSBM: equipped with MESSYTENDENCY and connected to MECCA_TAG

Changes by Franziska Frank:
- MECCA (messy_mecca_si.f90): pre-set l_tag = .TRUE. #ifdef MECCA_TAG

Changes by Andreas Baumgaertner:
- TRACER (messy_main_tracer_bi.f90): preprocessor directives for CESM1 updated
- IMPORT_GRID (messy_main_import_grid_bi.f90,
  messy_main_import_grid_tools_bi.f90):
  preprocessor directives for CESM1 updated
- SURFACE (messy_surface_si.f90): bug-fix for CESM1 with SE dynamical core

<<<SNAPSHOT d2.52n8>>>

Changes by Patrick Joeckel:
- CONSTANTS (messy_main_constants_mem.f90) thanks to Sara Bacer:
  - h_Planck = 6.62606957E-34_dp corrected (- of exponent was missing!!!)
- CHANNEL (messy_main_channel_bi.f90): adaption of bi_decompose for
  DC_GP (VERTICO and MBM_RAD)
- MPI (messy_main_mpi_bi.f90): simple copy of lc into gl in subroutines
  gather_gp[432,32,2] (for non-COSMO and CESM1 basemodels)
- RAD: id_o2 for CESM1
- NCREGRID: basemodel dependent preprocessor directive #ifdef HOMMESE
  removed from SMCL (this caused segmentation faults in EMAC, if condfigured
  with --enable-CESM1, because the SCML is only compiled once for all BMs!)
  - messy_ncregrid_tools.f90:
    - #ifndef HOMMESE replaced by IF (LMODE2DH)
    - new global variable LMODE2DH (true for real 2d-horizontal mode)
  - messy_ncregrid_tools_bi.f90:
    - new main entry point messy_ncregrid_initialize for setting
      LMODE2DH depending on BM (CESM1/HOMMESE: .FALSE., default: .TRUE.)
- CONTROL (CESM1, ECHAM5): call messy_ncregrid_initialize

<<<SNAPSHOT d2.52n7>>>

Changes by Andreas Baumgaertner:
- GRID_TRAFO (messy_main_grid_trafo.f90): pointer nullified

Changes by Patrick Joeckel:
- CESM1: messy/cesm1/bmil removed from SRCDIRS in Makfile.in
- NCREGRID:
  - REAL -> REAL(dp), messy/smcl/specific.mk
  - messy_ncregrid_interface.f90 and
    messy_ncregrid_interface_[cesm1,echam5].inc unified in BMIL
  - messy_ncregrid_tools_[c1,e5].f90 merged into messy_ncregrid_tools_bi.f90;
    modified accordingly:
    - CONTROL (ECHAM5, CESM1, BLANK)
    - IMPORT_RGT (messy_main_import_rgt_bi.f90)
    - SMIL(CESM1): H2O (messy/cesm1/smil/messy_h2o_c1.f90)
    - messy/smil/specifik.mk
    - SMIL(E5): CAM, D14CO, DRYDEP, H2O, HETCHEM, OFFLEM, ONLEM, PHOTO, PSC,
      RAD4ALL
    - SMIL: CLOUDJ, DRADON, JVAL, JVST, SURFACE
    - messy/echam5/smil/specific.mk
- MBMs BLANK, CHANNEL and RAD: compile with NON-MPI compiler
- TOOLS/METEODIAG: REAL -> REAL(dp)
- MBM RAD:
  - adapted to changes since 2.52 and cleaned up
  - &CTRL namelist from rad_mbm.nml moved as &CPL_MBM to rad.nml
    (avoid special rule in xmessy_mmd)
- RAD (messy_rad_si.f90): pre-set
    r_inp(19,:)%cha = '#const'
    r_inp(19,:)%obj = 'O2=0.20955775081737177' ! O2  [mol/mol]
    for backward compatibility

Changes by Markus Kunze:
- mh-linux-64: updates (GFORTRAN) for strat @ FUB
- xmessy_mmd (f_setup_mbm): set link for MBM RAD
- CHANNEL (messy_main_channel_bi.f90): include messy_main_channel_rad.inc
  for MBM RAD
- AROPT (messy_aeropt_si.f90): modification for MBM rad
- CLOUDOPT: also for MBM rad
- RAD:
  - messy/mbm/rad: new stand-allone MBM for offline calculations
  - messy_rad_si.f90:
    - added new input object for variable oxygen (id_o2=19).
    - SUBROUTINE rad_radiation: new field zo2 for oxygen passed to FUBRAD
    - requires new input in rad.nml. e.g.:
      r_inp(19,1) = '#const', 'O2=0.20955775081737177', ! O2  [mol/mol]
  - messy_rad_long.f90):
    #if defined(MBM_RAD):
    changed the size of arrays CORR1 and CORR2 from 200 to 2048;
    required for offline radiation calculation with MBM rad
  - messy_rad_short_v1.f90, messy_rad_short_v2.f90:
    temperature need to be passed to middle_atmosphere_downward_flux (FUBRAD);
    needed to calculate temperature dependent absorption cross sections
- FUBRAD:
  - essy_rad_fubrad_e5.f90:
    - added new output objects: heatsrc, heatsrb, heatherz, heathart,
      heathug, heatchap, flhz, flsrc, flsrb, flhuup, flhudo, flchup, flchdo,
      po2c.
    - implemented alternative parameterisations for Schumann-Runge bands;
      Kockarts (1994), Koppers and Murtagh (1996)
    - messy_rad_fubrad.f90:
      - split source into several files:
	- messy_rad_fubrad.f90        - main FUBRAD smcl file
	- messy_rad_fubrad_mem.f90    - declaration
	- messy_rad_fubrad_init.f90   - initialization
	- messy_rad_fubrad_sr_str.f90  (Strobel, 1978, Schumann-Runge)
	- messy_rad_fubrad_srb_kck.f90 (Kockarts, 1994, Schumann-Runge bands)
	- messy_rad_fubrad_srb_km.f90  (Koppers and Murtagh, 1996,
					Schumann-Runge bands)
    - main changes:
      - variable oxygen is applied; former oxygen constants (oxndc, oxcnst)
	are no longer used, substituted by functions OXNDC_fct(), OXCNST_fct().
      - SUBROUTINE ox_pathlength calculates the column path length for oxygen
	and ozone
- MLOCEAN (messy_mlocean_e5.f90):
  - removed: USE messy_main_data_bi,           ONLY: sni,
    set pointer to messy channel object instead

<<<SNAPSHOT d2.52n6>>>

Changes by Patrick Joeckel:
- IMPORT_GRID: avoid unnecessary huge memory allocation during scan of
  imported data for representation construction
  - messy_main_import_grid_bi.f90, subroutine IMPORT_GRID_INIT_MEMORY:
    - modified call of RGTOOL_BI_READ_NCFILE and RGTOOL_BI_READ_NCVAR
      with additional optional parameters ldatreq, npar, nlev, nlon, nlat
  - messy_main_import_grid_tools_bi.f90, subroutines
    RGTOOL_BI_READ_NCVAR_5D and RGTOOL_BI_READ_NCFILE_5D:
    - additional optional parameters ldatreq, npar, nlev, nlon, nlat

<<<SNAPSHOT d2.52n5>>>

Changes by Patrick Joeckel:
- JVAL, JVST, CLOUDJ (SMIL): new photolysis rates added

<<<SNAPSHOT d2.52n4>>>

Changes by Duy Cai and Rolf Sander:
- JVAL/JVPP, messy_cmn_photol_mem.f90: new photolysis rate calculations for
  CF2ClCFCl2, CH3CFCl2, CF3CF2Cl, CF2ClCF2Cl, CHCl3, CH2Cl2, CHF2Cl

<<<SNAPSHOT d2.52n3>>>

Changes by Andreas Baumgaertner:
- TRACER (messy_main_tracer_bi.f90):
  - adaption of tracer_init for unstructured CESM1 grid
- GRID (messy_main_grid_trafo_scrp.f90): bug-fixes (correctly nullified
       pointer); sovartmp correctly released
- IMPORT_GRID (messy_main_import_grid.f90):
  - bug-fix: memory of sovartmp correctly released

Changes by Franziska Frank:
- DDEP: bug-fix (lhs index corrected) in initialisation of X_predepvel

Changes by Patrick Joeckel:
- CLOUD (messy_cloud_si.f90): preprocessor directive _XNOZEROINITEND
  in case of MESSYMMD deactivated (this was used to take into account
  the tendency for the cloud cover calculation; however, it yields diverging
  EMAC (E5) results, depending on whether the models are configured with
  or without COSMO/MESSYMMD/I2CINC)
- GRID (messy_main_grid_trafo_scrp.f90): bug-fix in soubroutine
  construct_input_surf_pressure (POINTER correctly NULLIF(Y)ied)
- NCREGRID: version modified from modified 1.4b to 1.5b

Changes by Franziska Frank:
- MECCA (messy_mecca_si.f90): bug-fixes:
  - moved setting of l_sync_H2O_[gp,lg] to mecca_init_tracer
  - calculation of tendency (if l_sync_H2O_gp) corrected

Changes by Patrick Joeckel:
- NCREGRID: bug-fix (if %col is not present) in messy_ncregrid_geohyb.f90
<<<TEST>>>:
- compilation on pa2 @ DLR with
  - (openmpi/1.10.3/lf95/8.10b)
  - openmpi/1.10.3/gfortran/4.9.4
  - openmpi/1.10.3/g95-dint32/0.93
  - openmpi/1.10.3/intel/16.0-2
  and running E5 setup successful
- CLOUDJ: syntax bug fix according to f95-standard (lf95):
  [..] replaced by (/../) in messy_cloudj_fjx_cmn_mod.f90 and
  messy_cloudj_cld_sub_mod

Changes by Astrid Kerkweg:
- IMPORT and IMPORT_GRID: option GRTF_ZNRG removed; modified files:
  messy_main_import_grid_bi.f90, /messy_main_import_grid_tools_bi.f90,
  messy_main_grid_trafo.f90, messy_main_import_grid.f90

<<<SNAPSHOT d2.52n2>>>

Changes by Andreas Baumgaertner:
- NCREGRID:
  - basemodel related preprocessor directives (HOMMESE) removed from SMCL;
    modified files: messy_ncregrid_control.f90, messy_ncregrid_diag.f90,
    messy_ncregrid_geohyb.f90

Changes by Astrid Kerkweg:
- CHANNEL:
  - messy_main_channel_bi.f90:
    - bugfix, re-activate allocation of global pointer before gather_gp
      and scatter_gp in bi_decompose for COSMO and CESM1 models
  - messy_main_channel_io.f90:
    debug write statement added to print name of output object for
    I_VERBOSE_LEVEL >=50
- TRACER, PTRAC: reduce output of set_tracer_properties to p_io
- IMPORT_GRID: delete debug-call PRINT_NARRAY

Changes by Sabine Brinkop:
- ATTILA: bug-fix in CFL criterion check (for I_VERT = 2)

Changes by Astrid Kerkweg:
- MMD: code clean-up for official release; modified files:
  - mmdc_parent.c, mmdc_util.h, mmd_handle_communicator.f90, mmd_test.f90
    mmd_utilities.f90
- MMD2WAY: code clean-up for official release; modified files:
  - messy_mmd2way_child_si.f90, messy_mmd2way_parent_si.f90

<<<SNAPSHOT d2.52n1>>>

Changes by Patrick Joeckel:
- IMPORT_GRID (messy_main_import_grid_bi.f90):
  - terminate with error message, if ZNRG or NGRD is used for CESM1

Changes by Astrid Kerkweg:
- DATA (CESM1): new object decomp_gp_pe
- TRACER (messy_main_tracer_bi.f90):
  - tracer initialisation for unstructured grids revised
- MPI (CESM1): additional subroutine scatter_gp1 in messy_main_mpi_bi.f90
- GRID and IMPORT_GRID:
  - parallel processing for unstructured grids (CESM1)
  - modified files:
    messy_main_grid_bi.f90, messy_main_import_grid_bi.f90,
    messy_main_import_grid_tools_bi.f90, messy_main_grid.f90,
    messy_main_grid_tools.f90, messy_main_grid_trafo.f90,
    messy_main_grid_trafo_nrgd.f90, messy_main_grid_trafo_scrp_base.f90,
    messy_main_grid_trafo_scrp.f90, messy_main_import_grid.f90,
    import_grid.f90

******************************************************************************

messy_d2.52n (17 Jan 2017)

Changes by Holger Tost and Patrick Joeckel:
- SCAV (messy_scav_si.f90):
  - initialize %evafrac with zero
  - NULLIFY pxtp1 after deallocation
  - initialize (local) pxtp1 with zero
  - bug-fix (undefined values incm) in subroutine evapo_cloud
  - special case for (.NOT.!) MECCA_TAG (keeping pxtm1) removed,
    since it is not required

Changes by Franziska Frank and Patrick Joeckel:
- MECCA (messy_mecca_si.f90): H2O synchronisation (with q) revised
  (only active, if MECCA_TAG is on!); additional MESSYTENDENCY handle
  my_handle_corr for this case

<<<SNAPSHOT d2.52m9>>>

Changes by Sabine Brinkop:
- ATTILA: check and correct for CFL criterion violation (I_VERT=2)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh updated
- CLAMS:
  - modifications required to make clamschem and clamscheme5
    (easily) removable for official release:
    - CLAMSCIRRUS (messy_clamscirrus_si.f90): coupling to CLAMSCHEME5 revised
      to channel - coupling
    - asad_gfirst moved from messy_clamschem_global.f90
      to messy_clams_global.f90 in order to decouple CLAMSMIX;
      modified USE in files:
      messy_clamschem_asad_cdrive.f90, messy_clamschem_si.f90,
      messy_clamsmix_si.f90
    - CLAMSBMIX (messy_clamsbmix_si.f90): coupling to CLAMSCHEME5 revised
      to channel - coupling
    - messy_clams_si.f90, messy_clamsbmix_si.f90: additional directives
      for removing clamschem and/or clamscheme5
      (!!#D clamschem +/. and !!#D clamscheme5 +/-)
    - CLAMSTRAJ (messy_clamstraj_si.f90): USE_CLAMSCHEM, USE_CLAMSCHEME5
      removed

Changes by Franziska Frank:
- MECCA: bug-fix, if MECCA_TAG is defined (moved END IF statement)

<<<SNAPSHOT d2.52m8>>>

Changes by Patrick Joeckel:
- MESSY:
  - new file messy/bmil/messy_main_control_bi.f90 which includes
    messy_main_control_<BM>.inc for legacy basemodels
    ECHAM5, COSMO, CESM1.
- MECCA:
  - gas.tex: update of I_SCAV for CH3SO3H, DMSO, BrCl, BrNO3

Changes by Franziska Frank:
- MECCA_TAG: modified files:
  - tag_ICH4.cfg, tag_IH-mim1.cfg, imcom.inc: adjust molar masses to those of
    messy_main_constants
  - imtag_cfg_si.f90: DEBUG2 option for ratio of tracers
- SCAV: bug-fixes for MESSYTENDENCY and MECCA_TAG application;
	note: the order of calclatation must always be:
	 - calculate t+1 value
	 - calculate new tendencies (xtte_scav)
	 - update tendencies for MECCA_TAG tracers (xtte_scav)
	 - add new tendencies (xtte_scav) to overall tendencies

Changes by Holger Tost:
- SCAV: update for I_SCAV species container consistent treatment

Changes by Rolf Sander:
- MECCA:
  - xmecca, tracdef.awk, gas.tex: define H2O tracer for MECCA_TAG

Changes by Patrick Joeckel:
- MECCA (SMIL):
  - enable feedback to specific humidity (q), although H2O tracer
    is present (in case of MECCA_TAG)
  - snchronize H2O tracer with specific humidity in this case
- VISO: update: correction for maps of objects in GP_3D_INT represenation
- TRANSFORM (messy_main_transform_bi.f90):
  - add optional parameters to gather_glix and scatter_glix in order
    to avoid internal broadcasts
- CHANNEL:
  - new subroutine copy_channel_object_atts to copy all atrributes
    from one channel object to another
  - messy_main_channel_bi.f90: add optional parameters to gather_glix
    and scatter_glix in order to avoid internal broadcasts
- TOOLS: quick_sort algorithm added
- VAXTRA: new submodel for vertical axes transformations

Changes by Sabine Brinkop:
- VISO: max. number of maps increased form 200 to 300
- ATTILA: pre-interpolation to pressure / theta levels before
  interpolation to positions

Changes by Franziska Frank:
- PTRAC: bug-fix (XTRAC(i)%trs(k) instead of trs(k) in call to get_tracer)

Changes by Patrick Joeckel:
- messy/util: some (not yet fully established) scripts renamed
  from <script> to x<script> to clarify that these are to be called
  explicitely by the user
- WARNINGS updated
- DIRSTRUCT updated
- YAXT implementation update from Joerg Behrens (DKRZ):
  - ECHAM5(2x):
    - mo_echam_yaxt.f90, mo_real_timer.f90, mo_timer.f90, mo_tpcore.f90,
      mo_transpose.f90
- zip.sh: *.d files excluded from being zipped
- Makefile.in: *.d files removed for *clean targets

Changes by holger Tost:
- GMXE:
  - bugfixes for emission flux assignment
     - new emission types added
- CLOUD:
  - bugfix for tendencies (scheme 4,5)
  - WARNING added to cloud_scheme (6) (contrail cirrus), check whether
  time integration is as intended.

<<<SNAPSHOT d2.52m7>>>

Changes by Patrick Joeckel:
- UBCNOX: ubcnox_free_memory added

Changes by Stefan Versick:
- UBCNOX: new submodel (upper boundary condition NOx)

Changes by Patrick Joeckel:
- CLOUDJ: Makefile.m for MBM (gmake mbm)
- CONTROL (CESM1, COSMO): calls of CLOUDJ entry points

Changes by Rolf Sander:
- CLOUDJ: new photlysis submodel
- DIRSTRUCT: updated
- new documentation/howto-newsubmodel: Updated documentation "How to
  write a new MESSy submodel"
- CAABA: updates

Changes by Mattia Righi:
- CLOUD (messy_cloud_si.f90): fix for restart independence
   (lrestreq=.TRUE. for cloud_tm1)

Changes by Hella Garny:
- RELAX: new submodel
  The submodel RELAX optionally calculates Newtonian cooling, i.e. relaxes the
  temperature towards a given equilibrium temperature with a given relaxation
  time scale and Rayleigh friciton, i.e.  relaxes horizontal winds towards
  zero with a given damping coefficient. The submodel is used to run EMAC as
  idealized model.

Changes by Sebastian Ehrhart
- new MBM nucleation to be in future used to extend gmxe

Changes by Patrick Joeckel:
- GRID (messy_main_import_grid_bi.f90):
  - set my_rank = p_pe in subroutine IMPORT_GRID_INITIALIZE

<<<SNAPSHOT d2.52m6>>>

Changes by Franziska Frank:
- TENDENCY:
  - update and new function mtend_checkreg to query, if a specific submodel
    has registered a specific tendency for change
- H2OISO:
  - update; chemical q-tendency (CH4 or MECCA) for H2OISOHHOvap
  - coupling to E5VFIFF
  - messy_h2oiso_cloud.f90: several _dp added
  - messy_h2oiso_convect.f90: REAL added for consistency with dp
- CONVECT (messy_convect.f90): several _dp added
- CH4: update; iso_integrate_gp correted with CH4 tendency
- TRSYNC: update and bug-fixes

Changes by Andreas Baumgaertner:
- CESM1: update
- CHANNEL (messy_main_channel_c[esm]1.inc): lrestreq=.TRUE. for some objects
- TRACER (messy_main_tracer_bi.f90): updates for CESM1
- messy/util/se2fv_regrid.ncl: update

Changes by Mariano Mertens:
- CHANNEL (messy_main_channel_repr.f90): fast reorder for 3241
- JVAL (messy_jval_si.f90): bug-fix for REPR_JV_AER_4D in COSMO

Changes by Theodoros Christoudias and Michalis Alvanos:
- prototype scripts for running MECCA (KPP) on NVIDIA GPUs with CUDA:
  - see messy/util/HOWTO_RUN_MECCA_ON_GPUS.txt
  - messy/util/kpp_integrate_cuda_prototype.cu
  - messy/util/f2c_alpha.py

<<<SNAPSHOT d2.52m5>>>

Changes by Patrick Joeckel:
- WARNINGS updated
- VERTEX: preprocessor directive ECHAM5 removed
- CHANNEL:
  - renames include files / links
     messy_main_channel_c1.inc   ->     messy_main_channel_cesm1.inc
     messy_main_channel_cm.inc   ->     messy_main_channel_cmat.inc
     messy_main_channel_e5.inc   ->     messy_main_channel_echam5.inc
     messy_main_channel_i2c.inc  ->     messy_main_channel_int2cosmo.inc
    and modified messy_main_channel_bi.f90 accordingly
- config/mh-linux-64: updates for LF95 on pa2 @ DLR
- xmessy_mmd: corrected NPROCA, NPROCB settings for MBM_MPIOM
- Makefile.in
  - MPIOM removed from list of basemodels (now available as MBM)
  - MPIOMVERS saved in variable
- configure.in (configure):
  - --enable-MPIOM option removed
  - --enable-HAMOCC option removed
- mbm/mpiom/Makefile.m:
  - F90DEFS0 inherited from master Makefile
  - additional libraries
- CHANNEL (messy_main_channel_bi.f90):
  - modifications for MBM_MPIOM
  - cleanup / revison of subroutine bi_decompose
- MPI (messy_main_mpi_bi.f90):
  - modifications for MBM_MPIOM
  - 1st cleanup and revision
- MBM_MPIOM:
  - messy_mpiom_e5.f90: finish replaced by error_bi
  - modifications in main.mk
- CAABA (messy_mecca_box.f90, messy_traject_box.f90): wrong delimiters
  after WRITE(*,*) statements removed

Changes by Andrea Pozzer:
- Makefile.in : inclusion of ctags for tags creation for vim.
- ECHAM5(5.3.02):
  - physc.f90: coupling to MPIOM removed, now entirely via A2O and HD
- CHANNEL
  - messy_main_channel_bi.f90: extensions for MBM_MPIOM
- DATA
  - messy_main_data_bi.f90: extensions for MBM_MPIOM
  - several chanel objects for atmosphere ocean coupling moved to A2O
- GRID:
  - messy_main_grid_bi.f90: empty MAIN_GRID_INIT_MEMORY for MBM_MPIOM
    (grid definition in messy_mpiom_e5.f90)
  - messy_main_grid_trafo_scrp_base.f90:
    max_subseg increased by factor of 10
- IPORT (messy_main_import_rgt_bi.f90): extension for MBM_MPIOM
- messy_main_ppd_bi.inc: extension for MBM_MPIOM
- SWITCH (messy_main_switch_bi.f90): extension for MBM_MPIOM
- TRACER (messy_main_tracer_bi.f90, messy_main_tracer_pdef_bi.f90):
  - extension for MBM_MPIOM
  - tracer for MBM_MPIOM (not stricly necessary without HAMOCC)
- CONTROL (ECHAM5): call new entry points a2o_init_memory and hd_init_coupling
- A2O:
  - revised coupling (moved from physc.f90) via channel objects
  - namelist files a2o.nml changed accordingly
  - new entry point a2o_init_memory
  - messy_a2o_e5.f90: bug nproma/ngpblks fixed
- HD:
  - revised coupling (moved from physc.f90) via channel objects
  - new entry point hd_init_coupling
- xmessy_mmd:
  - mpiom lowercase as "box model", addition of NPX/NPY for MPIOM in setup
- MPIOM:
  - messy_mpiom_e5.f90, messy_mpiom_tools_e5.f90:
    - initialisation from restart files now possible for MPIOM via namelist
      (new istart option 4 available, filename to be given , see SP-oce-01)
    - added NPROCA/NPROCB in mpiom namelist (all namelists changed accordingly)
  - MPIOM as box model (preprocessor directive MBM_MPIOM)
   - new subdirectory /mbm/mpiom
   - new messy_main_control_mpiom.f90, messy_main_channel_mpiom.inc

Changes by Sergey Gromov:
- SCAV:
  - messy/mbm/scav/mechanism/xscav_l: 2 new options
  - messy/smcl/messy_cmn_gasaq.f90,
    messy/mbm/scav/mechanism/aqueous.eqn, messy/mbm/scav/mechanism/aqueous.spc,
    messy/mbm/scav/mechanism/gas.spc:
    - soluble organics of MOM included:
    - add_species, add_henry and add_alpha modified including
      all MOM species. add_dryreac NOT added for MOM species.
      Piruvic acid (CH3COCO2H) included already -> commented in MOM part
      glycolaldehyde (HOCH2CHO) included already -> commented in MOM part
    - aqueous.eqn : MOM species added with label Mom + Henry's number power
      (i.e. H1H2H3H4H5H6H7) for selecting minimum Henry's number for scavenging.
      Piruvic acid (CH3COCO2H) included  by but commented ->
      present in MOM part
      glycolaldehyde (HOCH2CHO) included by but commented ->
      present in MOM part
      Piruvic acid (HOCH2CHO) included also by Holger but commented.
    - aqueous.spc :
      Piruvic acid (CH3COCO2H) included already -> commented in MOM part
      glycolaldehyde (HOCH2CHO) included already -> commented in MOM part
    - gas.spc : added missing species of MOM
- KPP1 (messy/tools/kpp1/src/gdata.h): MAX_SPECIES increased to 1000 to
  include MOM mechanism in scav

Changes by Vlassis Karydis and Alexandra Tsimpidi:
- GMXE:
  - new &CTRL namelist switch l_oracle for coupling to ORACLE
  - messy_gmxe_si.f90: inclusion of ORACLE defined species in the
    internal matrix
- ORACLE (smil,smcl,nml): compatible with arbitrary organic chemical mechanism

Changes by Patrick Joeckel:
- configure.in (configure): preprocessor directive MPI removed and
  replaced by 'not NOMPI'; affected files:
    ./messy/bmil/messy_main_channel_bi.f90
    ./messy/bmil/messy_main_mpi_bi.f90
    ./messy/bmil/mo_mpi.f90
    ./messy/mbm/clams/smcl/messy_clamschem_asad_dummy.f90
    ./messy/mbm/cmat/smcl/earth/messy_cmat_climatologies.f90
    ./messy/mbm/ncregrid/src/messy_ncregrid_base.f90
    ./messy/mbm/ncregrid/src/messy_ncregrid_mpi.f90
    ./messy/smcl/messy_main_grid_mpi.f90
    ./messy/smcl/messy_main_grid_netcdf.f90
- MBM: VERTICO, SPE, QBO, NCREGRID, DISSOC, GWAVE, BLANK
  - main.mk: set NOMPI directive explicitely
- TOOLS: meteodiag
  - main.mk: set NOMPI directive explicitely

Changes by Christopher Kaiser:
- SCAV: some additional comments in messy_scav_inter.f90

<<<SNAPSHOT d2.52m4>>>

Changes by Astrid Kerkweg:
- MMD2WAY_PARENT: error message for 2-way coupling

Changes by Mariano Mertens:
- TEMIS: update

Changes by Christopher Kaiser:
- Makfile.in: new target 'forceall' to force recompilation of everything
  (after touching messy_main_constants_mem.f90); this is e.g. required to
  update the revision number
- messy_main_constants_mem.f90, configure.in (configure), Makefile.in:
  - if GIT, SVN or MERCURIAL are used, the current revision number
    is appended to the MESSy version string
- SCAV:
  - coupling to MECCA_TAG and TENDENCY cleaned up
- CLOUD: update in MADE3 cloud coupling
- MADE3:
  - update to 3.0
  - documentation/made3 with doxygen

Changes by Patrick Joeckel:
- WARNINGS updated
- IMPORT: new sub-submodel IMPORT_LT for lookup-tables
- all import*nml updated (with empty &CTLR_LT namelist)

Changes by Sabine Brinkop:
 ATTILA: fix for I_VERT = 2; recalcualte KPOS before RKO4

Changes by Patrick Joeckel:
- JVAL/JVST:
  - apply modifications (see below) of JVAL also in JVST
  - save optical properties of internal aerosol in channel objects
  - clarify long names of aerosol optical property objects
    (... of JVAL internal aerosol ...)

Changes by Mariano Mertens:
- CONTROL (ECHAM5): mmd2way_init_coupling moved before scalc_init_coupling

Changes by Holger Tost:
- GMXE:
  - bugfixes for EQSAM4CLIM implementation
    (now reasonable aerosol water, results to be tested/evaluated)
  - bugfix for aerosol water attached to organic carbon
- CLOUD:
  - bugfix(es) for coupling to aerosol parameters
- JVAL:
  - jval_si: new representations adapted for COSMO, EMAC, CESM1
- AEROPT:
  - aeropt_si: new representations adapted for COSMO & CESM1

Changes by Patrick Joeckel (thanks to Duy Cai):
- messy/util/locate_f90.sh(.in): new case with path to compiler wrapper mpif90
  (now tools are compiled (again) without linking MPI)

Changes by Astrid Kerkweg:
- TRACER , PTRAC: get_tracer_set_info: optional argument l_enabled added;
  required because of crash in PTRAC for not enabled tracer sets ...
- CHANNEL: avoid output of parallel decomp table for RANK = 0

Changes by Hiroshi Yamashita:
- AIRTRAF: new submodel for on-line flight traffic calculations
- TOOLS_GA: new tool (genetic algorithm for optimisation)
- CHANNEL (messy_main_channel_repr.f90): additional CASE in FAST_REORDER

Changes by Andreas Baumgaertner and Patrick Joeckel:
- E5VDIFF:
  - joined SMIL file for ECHAM5 and CESM1
  - xtte, xtm1 local copies replaced by pointers

Changes by Andreas Baumgaertner:
- CESM1: updates

Changes by Franziska Frank and Patrick Joeckel:
- H2OISO: check for e5vdiff instead for vdiff

Changes by Mariano Mertens and Christopher Kaiser:
- SCAV: bug fix; allocataion/deallocation of pointer

Changes by Domenico Taraborrelli:
- config/mh-linux-64, xmessy_mmd: updates for jureca @ JSC

Changes by Christopher Kaiser, Mariano Mertens, and Patrick Joeckel:
- SCAV (messy_scav_si.f90, messy_scav_inter.f90):
  dimensioning of process variable revised to allow correct application
  with rank identifiers for various basemodels

Changes by Patrick Joeckel:
- messy/util/ptrac_convert.tcsh revised; all ptrac*nml* recreated
  (original namelist files with suffix -orig)
- messy/util/edecomp.tcsh: script to provide possible NPY x NPX parallel
  domain decompositions for ECHAM5 and EMAC (still under construction)

Changes by Sabine Brinkop:
- ATTILA: use tp_clim instead of tp (from TROPOP) as boundary
  for diabatic velocity

******************************************************************************

messy_d2.52m (31 Aug 2016)

Changes by Patrick Joeckel:
<<<TEST>>>:
- compilation on pa2 @ DLR with openmpi/1.10.2/gfortran/4.9.4,
  openmpi/1.10.2/g95-dint32/0.93, openmpi/1.10.2/intel/16.0-2
  successful

Changes by Lisa Bock:
- CLOUD:
  - additional parameterisation (CLOUD_PARAM == 6), which is
    Lohmann et al.,(2010) plus the CMod parameterisation of Bock et al.,(2016)
  - modified files: messy_cloud_si.f90, messy_cloud_lohmann10.f90,
    messy_cloud_mem.f90
- CONTRAIL
  - additional entry point contrail_convec, which calls contrail_physc
- CONTROL (ECHAM5): call of contrail_convec
    (thus the calculations is performed twice per time step; this is
    currently required due to conflicting interests ...)

Changes by Andreas Baumgaertner:
- CESM1:
  - update of Makefile.in
  - modified files: atm_comp_mct.F90
- CHANNEL (CESM1): updates
- DATA (CESM1): updates
- GRID: updates for unstructured / curvilinear grids, modified files:
  messy_main_grid_bi.f90, messy_main_grid_trafo_scrp.f90
- TRCER: update of subroutine TRACER_INIT for unstructured / curvilinear grids
- SURFACE:
  - new main entry point surface_global_start (for CESM1)
- VERTDIFF update: messy_vertdiff_cam_c1.f90
- IMPORT: updates for unstructured / curvilinear grids, modified files:
  - messy_main_import_grid.f90

Changes by Christopher Kaiser:
- SCAV (messy_scav_inter.f90): updates for MADE3 coupling
- MADE3: update

Changes by Mattia Righi:
- CLOUD:
  - added coupling to MADE3
  - added two new (optional) &CTRL namelist parameters (rset_ccraut and
    rset_ccsaut) to overwrite tuning parameters
  - SI: new subroutine set_cloud_parameters (for all parameterisations)
    replacing aero_activ_initialize (for Lohmann07)
  - extended cloud parameterisation (Kuebbeler et al., ACP, 2014)

Changes by Patrick Joeckel:
- CESM1:
  - libsrc/pio/Makefile.m: workaround for know bug in gfortran 4.9.x compiler
    (https://gcc.gnu.org/bugzilla/show_bug.cgi?id=47023)
- ECHAM5(2x) YAXT (mo_echam_yaxt.f90): exclude combined POINTER and
  INTENT attributes with preprocessor directive LF for lf95 8.1b
- CLAMS:
  - messy_clamsrdfrc.f90: POINTER and INTENT attributes are not allowed
    at the same time (E5_ZETA)
  - messy_clamssedi_si.f90, messy_clamstraj_si.f90:
    workaround for g95 and gfortran also for lf95
  - messy_clams_tools_interpolreg.f90: workaround for lf95 8.1b compiler
    (function ISNAN explicitly defined)
  - messy_clamschem_asad_svode.f90: CHARACTER syntax for MSG corrected
  - messy_clamschem_asad_blas.f90: PREC renamed to xPREC, because it exists
    twice (compiler lf95 8.1b complained)
<<<TEST>>>:
- compile with YAXT on pa2:
  - gfortran 4.9.4: compilation successful, E5 setup runs on 2 nodes
  - gfortran 4.8.1 fails, due to a know bug:
    https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53945
- ECHAM5(2x) mo_control.f90:
  set lyaxt_transposition = .TRUE. as default, if YAXT is
  available; it still can be switched off at run-time via this
  namelist parameter in ECHAM5*nml &RUNCTL!
- mh-linux-64: YAXTROOT on pa2 @ DLR and mistral @ DKRZ

Changes by Rolf Sander:
- messy/util/mddiff: update

Changes by Joerg Behrens (DKRZ):
- YAXT library for parallel decomposition and exchange; modifid fieles
  - configure.in (configure): new option --enable-YAXT
  - Makefile.in: YAXTROOT, YAXT_INCLUDE, YAXT_LIB, YAXT_DEF
  - ECHAM5:
    - runctl.inc: new &RUNCTL namelist parameter lyaxt_transposition
      (default: .FALSE.); needs to be set in all ECHAM5*nml
    - Makefile.in
    - mo_call_trans.f90, mo_control.f90, mo_decomposition.f90,
      mo_tpcore.f90, control.f90, inictl.f90, initialize.f90,

Changes by Sergey Gromov:
- xmessy_mmd: settings for buran-cluster @ IGCE

******************************************************************************

messy_d2.52l (25 Aug 2016)

Changes by Rolf Sander:
- for details of JVAL updates, see messy/mbm/jval/CHANGELOG
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- JVST: option to read external aerosol optical properties (same as
  implemented by H. Tost for JVAL)
- mh-linux: old computer bromine removed
- mh-linux-64, xconfig: new computer fluorine added
- Makefile: compiler options updated for mbms CAABA, MECCA, and JVAL

Changes by Patrick Joeckel:
- PTRAC: clean-up with forcheck
- TRACER: removal of chemprop/messy_main_tracer_chemprop.inc excluded from
  target distclean, because otherwise gmake check after gmake distclean and
  configure fails
- JVAL: additional SMCL parameter l_export_to_smil to fix an issue with
  pointers (to aerosol properties) that are only associated, if JVAL is
  run 3D ...
- TRACER:
  - use chemical prperties also in new_tracer_old

******************************************************************************

messy_d2.52k (24 Aug 2016)

Changes by Sergey Gromov:
- config/mh-linux-64: jrl for Juelich and Buran Cluster added
- MECCA_TAG:
  - update of messy/tools/tag/* messy/nml/MOM/*
- TRACER:
  - messy/bmil/messy_main_tracer_pdef_bi.f90: added units for passive
    prod./loss tracers
- DDEP:
  - messy_ddep_si.f90: change for FO17H2SO4
- messy/util/zip.sh ignore .git/ directory

Changes by Rolf Sander:
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- messy/util/xmessy_mmd*: old computer "bromine" replaced by new
  computer "fluorine"

Changes by Domenico Taraborrelli and Rolf Sander:
- new values for R_henry in gas.tex: H2SO4=1.3E15, NH3=1.02E4, SO2=2.45E5

Changes by Patrick Joeckel:
- PTRAC:
  - completely revised with new namelist syntax (this was required,
    since the containers for chemical properties are now semi-dynamically
    generated!).
  - all namelist files modified accordingly
  - messy/util/ptrac_convert.tcsh: script to convert old ptrac-namleist files
    which are not in the distribution
- TRACER:
  - chemical properties modified to keep old container
    numbers (e.g., R_molarmass instead of MAX_CASK_R_PROCESS+R_molarmass)
  - STRLEN of all CASK-names unified to 15

Changes by Rolf Sander:
- TRACER:
  - implementation of chemical properties:
    - new subdirectory messy/mbm/tracer/chemprop
  - merged with TRACER container concept

Changes by Patrick Joeckel:
- TRANSFORM (messy_main_transform_bi.f90): _MPI_ALLGATHER deactivated
  (due to bad scaling ...)
- CONTROL (CESM1): calls to mmdserv removed
- MBM qbo:
  - L_IS_CLIENT replaced by L_IS_CHILD
  - SWITCH: mmdsrv and mmdclnt removed

Changes by Astrid Kerkweg:
- MMDCLNT / MMDSERV:  removed  (=> remove all namelists)
- MMD2WAY make fit for 1-way coupling
- configure.in: option --enable-I2CINC202 removed
- MMD / MMD2WAY :
  - more consistent naming of PARENT and CHILD
  - mmd_partest removed
- COSMO  / CHANNEL
  - reset_accu_COSMO_elements removed, BUT channel objects kept to
    enable restart identity
- preprocessor directives COSMOv4s8 and I2CINC202 removed
- COSMO4.8_clm17 / INT2LM_1.10_clm14 removed
- TIMER: public subroutine  write_date_debug for debugging purposes added
- CONTROL (COSMO): calls to MADE3 added
- namelists cleaned up

******************************************************************************

messy_d2.52j (15 Aug 2016)

Changes by Patrick Joeckel:
- <<<TEST>>: MECCA and SCAV mechanism recreated; compilation (all, mbm, tools)
  with g95 (v0.93) and gfortran (4.8.1), both with OpenMPI (1.8.4) on lx134
  (./configure --enable-E5SGHOST --enable-MESSYTENDENCY --enable-MPIOM
    --enable-CESM1 --enable-HAMOCC --enable-COSMO --enable-I2CINC
    --enable-MESSYMMD)
- RAD and RAD_FUBRAD (SMIL):
  - _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- CESM1:
  - messy_main_channel_c1.inc: additional channel objects for cloud_si
- CLOUD
  - (SMIL):  _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
  - MBM repaired (kappa and sup_sat_scheme defined with dummy values)
- AEROPT (SMIL): _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- CLOUDOPT (SMIL): _e5 and _c1 merged into _si shared for ECHAM5 and CESM1
- SCAV:
  - no3 -> hno3 in scav_global_end (for coupling to ATTILA)
- JVAL: set version number to 15
- AEROPT (messy_aeropt_input.f90): bug-fix (syntax) in string continuation
  line
- moved modifications (due to links) from RC1-base-07 as modified files to GLYX
- WARNINGS updated
- all aeropt*nml: added default entry (F) at position 13 of READ_AERO_SETS
  (i.e., no calculation for photolysis rates)

Changes by Holger Tost:
- GMXE refurbished and updated
   - new structure, flexible number of modes
   - smilified and moved from e5 to smil
   - new control options via set of namelists
     (old include file removed)
   - cleaned up code from old EQSAM3 parts
   - new submodel layer core files
     - new sub-submodel EQSAM4CLIM (still to be tested)
   - new SOA subsubmodel
   - new kappa calculations
- SCAV updates due to MADE3 coupling
   - substantial code modifications thanks to Christopher Kaiser
   - still very similar results compared to old code (not binary identical)
   - reactions for oxalate chemistry included (as comment) in aqueous.eqn and
     gas.spc and aqueous.spc (kpp1 files)
   - NO3(m) photolysis changed to HNO3 photolysis rate instead of NO3
- CLOUD:
   - substantial code modifications due to MADE3 coupling
   - new code option (Kuebbeler et al, 2014), coupled to both MADE3 and GMXE
       thanks to Mattia Righi, Johannes Hendricks and Christopher Kaiser
   - changes in messy_cloud_droplet, e5, cesm, and messy_cloud_lohmannXX files
   - new file messy_cloud_kuebbeler.f90
- AEROPT:
   - new option to calculate aerosol properties for JVAL
      (hardcoded on JVAL wavelength bands), selectable via namelist
     changes in almost all AEROPT files (see RAD paper of S. Dietmueller)
- JVAL:
   - option to read external aerosol optical properties, e.g. from AEROPT
     instead of internal climatology, changes in smcl and smil files
- main_ppd_inc:
   - new rank identifier added
- messy_cmn_aqattr.f90
   - new species added (required for GMXE)
- messy_cmn_gasaq.f90
   - new species added (for oxalate chemistry)
- messy_main_constants_mem.f90
   - new species molar mass added
- new namelist scenario CCMI/GLYX includes the current set of namelists with
  all updates required to run aerosol simulations after all changes in the
  code

******************************************************************************

messy_d2.52i (15 Aug 2016)

Changes by Patrick Joeckel:
- messy/util/usediagram.tcsh: new script to visualise USE dependencies
  of a MESSy submodel (see script header for more explanation)
- messy/bmil/specific.mk, messy/echam5/smil/specific.mk,
  messy/smcl/specific.mk: updated with corrected linux(64) compiler options
  for G96, GFORTRAN, INTEL, LF
- mh-linux-64 and xmessy_mmd:
  updates for OpenMP threading on pa2 @ DLR and mistral @ DKRZ (experimental!!!)
- TRANSFORM (messy_main_transform_bi.f90):
  - new preprocessor directive _MPI_ALLGATHER (default is defined)
    to replace gather / bcast by allgather_field in
    trp_gpdc_gpgl_[4d,3d,2d](1, ...)
- MPI
  - messy_main_mpi_bi.f90: USE allgather_field
  - messy/bmil/mo_mpi.f90: subroutine p_allgather_real_3d2d added
- ECHAM5
  - new module mo_tr_allgather.f90 with MPI allgather_field of grid-point
    fields (2d, 3d, 4d)
- IMPORT_TS (messy_main_import_ts_bi.f90): memory cleaned (deallocates added)
- IMPORT_GRID (messy_main_import_grid_bi.f90): added deallocate to free_memory

Changes by Christopher Kaiser:
- H2O: bug-fix (non-allocated field after restart) for TENDENCY
- TENDENCY: error message in main_tendency_reset for unregistered tracers
  (Note that this is called from scan1 before messy_global_start and therefore
   before the mtend_add_[l,g] ...)

Changes by Stergios Misios:
- GWAVE:
  - advanced options in Hines parameterisation (latitude dependent rmscon)
    with additional (optional!) namelist parameters;
    mainly to generate a QBO in coupled atmosphere (L90MA) - ocean
    simulations; see nml/EXAMPLES/gwave_AL90MA_O.nml

Changes by Patrick Joeckel:
- DDEP:  register tracers for MESSYTENDENCY correctly (for predefined
  deposition velocities)
- xmessy_mmd: extension for running MPI/OpenMP hybrid jobs in pa2 @ DLR
- configure(.in), mh-linux-64: new option --enable-OPENMP for hybrid
  (OpenMP/MPI) parallelistion; EXPERIMENTAL! DO NOT USE!
- CH4: memory leak fixed
- TRSYNC:
  - memory leak fixed
  - compilation restriced to #ifdef ECHAM5 (q from main_data_bi is not
    available from COSMO, CESM1, ...)
- ECHAM5 (scan1.f90): exclude messy_local_start, gpc etc.
  from OpenMP parallelisation

Changes by Sabine Brinkop:
- ATTILA:
  - update for calculation and initialisation for different vertical
    velocities / grids

Changes by Franziska Frank:
- TENDENCY: improved error messages, if tracers are not registered
- TRSYNC: update
- CH4: bug fix in emprical formula for CH3D oxidation
- ONEMIS: bug-fix for MESSYTENDENCY implementation; tracers are now registered
  in initialize (init_coupling is too late!)

Changes by Theodoros Christoudias:
- KP4 (create_kpp_module.C): added openMP directives (within
  preprocessor directive _MESSY_OPENMP) to use hybrid parallelisation
  in subroutine kpp_integrate

Changes by Huug Ouwersloot:
- E5VDIFF: USE of az0 removed
- VERTEX: update

Changes by Patrick Joeckel:
- OFFEMIS: bug-fix for MESSYTENDENCY (mtend_register must be called
  from init_memory)
- xmessy_mmd: adaption for phase 2 of mistral @ DKRZ
- CLAMS:
  - all SMIL files: compile content only for ECHAM5 and/or MBM_CLAMS
    (with compiler directives); otherwise COSMO, CESM1 etc. will not
    compile anymore (due to too many ECHAM5 specific connections of CLaMS)
  - bug fixes: messy_clamssedi_si.f90: .d0 replaced by ._dp to avoid
    type conversion error reported by the gfortran compiler
  - bug fixes (MODulo, format specifier, etc. re-applied, see below)
  - messy_clamstraj_si.f90:
    compiler error workaround for gfortran/g95 with gcc backend < 4.9.0

Changes by Nicole Thomas:
- CLAMS:
  - preprocessor directives in SMCL removed and replaced by formal parameters
- CONTROL (ECHAM5):
  - calls to clams* entry points added

******************************************************************************

messy_d2.52h (27 June 2016)

Changes by Volker Grewe, Feijia Yin, and Patrick Joeckel:
- config/mh-linux-64: setup for Linux cluster at TU Delft
- xmessy_mmd: setup for Linux cluster at TU Delft

Changes by Patrick Joeckel:
- CLAMS:
  - bug fixes (MODulo, format specifier, etc. re-applied, see below)
  - messy_clams_sedi_si.f90:
    compiler error workaround for gfortran/g95 with gcc backend < 4.9.0

Changes by Nicole Thomas:
- CLAMS:
  - update with MESSy-conform naming convention (module is named as file)

Changes by Patrick Joeckel:
- messy/nml/README.txt updated
- WARNINGS updated
- all ECHAM5*nml: &GWSCTL, &PHYSCTL, &RADCTL, &POSTCTL removed
> snapshot 3:
- <<<TEST>>>:
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > binary identical results compared to snapshot 2 in same setup
- <<<TEST>>>:
  - openmpi/1.8.4/gfortran/4.8.1 on lx134 @ DLR
     - echam5.3.02   compiles also configured with --disable-MESSY
     - echam5.3.02   compiles (RUNMODE=DEBUGOPT and E5 (T21L19) setup runs
     - echam5.3.02_c compiles (RUNMODE=DEBUGOPT and E5 (T21L19) setup runs
- CONSTANTS: cvdifts added
- H2OISO, E5VDIFF: USE of cvdifts from messy_main_data_bi replaced by
  USE from messy_main_constants_mem
- messy/util/update_restart.tcsh: script to create restart files for
  e5vdiff, orogw, mlocean (from ECHAM5 and g3b) and to update nudg restart file
- CHANNEL (ECHAM5, messy_main_channel_e5.inc): lcolumn eliminated
- DATA (ECHAM5, messy_main_data_bi.f90):
  - lcolumn eliminated
  - lipcc replaced by PARAMETER (.FALSE.)
- OROGW:
  - lgwdrag locally defined
  - channel objects: gworo_du,gworo_dv,gworo_dt,gwlif_du,gwlif_dv,gwlif_dt
- DATA (ECHAM5.3.02):
  - lgwdrag, gworo_du,gworo_dv,gworo_dt,gwlif_du,gwlif_dv,gwlif_dt
    removed
- new basemodel subdirectory echam5.3.02_c (clean) with obsolete
  src- and module-files moved to subdirectories OBSOLETE
  (this does NOT longer compile, if configured with --disable-MESSY !)
  - exclude parts of code (#ifdef OBSOLETE)
    - RUNCTL (runctl.inc): some obsolete switches removed;
      - inictl.f90, mo_time_control.f90, mo_control.f90, stepon.f90,
	mo_sst.f90, clsst.f90, mo_memory_g3b.f90, mo_grib.f90,
	mo_netcdfstream.f90, ioinitial.f90, init_decomposition.f90,
	stepon.f90, scan1.f90, control.f90, gpc.f90, initemp.f90, labrun.f90
    - DYNCTL (dynctl.inc): diagdyn, diagvert removed
    - setdyn.f90: diagdyn, diagvert
    - dyn.f90: mo_column
    - init_decomposition.f90: mo_column
    - clsst.f90: mo_column
    - mo_geoloc.f90: iaero, io3 and corresponding stream elements (mo_radiation)
    - mo_io.f90: slm_glob removed (mo_couple)
    - mo_memory_g3b.f90: pointers for ocean and hd coupling
    - mo_netcdfstream.f90: write_tracer_header (mo_tracdef)
    - control.f90:
      - init_amip2_diag (mo_diag_amip2)
      - couple_init (mo_couple)
      - init_aero, cleanup_aero (mo_aero_tanre)
      - io3, iaero (mo_radiation)
      - init_hydrology, cleanup_hydrology (mo_hydrology)
      - cleanup_o3clim (mo_o3clim)
      - cleanup_so4 (mo_so4)
      - l_diagrad
      - inipost
      - mo_column
    - gpc.f90:
      - ml_flux (ml_flux)
      - intaero, lso4
    - initialize.f90:
      - init_ghg (mo_greenhouse_gases)
      - ighg (mo_radiation)
      - lso4 (mo_control)
      - read_so4nat, read_so4all (mo_so4)
      - setphys
      - mo_column
    - ioinitial.f90:
      - cvarmin (mo_cloud) replaced by local PARAMETER (!!!)
	(needs to be checked, if xvar is still needed)
      - slm_glob (mo_couple)
    - labrun.f90
      - mo_param_switches
    - physc.f90:
      - collect_amip2_diag (mo_diag_amip2)
      - mo_column
    - scan1.f90:
      - amip2_global_diag (mo_diag_amip2)
      - print_diag_radiation (mo_diag_radiation)
      - ighg (mo_radiation)
      - interpolate_ghg (mo_greenhouse_gases)
      - interpolate_solmon (mo_solmon)
      - mo_diag_dynamics
      - mo_column, l_diagdyn (mo_time_control)
    - setphys.f90:
      - mo_cumulus_flux, mo_convect_tables, mo_cloud
    - physctl.inc removed
    - columnctl.inc removed
    - stepon.f90:
      - mo_couple, mo_hydrology, subjob, savehis
    - mo_time_control.f90: RADCTL, DYNCTL
  - consistently completed (with #ifndef MESSY):
    - iniphy.f90: cuparam (mo_cumulus_flux), sucloud (mo_cloud)
    - initialize.f90: setgws
    - physc.f90: mo_radiaton, mo_cloud, mo_hydrology, mo_diag_radiation,
		 mo_tropopause, lgwdrag (mo_param_switches)
> snapshot 2 (echam5.3.02)
- <<<TEST>>>:
  - compiles also configured with --disable-MESSY
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > binary identical results compared to snapshot 1 in same setup

- PHOTO: USE of albedo from messy_main_data_bi replaced by get_channel_object
  (rad, albedo)
- JVST: updates according to JVAL updates
- JVAL, JVST (only #ifdef ECHAM5): USE of albedo from messy_main_data_bi
  replaced by get_channel_object
  (rad, albedo)
- DISSOC: USE of albedo from messy_main_data_bi replaced by get_channel_object
  (rad, albedo)
- RAD: USE of alsol and albedo from messy_main_data_bi (and calculation of it)
       removed; E5VDIFF couples via get_channel_object (rad: alsol, albedo)
- E5VDIFF:
  - USE of alsol and albedo from main_data replaced by get_channel_object
    to channel rad
- LNOX: bug-fix in tracer registration for TENDENCY
  (thanks to Christopher Kaiser)
- messy/util/update_restart.tcsh: script to create restart files for
  E5VDIFF, OROGW and MLOCEAN from g3b and ECHAM5
- CONTROL (ECHAM5.3.02)
  - call of orogw_init_memory
- MLOCEAN:
  - amlcorac, amlheatac removed
  - channel object amlheat added (not accumulated)
- OROGOW:
  - new main entry point orogw_init_memory
  - ustrgw, vstrgw, vdisgw converted to local channel objects
- DATA (ECHAM5.3.02):
  - USE of amlcorr, amlcorac, amlheatac (from g3b) removed
  - USE of alsol (from g3b) removed
- ECHAM5.3.02
  - mo_aere_gads.f90: function aero_gads4 deactivated (#ifdef MESSY)
  - ml_flux.f90 (called from gpc): completely deactivated (#ifdef MESSY)
  - intaero.f90 (called from gpc): completely deactivated (#ifdef MESSY)
  - mo_memory_g3b.f90:
    - ustrgw, vstrgw, vdisgw removed (#ifdef MESSY)
    - amlcorr, amlcorac, amlheatac removed (#ifdef MESSY)
    - tsurf, runtoc, runlnd, acvtype, rtype removed (#ifdef MESSY)
    - abso4, so4nat, so4all removed (#ifdef MESSY)
    - alsoi, alsow, alsol removed (#ifdef MESSY)
    - awhea, awsol, awfre, awust, awvst, awsta, aicon, aiqre, aifre,
      aiust, aivst removed (#ifdef MESSY)
    - aros, adrain, disch, apmecal removed (#ifdef MESSY)
    - albedo, alsol removed (#ifdef MESSY)
  - mo_memory_g3a.f90:
    - ustrgwm, vstrgwm, vdisgwm removed (#ifdef MESSY)
    - tsurfm, runtocm, runlndm removed (#ifdef MESSY)
    - albedom removed (#ifdef MESSY)
  - ioinitial.f90:
    - ustrgwm, vstrgwm, vdisgwm removed (#ifdef MESSY)
    - amlcorr, amlcorac, amlheatac removed (#ifdef MESSY)
    - tsurfm, runtocm, acvtype, rtype removed (#ifdef MESSY)
    - abso4, so4nat, so4all, tropo removed (#ifdef MESSY)
    - alsoi, alsow, alsol removed (#ifdef MESSY)
    - aros, adrain, disch, apmecal removed (#ifdef MESSY)
  - physc.f90:
    - rtype & itype removed
    - abso4, so4nat, so4all removed (#ifdef MESSY)
> snapshot 1
- <<<TEST>>>:
  - openmpi/1.10.2/g95-dint32/0.93 on pa2 @ DLR
  - RUNMODE=DEBUGOPT, setup = E5, T42L90MA
  - > results independent of restart frequency
  - > binary identical results compared to 2.52g in same setup
- STEP 1 OF CLEANUP OF MEMORY MANAGEMENT
  NOTES: 1) "accumulated" variables have been removed, since accumulated
	     or time averaged output can be requested in channel.nml
	 2) as done for E5VDIFF, it needs to be done for SURFACE and MLOCEAN
  - RAD: USE of emter from messy_main_data_bi (and calculation of it) removed;
	 E5VDIFF couples via get_channel_object (rad01, emter)
  - E5VDIFF:
    - accumulation removed
    - l_heatflux (=ahfl) and s_heatflux (=ahfs) removed
    - e5vdiff_global_start: initialize (if lstart) az0w,i,l according to
      ioinitial.f90
    - finish replaced by error_bi
    - pointers and channel objects removed: t2max, t2min,
      ahfslac, ahfswac, ahfsiac, ahfllac, ahflwac, ahfliac, evaplac,
      evapwac, evapiac
    - pointers to external channel objects (init_coupling):
      - ocu (g3b), ocv (g3b), az0 (g3b), emter (rad01)
    - all get_channel_object to g3b (init_coupling) replaced by
      new_channel_object (init_memory); ahfll, ahfsl added
    - USE to messy_main_data removed and replaced by local channel objects:
      ocu, ocv, az0l, az0w, az0i, az0hl,  az0hw, az0hi, wet_tmp, tke,
      ahfsw, ahfsi, ahflw, ahfli, evapl_2d, evapw, evapi, evapot_2d,
      emter, wind10_2d, wind10w_2d
  - H2OISO:
    - USE of wet_tmp and evapot_2d from messy_main_data_bi replaced
      by local pointers set via get_channel_object to E5VDIFF
  - MLOCEAN:
    - coupling to channel objects modified (basemod replaced by E5VDFIFF or
      VERTEX): ahflw, ahfsw, ahfli, ahfsi, evapi
  - SURFACE:
    - coupling to channel objects modified (basemod replaced by E5VDFIFF or
      VERTEX): ahflw, ahfsw, ahfli, ahfsi, evapi, evapot_2d, evapl_2d
  - CONTROL (ECHAM5 5.3.02): call of main_data_init_coupling
  - DATA (ECHAM5 5.3.02):
    - USE (of mo_memory_g3b) removed:
      - ahflw, friac, ahfli, az0, az0w, az0i, az0l, az0hw, az0hi, az0hl,
	tke, ocu, ocv, emter
    - object references removed:
      g3b: ahfli, ahflw, az0, az0w, az0i, az0l, az0hw, az0hi, az0hl
    - modified pointers / channel objects:
      - wind10_2d, wind10w_2d removed
      - evapl_2d, evapot_2d removed
      - ahfsw, ahfsi, evapi, evapw, wet_tmp removed
      - l_heatflux, s_heatflux removed
      - new pointers with channel object references (as indicated) for
	- E5VDIFF: ahflw, ahfsw, ustri, vstri, ustrw, vstrw, evapw, evapi
	  (these are still USEd by physc.f90 for the hydrology-collect for
	   A2O; it needs to me changed in the future and should be moved to
	   A2O directly)
	- E5VDIFF: wind10, az0 (USEd in AIRSEA, ONEMIS, ...)
	- E5VDIFF: tke (USEd in CLOUD, ...)
	- g3b: ocu, ocv (USEd in A2O, ...)
	- DATA (E5): s_heatflux (ahfs), l_heatflux (ahfl) (USEd in CONVECT)
      - new entry point main_data_init_coupling to define above mentioned
	channel object references
  - ECHAM5(5.3.02):
    - mo_memory_g3b.f90: removed (#ifdef MESSY)
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- az0hi, az0hw, az0h (have been added previously for E5VDIFF)
	- temp2, dew2, wind10, vdis, ustr, vstr, ahfs, evap, ahfl, wind10w,
	  tke, tkem, tkem1, ustri, vstri, ustrw, vstrw, ustrl, vstrl, ahfli,
	  ahflw, ahfll, t2max, t2min, wimax, friac,
	  ahfsiac, ahfswac, ahfslac, ahfliac, ahflwac, ahfllac, evapiac,
	  evapwac, evaplac,
      - obsolete due to modularistion of radiation -> RAD
	- srads, trads, srad0, trad0, srad0u, sradsu,
	  tradsu, srafs, trafs, sraf0, traf0, emtef, trsof, emtef0,
	  trsof0, srad0d, trfllac, trflwac, trfliac, sofllac, soflwac, sofliac,
	  tradl, sradl, trafl, srafl, emter, trsol
    - mo_memory_g3a.f90: removed (#ifdef MESSY)
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- temp2m, dew2m, wind10m, vdism, ustrm, vstrm, ahfsm, evapm, ahflm,
	  wind10wm, t2maxm, t2minm, wimaxm,
      - obsolete due to modularistion of radiation -> RAD
	- sradsm, tradsm, srad0m, trad0m, srad0um, sradsum, tradsum,
	  srafsm, trafsm, sraf0m, traf0m, emtefm, trsofm, srad0dm, emterm,
	  trsolm
    - ioinitial.f90:
      - obsolete due to modularisation of vdiff.f90 -> E5VDIFF:
	- vdism, ustrm, vstrm, ahfsm, evapm, ahflm, wind10m, temp2m, dew2m,
	  t2maxm, t2minm, wimaxm, tkem, tkem1, az0w, az0i, az0l, ahfswac,
	  ahfsiac, ahfslac, ahflwac, ahfliac, ahfllac, evapwac, evapiac,
	  evaplac, friac, ustrw, ustri, ustrl, vstrw, vstri, vstrl, wind10w
      - obsolete due to modularistion of radiation -> RAD
	- sradsm, tradsm, srad0m, trad0m, srad0um, tradsum, sradsum,
	  srad0dm, trfllac, trflwac, trfliac, sofllac, soflwac, sofliac,
	  emterm, trsolm
      - physc.f90
	- USE (from messy_main_data) removed:
	  - ahfsi, evapl_2d, evapot_2d,
	- USE (from messy_main_data) added: (for A2O collector ...)
	  - ahflw, ustri, vstri, ustrw, vstrw
	- mo_memory_g3b related removed:
	  - zhfsi, zhfli, zevapl, evapot, friac
	- call of collect_amip2_diag removed (#ifdef MESSY)
- messy/bmil/specific.mk and messy/smcl/specific.mk:
  exclude messy_main_import* and messy_main_grid* from compiler run-timne
  checks (for performance reasons!); !!! needs to be activated !!!
- configure.in (configure): check for qhull library
- libsrc/qhull added (for CLaMS)
- MTSKIP (messy_mtskip_si.f90): error message for LF compiler; SIZE in
  INQUIRE is not allowed according to Fortran95 standard
- OROGW (messy_orogw_si.f90): restrict to ECHAM5 with preprocessor directive
- GWAVE:
  - tendency handle renamed (gwave instead of gwspect); handle and
    registration correctly placed
  - global SAVE added to SMCL module
- TENDENCY:
  - all tendency*nml updated (ssodrag -> orogw; gwspect -> gwave)
  - handles and registration for ssodrag, vdiff and gwspect removed
- messy/nml/README.txt updated
- WARNINGS updated
- messy/util/dau-ngrade.tcsh updated
- update of all switch*nml and links to orogw.nml

Changes by Roland Eichinger:
- ECHAM5 (5.3.02):
  - physc.f90: call to ssodrag excluded via MESSY preprocessor directive
- OROGW: new submodel replacing the ECHAM5 ssodrag routine for
  orographic gravity waves

Changes by Patrick Joeckel:
- CLAMS:
  - messy_clamschem_photol.f90: fix of format specifier (gfortran reported
    an error)
  - messy_clams_tools_bval3d.f90, messy_clams_tools_interpolreg.f90,
    messy_clams_tools_eqlatutils.f90, messy_clamsbmix_tools.f90,
    messy_clamsbmix.f90, messy_clamsmix_ap_m_modify.f90, messy_clamssedi.f90,
    messy_clamstraj_data.f90, messy_clamstraj.f90:
    bug-fixes for correct usage of intrinsic function MOD
  - messy_clamsmix_global.f90, messy_clamsbmix_si.f90,
    messy_clamschem_si.f90, messy_clamscirrus_si.f90, messy_clamssedi_si.f90,
    messy_clams_si.f90, messy_clamstraj_si.f90:
    missing SAVE attributes added
  - messy_clamstraj_calc3d.f90: "* -x" statements corrected to "* (-x)"
- CHANNEL:
  - messy_main_channel_bi.f90 (main_channel_init_coupling): diagnostic output
    only for I_VERBOSE_LEVEL>0

Changes by Nicole Thomas:
- config/mh-linux-64: updated for JURECA @ JSC
- CHANNEL:
  - messy_main_channel_bi.f90: - update of DIM-IDs, REPR-IDs for CLaMS
			       - new time axis coordinate variable
				 (JULIAN_SECONDS) for MBM CLaMS
- MPI
  - mess_main_mpi.f90: updates for MBM CLaMS
  - mo_mpi.f90: additional function p_sum_2d_int
- MMD (messy_main_ppd_bi.inc): updates for MBM CLaMS
- TRANSFORM (messy_main_transform_bi.f90): exclude USEs for MBM CLaMS
- DISSOC: update
- TOOLS: optional parameter l_print for read_nml_open, read_nml_check,
  read_nml_close
- TIMER (messy_main_timer_bi.f90): usage of optional parameter short in
  SUBROUTINE event_print corrected

Changes by Patrick Joeckel:
- messy/util/fname2trig.tcsh, trigadjust.tcsh: bug-fixes
- CLOUDOPT: new CTRL-namelist parameter loice to switch between
  ice cloud emissivity after Ebert and Curry (1992) (TRUE, default) and
  ice cloud emissivity after Rockel et al. (1991) (FALSE)
- nml/LG/AIRTRAC/WECARE:
  - all scalc*.nml: added option 1 for call from global_start
  - all cloudopt*.nml: loice = F
  - all import*.nml adapted to current state (naming convention)

Changes by Christine Froemming:
- CONTROL (ECHAM5): call sequences adjusted to meet the needs of CONTRAIL and
  AIRTRAC
- CONTRAIL: update

******************************************************************************

messy_d2.52g (20 May 2016)

Changes by Patrick Joeckel:
- MESSy2_CHANGELOG updated
- CH4:
  - missing broadcast of CPL namelsit parameter l_ef_re added
  - LG part modified according to GP modifications

Changes by Franziska Frank:
- CAABA/MECCA:
  - 4 additional initial SCENARIOS added
- MECCA:
  - CCMI-base-02-ISO_nmo.bat updated
  - nmo.rpl and mim1-CCMI-base-02-ISO_nmo.rpl updated
  - tag_FHM.cfg, tag_IH.cfg, tag_IH.src updated
  - new CCMI-base-02-ISO_nmo.tex
- new submodel TRSYNC to synchronize water isotopologue tracer between
  hydrological cylcle and chemistry:
  - CONTROL (messy_main_control_e5.f90):
    - change order of h2oiso_physc and mecca_physc
    - add trsync: trsync_init_memory, trsync_init_coupling, trsync_physc(flag),
		  trsync_init_tracer, trsync_initialize
  - SWITCH (messy_main_switch.f90): USE_TRSYNC   = .false.
- CH4:
  - messy_ch4_si.f90
    - ch4_new_tracer: rename HDO tracer to HDO
    - HDO will always be created, if isotopologues are requested via namelist
    - changed hdo_molarmass into REAL(DP)
    - added KIE for photolysis rate
    - added optional empirical formula from Eichinger et al (2015)
  - messy_ch4.f90
    - added KIE for photolys rate
- H2OISO:
  - messy_h2oiso_e5.f90:
    - excluded chemistry completely (changed h2oiso.nml accordingly)
    - typo line 290 corrected
    - corrected setting of molarmass in h2oiso_new_tracer around line 398
      => implemented array of molarmasses (line 152)
    - delta-value calculation removed

Changes by Mariano Mertens:
- TAGGING: update

Changes by Benedikt Steil:
- MTSKIP: update with fixes/features for correct restarts

Changes by Patrick Joeckel:
- TOOLS/strato3bud: modified to work alternatively with qm1 instead of H2O
- E4CHEM: equipped with MESSYTENDENCY and commented lines cleaned up
- MTSKIP: mtendmtskip_q handling also for MECCA
- MECCA (messy_mecca_si.f90): new CPL-namelist switch i_H2O_feedback
  for (direct) feedback of chemical water vapour production on specific humidity
- TENDENCY: error message, if tracers have not been registerd
- DIUMOD: bug-fixes for compilation with MESSYTENDENCY
- messy/util/dau-ngrade.tcsh updated
- ECHAM5 (5.3.01) finally removed
- messy/nml/README.txt updated
- WARNINGS updated
- all tendency.nml updated
- E5VDIFF: corrections for MESSYTENDENCY usage
- update of all *switch*nml and links to (empty) e5vdiff.nml

Changes by Huug Ouwersloot:
- new (currently empty) submodel VERTEX (as upoming alternative for E5VDIFF)
- new submodel E5VDIFF (modularisation of ECHAM5 vdiff):
  - ECHAM5 (5.3.02 only!):
    - mo_memory_g3b.f90: additional pointers az0hi, az0hw, az0hl
    - physc.f90: call to vdiff excluded via MESSY preprocessor directive
    - vdiff.f90: modifications for MESSy removed
  - DATA (ECHAM 5.3.02, VERTICO):
    - new pointers and channel objects rho_surf, evapw
    - channel object references to (g3b) az0hw, az0hi, az0hl
    - long-name and unit correction of cdh
  - SWITCH: new switches for E5VDIFF and VERTEX
  - CONTROL (ECHAM5): calls to E5VDIFF entry points
  - MXL (messy_mxl_si.f90): pointers xim1 and xlm1

Changes by Patrick Joeckel:
- MPI (messy_main_mpi_bi.f90): additional realisation p_allgather_3d2d
  of p_allgather

Changes by Astrid Kerkweg:
- MBM IMPORT_GRID (import_grid.f90, messy_main_grid_trafo_scrp.f90): bug-fixes

******************************************************************************

messy_d2.52f (05 Apr 2016)

Changes by Patrick Joeckel:
- INT2LM (int2lm_150611_2.02_messy):
  - src_namelists.f90:
    - internal preprocessor directive __F95__ to exclude Fortran2003 IOMSG
      extension of READ; currently the directive is set for g95 (__G95__)
      and Lahey/Fujitsu (LF)

Changes by Mariano Mertens:
- OFFEMIS: error message, if namelist settings are incomplete

Changes by Christopher Kaiser:
- TOOLS: SUBROUTINE spec2relhum_q corrected

Changes by Patrick Joeckel:
- ONEMIS: security check implemented in init_coupling; if TAGGING is active
  only emission method M=1 works (NO, C5H8) correctly

Changes by Andreas Baumgaertner:
- CESM1: several updates for MESSy couling; modified files:
  atm_comp_mct.F90, fv/dp_coupling.F90, se/dp_coupling.F90,
  se/inidat.F90, se/restart_dynamics.F90,
  messy_main_channel_c1.inc, messy_main_control_c1.f90
- DATA (CESM1): updates
- IMPORT_GRID: updates for unstructured grids; modified files:
  messy_main_grid_bi.f90, messy_main_import_grid_bi.f90,
  messy_main_import_grid_tools_bi.f90, import_grid.f90,
  messy_main_grid.f90, messy_main_grid_tools.f90, messy_main_grid_trafo.f90,
  messy_main_grid_trafo_scrp_base.f90, messy_main_grid_trafo_scrp.f90,
  messy_main_import_grid.f90,
- TRACER: tracer initialisation for CESM1
  (messy_main_tracer_bi.f90, messy_main_tracer.f90)
- CESM1-SMIL files (check, if to be merged with _si-files!) for
  - AEROPT: messy_aeropt_c1.f90
  - RAD: messy_rad_c1.f90
  - VERTDIFF: messy_vertdiff_cam_c1.f90
- DDEP: messy_ddep_si.f90 updated
- PTRAC: messy_ptrac_si.f90
- SEDI: messy_sedi_si.f90
- messy/util/se2fv_regrid.ncl update
- messy/util/yam.tcsh: update

Changes by Mariano Mertens and Astrid Kerkweg:
- DATA (COSMO): calculation of surface friction velocity for AIRSEA
- CONTROL (COSMO):
  - call of tagging_vdiff(2) moved after airsea_vdiff
- CONTROL (ECHAM5):
  - call of rad_init_coupling after scalc_init_coupling
  - call of scalc_global_end at end of global_end

Changes by Astrid Kerkweg:
- configure.in / Makefile.in (COSMOv5.0): inclusion of INT2LM v2.02
- master Makefile.in: define preprocessor flags for INT2COSMO
- COSMOv5.0:
  - netcdf_io.f90: bugfix for COSMO5.0_clm7 included
  - direct access to MESSy tracer fields with preprocessor directive
    MESSYTRAC enabled. affected files (only COSMOv5.0):
    near_surface.f90, lmorg.f90, hori_diffusion.f90, fast_waves_rk.f90
    organize_physics.f90, organize_satellites.f90, src_advection_rk.f90
    src_conv_shallow.f90, src_conv_tiedtke.f90, src_diagbudget.f90
    src_flake.f90, src_gridpoints.f90, src_gscp.f90, src_input.f90
    src_integrals.f90, src_lheat_nudge.f90, src_mult_local.f90
    src_meanvalues.f90, src_output.f90, src_radiation.f90
    src_relaxation.f90, src_runge_kutta.f90, src_slow_tendencies_rk.f90
    src_soil.f90, src_soil_multlay.f90, src_tracer.f90, src_turbulence.f90
    turbulence_interface.f90
  - direct access to MESSy tracer meta data with preprocessor directive
    MESSYTRACP enabled. affected files (only COSMOv5.0):
    hori_diffusion.f90, lmorg.f90, organize_data.f90, src_advection_rk.f90,
    src_relaxation.f90, src_runge_kutta.f90, src_slow_tendencies_rk.f90,
  - MESSYIDTC removed for COSMO (did not work for non-hydrostatic model anyway)
    affected files: data_constants.f90, lmorg.f90, near_surface.f90,
		    src_input.f90, src_setup.f90
  - changes due to implementation of INT2LM 2.02:
    - code file kind_parameters.f90 added
    - use wp, imp_single, imp_double added: affected files:
      data_parallel.f90, data_parameters.f90, environment.f90, src_setup.f90

    - io_utilities.f90: routines required by INT2LM 2.02 added
    - vgrid_refatm_utils.f90: wp, use different reference_atmosphere routines
      for int2lm and cosmo
- INT2LMv2.0
  - src_lm_fields.f90: bugfix for decomposition dependency
  - src_runge_kutta.f90: bugfix, initialise wcon
  - MESSYIDTC removed for INT2LM (did not work for non-hydrostatic model anyway)
    affected files: external_data.f90, src_2d_fields.f90, src_vert_interpol.f90
  - removed unused additional diagnostic fields for MESSYTWOWAY
    affected files: data_fields_lm.f90, src_lm_fields.f90,
		    src_vert_interpol.f90
  - src_read_coarse_grid.f90: bugfix refatm undefined
  - src_read_ext.f90: bugfix: dimensions incorrect, vcoord_in undefined
- INT2LMv2.02:
  - implemented for COSMOv5.0 subdir src_i2c_new
    (INT2LM v2.0 in subdir src_i2c_old) INT2LM version is switsch via
    preprocessor directive I2CINC202 for new (I2CINC for old) INT2LM code
  - src_lm_fields.f90: bugfix for decomposition dependency
- GRID_BI: include special case for geo-graphical coodinates in regional model.
- IMPORT_GRID_BI, IMPORT_GRID_TOOLS_BI:
     bugfix, enable 3-D fields (x-y-nparam) with parameter axis /= Nx2D fields.
     itype = 6 introduced
- IMPORT / GRID: label for easier debugging of SCRIP grid calculations added
- GRID (SMCL): error message added
- CHANNEL_I2C.inc:
  - include additional flags / fields required by INT2LM v2.02
  - unused additional diagnostic fields for MESSYTWOWAY removed
- CHANNEL_E5.inc:
  - new representation GP_1D_ILEV defined
- DATA_BI: MESSYIDTC for COSMO removed
- CONTROL_COSMO: MESSYIDTC removed
- MMD2WAY_PARENT:
  - define kminfac with representation GP_1D_ILEV
- MMD2WAY_CHILD:
  - initialise PD_NUM
  - 2 bugfixes for hsurf_full
  - MESSYIDTC removed
- MMDCLNT:
  - nullify pointer
  - take over developments from MMD2WAY_CHILD to keep both as similar as
    possible
  - changes due to implementation of INT2LM 2.02
- TROPOP:  MESSYIDTC for COSMO removed

Changes by Christiane Hofmann:
- MMD2WAY_PARENT:
  - replaced INT by NINT in calculation of istartlon, istartlat etc.

Changes by Patrick Joeckel:
- E4CHEM:
  - new CPL namelist switch I_ice_feedback (default: 1) to disable (0)
    feedback to ice (xi)
  - new CPL namelist switch I_H2O_feedback (default: 0) to enable feedback
    to specific humidity
- all namelist files corrected according to file naming convention:
  (netCDF files renamed, links with old names created for
   backward compatibility)
  - X_DLR1.0_X_sfmr_c100ppt_01-12.n -> X_DLR1.0_X_sfmr_c100ppt_X-X.n
  - Bell_2002_X_all_CH3I_20001-200012.n -> Bell_2002_X_all_CH3I_200001-200012.n
  - RETRO_v2DLR1.0_X_anth_CO_20001-200012.n ->
    RETRO_v2DLR1.0_X_anth_CO_200001-200012.n
  - WOA_MPIC1.0_clim_C5H8_200001-200012.n ->
    WOA_MPIC1.0_clim_X_C5H8_200001-200012.n
  - X_X_X_X_VOC_X-X.n -> X_X_X_X_VOC_01-12.n
  - X_X_X_X_NO_X-X.n -> X_X_X_X_NO_01-12.n
  - X_X_X_X_NOemisclass1_X-X.n -> X_X_X_X_NOemisclass1_01-12.n
  - X_X_X_X_NOemisclass2_X-X.n -> X_X_X_X_NOemisclass2_01-12.n
- WARNINGS updated
- SCALC:
  - scalc_integrate (formerly scalc_global_end) is now called
    from scalc_global_start and scalc_global_end; namelist parameter
    extension (integer) at end of CALC(.): calculate in global_start (1),
    in global_end (2, default), in both (3)
  - all *scalc*.nml updated
- MESSy2_CHANGELOG updated

******************************************************************************

messy_d2.52e (01 Feb 2016)

Changes by Rolf Sander:
- MECCA: update of gas.tex (NCPDKETENE added)

Changes by Patrick Joeckel:
- xmessy_mmd, config/mh-linux: updates for pa2 @ DLR
- VERTICO: main.mk updated
- NML-setups: dead links removed

Changes by Franziska Frank and Sergey Gromov:
- MECCA_TAG:
  - updates and new configuration files (see messy/tools/tag/CHANGELOG)
  - bug-fix for setting links to tag files correctly

Changes by Patrick Joeckel:
- KP4: updates to re-enable vectorised solvers
- MECCA (messy_mecca_box.f90): workaround to re-enable vectorised solvers

Changes by Rolf Sander:
- for details of CAABA/MECCA updates, see messy/mbm/caaba/CHANGELOG
- CPP conditional MECCA_TAG for vertico mbm
- messy/util/validate: individual, basemodel-specific log-files to avoid
  overwriting

Changes by Domenico Taraborrelli and Rolf Sander:
- gas.tex: R_Henry value of N2O5 changed from 1E4 to 1E14 (bug fix)

******************************************************************************

messy_d2.52d (11 Feb 2016)

Changes by Sergey Gromov:
- MECCA:
  - gas.spc: some corrections in LaTeX labels
  - update, DBL removed
  - all batch-files updated

Changes by Sergey Gromov and Patrick Joeckel:
- MECCA:
  - gas.tex: duplicate entries removed ('C1ODC2O2C4OOH', 'C1ODC3O2C4OOH'
    'C33CO', 'CO23C3CHO', 'HOCH2COCHO', 'HOCH2COCO2H')
  - xmecca, *.bat:
    - hidden feature to select kpp controlfile (kppctrlfile) via batch-file
    - hidden feture to ignore the checks via batch-file (ignorecheck)

Changes by Rolf Sander:
- messy_mecca_dbl_si.f90 and messy_mecca_dbl_si.f90-zero: PRIVATE DP added
- mbm/mecca/mecca.f90: CALL initialize_kpp_variables cannot be removed,
  it must be replaced by CALL initialize
- MECCA: several bug-fixes for polyMECCA
- jvpp_step3.f90, jvpp/dat_lit/spectra/*.nml: meccanum renamed to eqntag
  because "equation tag" is the official KPP name
- kp4/bin/kp4.sh, kp4/templates/initialize_kpp_ctrl_template.f90 and
  mecca/template_messy_mecca_kpp.f90:
  - debugging subroutine check_kpp_input deleted again
- gas.tex: R_Henry value of HNO3 changed from 1E4 to 1E14 (bug fix)
- messy/util/site-lisp: new directory for emacs *.el files
- messy/util/site-lisp/mydiff.el: new file for analyzing the mddiff
  output with emacs

Changes by Sergey Gromov:
- ECHAM5 (5.3.02): correction of lookup error condition (INT -> NINT)
- DIUMOD: new submodel for calculating diurnal cylce modulation
- TRACER_PDEF: unit mol/mol/s (for rates) now recognised
- QTIMER: new time category "real" based on 2015-01-01 00:00:00
- SCAV:
  - correctly NULLify pointers in messy_scav_mem.f90 and messy_scav_si.f90
  - replaced DBLing by TAGging
- messy/tools/tagdbl replaced by messy/tools/tag
- CAABA:
  - scenarios renamed, some new with preprocessor selection
  - manual updated w.r.t to TAG

Changes by Klaus-Klingmueller, Marina Astitha and Astrid Kerkweg:
- ONEMIS: bug-fix in dust emission (subroutine dust_emissions_DU_Astitha1,2):
  gravimetric soil moisture wsgrav correctly calculated as percentage

Changes by Huug Ouwersloot:
- TROPOP: corrected  ricr=0.25_dp (instead of 0.30_dp) in subroutine pblheight
  according to Vogelezang and Holtslag (1996)

Changes by Rolf Sander and Patrick Joeckel:
- MECCA (messy/echam5/smil/specific.mk, messy/smcl/specific.mk):
  - replace option -nocheck by -WB (Intel Compilers) to activate
    run-time checks in DEBUG(OPT)-mode, but turn compile time errors
    on ind_* = 0 out-of-bounds messages into warnings

Changes by Christine Froemming:
- ATTILA (messy_attila.f90): some minor bug-fixes after forcheck analysis

Changes by Patrick Joeckel:
- config/mh-linux-64: -O2 and -fp-model strict for all Intel compilers
- generate optimisation report files (*.optrpt) from Intel compiler; delete them
  and prevent them from being zipped; modified files:
  - libsrc/ifs/Makefile.m
  - libsrc/rttov7_synsat_vector/src/Makefile.m
  - Makefile.in
  - messy/mbm/cmat/advect/main.mk
  - messy/tools/meteodiag/main.mk
  - messy/tools/meteodiag/zipmeteodiag.tcsh
  - messy/util/zip.sh
  - config/mh-linux-64

Changes by Andrea Pozzer (thanks to Sergey Gromov):
- AIRSEA: bug-fix in airsea_calc_kl_sea (Liss & Merlivat)

Changes by Hendrik Merx, IBM (and for porting to 2.52 Sergey Gromov):
- ECHAM5 (5.3.02):
  - configure.in (configure), Makefile.in
    new option --enable-E5SGHOST for ECHAM5 SSCALABLE GHOSTING
    (allowing a higher degree of distributed memory parallelisation)
  - mo_decomposition.f90, mo_tpcore.f90: equipped with E5SGHOST

Changes by Patrick Joeckel (thanks to Sergey Gromov):
- CHANNEL (messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90):
  - bug-fix: missing status check introduced after
    CALL (p)netcdf_write_attribute_list

Changes by Astrid Kerkweg:
- MMD2WAY (messy_mmd2way_child_si.f90):
  - bug-fixes (correctly nullified pointers)

******************************************************************************

messy_d2.52c (20 Oct 2015)

Changes by Patrick Joeckel:
- DDEP (SMIL):
  - included N_predepvel == 0 condition for switching off DDEP
    / terminating simulation
  - create channel (GP) if L_GP and L_LG are both false, but
    N_predepvel > 0
- config/mh-linux-64, xmessy_mmd: updates for mistral @ DKRZ
  Note: module for compilation need to be loaded in this order:
   intel/14.0.3 mxm/3.3.3002 fca/2.5.2379 bullxmpi_mlx/bullxmpi_mlx-1.2.8.3
- MECCA (messy_mecca_si.f90): bug-fixes in calls to kpromanlev_to_nbl

Changes by Rolf Sander:
- MECCA (messy_mecca_si.f90): bug-fix for polyMECCA

Changes by Patrick Joeckel (thanks to Daniel Kunkel):
- MADE3 (SMIL): bug-fix (corrected rank identifier for MESSYTENDENCY)
- MTSKIP (SMIL): bug-fix; currently pxtte is also required, if
  MESSYTENDENCY is used (for initial value calculation); this needs
  to be cleaned up

Changes by Daniel Kunkel:
- JVAL (SMIL): bug-fix (position of preprocessor directive MESSYTENDCY
  for l_feedback)

Changes by Mariano Mertens:
- DATA: additional pointers;
	calculation of CDH for calculation of PBLH in COSMO
- SCALC (SMIL):
  - unit check (WARNING to log-file)
  - new operator SUMGE0 for consecutive summation of objects
    as long as destination object is zero (< 1.e20)
- TEMIS:
  - update
- TROPOP (SMIL): calculate planetary boundary layer height according to two
		 different definitions for both, ECHAM5 and COSMO

Changes by Franziska Frank:
-DDEP: increase NMAX_PREDEPVEL to 250 (from 60)

Changes by Patrick Joeckel:
- MECCA (SMIL): bug-fix, if MESSYTENDENCY
- config/mh-linux-64: FCKLIBS updates for DLR-Cluster
- CH4: first steps towards a doxygen-based documentation
- VISO:
  - enable multiple calls to viso_init_coupling
  - additional check (for object name uniqueness) in viso_initialize
- CONTROL (ECHAM5, COSMO, CESM1): 2nd call to viso_init_coupling
- TRACER:
  - SMCL: - new subroutine set_tracer_properties and corresponding
	    type T_TRACPROP_IO with variable TPROP to overwrite
	    tracer meta information (container contents) via CTRL namelist
  - BMIL: - tracer_initilaize: broadcast TPROP components after CTRL read
	  - CALL set_tracer_properties from main_tracer_new_tracer(3) before
	    diagnostic output

******************************************************************************

messy_d2.52b (11 Aug 2015)

Changes by Patrick Joeckel:
- MBM VERTICO:
  - links to CHEMGLUE modules created (SMIL and SMCL)
  - CONTROL: calls to chemglue inserted
  - main.mk: create links to polymecca files automatically
- CONTROL (CESM1):
  - calls to chemglue inserted
  - missing calls to ch4 inserted
- CONTROL (COSMO): calls to chemglue inserted
- messy/util/xconfig: gmake mbm moved after creation of mechanisms
- CHEMGLUE: example namelist file (nml/DEFAULTS/chemglue.nml) corrected with
  known dummy parameters
- replaced TABs in all f90 files by 6 spaces
- MECCA
  - graphviz: deleted *.pdf files which have been replaced by mecca_*.pdf
  - mbm/mecca/mecca.f90: initialize_kpp_variables removed
  - gas.eqn: ZERODUMMY removed

Changes by Rolf Sander:
- CHEMGLUE and polymecca:
  - new files:
    - nml/DEFAULTS/chemglue.nml:
      - empty (dummy) namelist for CHEMGLUE
    - util/xmessy_mmd.POLYMECCA_test and nml/POLYMECCA/*.nml:
      - setup for testing POLYMECCA
    - smcl/messy_chemglue.f90:
      - declarations of MECCA batch files
      - subroutines that select a specific chemistry mechanism
    - smcl/messy_chemglue.inc:
      - info about mechanisms, created by xpolymecca
    - smil/messy_chemglue_si.f90:
      - put selected mechanism into meccanum_gp
    - xpolymecca:
      - new script that calls xmecca several times
    - mbm/caaba/mecca/template_messy_mecca_poly_si.f90:
      - dummy file used when polymecca is switched off
  - SMIL:
    - messy_mecca_si.f90:
      - l_polymecca is true when there is more than one chemical mechanism
      - If the CHEMGLUE channel object meccanum exists, it determines
	(via meccanum_gp) which MECCA mechanism ist used.
      - mecca_new_tracer_gp moved to messy_mecca_poly_si.f90
      - USE initialize from messy_mecca_kpp instead of
	initialize_kpp_variables from messy_mecca
      - messy_mecca_si.f90 USEs several subroutines and variables from
	messy_mecca_kpp.f90. Some are specific for each MECCA mechanism,
	some can be used for all:
	- deleted because they are not used:
	  NREACT, APN, REQ_AEROSOL, EQN_TAGS, EQN_NAMES
	- generic, same for all mechanisms:
	  DP, IHT_MAX, IHS_MAX, IP_MAX, jname
	- specific:
	  REQ_HET, NSPEC, REQ_PHOTRAT, kpp_integrate,
	  IERR_NAMES, fill_temp, fill_cair, fill_khet_Tr, fill_khet_St,
	  fill_jx, fill_press, ind_* (USEd without ONLY)
	- same for all mechanisms if the same nml file is used:
	  initialize_kpp_ctrl, l_fixed_step, nfsteps, icntrl, rcntrl,
	  t_steps
	- ignored or not important:
	  - kppoption (must be 4 anyway)
	  - rplfile, wanted, diagtracfile, gas_eqn_file, batchfile (only
	    diagnostic)
	- problem cases:
	    mr2c: without ONLY to get all ind_*
	    c2mr: without ONLY to get all ind_*
    - messy_mecca_aero_si.f90:
      - only cosmetic changes because polymecca does not work with l_aero
  - SMCL:
    - messy_main_switch.f90:
      - CHEMGLUE added
    - messy_mecca.f90:
      - mecca_aero="OFF" is not allowed anymore in mecca.nml file, see
	mecca_read_nml_ctrl (also changed in all /nml/*/mecca.nml)
      - subroutine initialize_kpp_variables removed (contents is now in
	subroutine initialize in messy_mecca_kpp)
      - new subroutines kpromanlev_to_nbl, nbl_to_nblx, and nblx_to_nbl
  - OTHER:
    - gas.eqn:
      - INTEGER :: ZERODUMMY introduced to avoid compiler errors
      - new F90_INIT inline code for tolerances atol and rtol
    - xmecca:
      - new parameter $2 is now $mecnum
      - old $mecnum from batchfile replaced by $submodel
      - if xmecca was started via xpolymecca, $submodel is based on the
	mechanism number
      - LaTeX produces mechanism pdf file that includes $submodel in
	its name, e.g. mecca002nism.pdf
      - xgraphviz and xgraphvizall produce pdf files that include
	$submodel in their names
      - if xmecca was not started via xpolymecca, all polymecca files
	are deleted, and dummy versions of messy_mecca_poly_si.f90 and
	messy_chemglue.inc are created
    - messy_mecca_box.f90 and mbm/mecca/mecca.f90:
      - USE initialize from messy_mecca_kpp instead of
	initialize_kpp_variables from messy_mecca
    - kp4/bin/kp4.sh, kp4/templates/initialize_kpp_ctrl_template.f90 and
      mecca/template_messy_mecca_kpp.f90:
      - debugging subroutine check_kpp_input added
    - bmil/messy_main_ppd_bi.inc:
      - #define _RI_CN_ :,jt
    - bmil/messy_main_switch_bi.f90:
      - CHEMGLUE added
    - echam5/bmil/messy_main_control_e5.f90:
      - CHEMGLUE added
    - util/validate and util/messy_check_04:
      - updated and CHEMGLUE added
    - tools/kp4/bin/kp4.sh and tools/kp4/bin/kp4.tcsh:
      - instead of using the directory def_mecca/, files are copied
	directly into the work directory tmp_workdir/
    - xgraphviz and xgraphvizall: variable $submodel added
  - new restriction for *.bat files: after changing "-" and "." to the
    underscore "_", the file names must be unique and valid Fortran90
    variable names
- xconfig:
  - updated and restructured
- messy_mecca_si.f90:
  - bug fix: fill_press added to SUBROUTINE update_physc_lg
- caaba.f90:
  - documentation with doxygen started (work in progress)
- mh-linux-64: afs path for FCKLIBS on hydra

Changes by Andrea Pozzer:
- mh-linux-64: commented out SPEC_LABLA_LIB, otherwise blas/lapack
  library are not compiled (although the path was empty)
  (Note by PJ: the issue was that there were tabs/spaces behind the "=")

Changes by Hella Riede:
- messy_jval_box.f90: bugfix, for details, see messy/mbm/caaba/CHANGELOG

Changes by Mariano Mertens, Astrid Kerkweg and Patrick Joeckel:
- CONTROL (ECHAM5, COSMO):
  - init_coupling: calls to individual submodels re-ordered according to
		   additional constraints

Changes by Patrick Joeckel:
- config/mh-linux.64: update of FCKLIBS for SuperMUC @ LRZ and hydra @ RZG
- messy/util/efchk: renamed to mfchk with updates and additional first
  parameter (basemodel)
- messy/util/lst2log.gawk: prepend .`basemodel`.log instead of .log
  (this is required, because BMIL and SMIL log files are overwritten
   otherwise, if more than one basemodel is configured)
- ECHAM5,COSMO,CESM1,MBM: Makefile.in: make target 'check' modified
  (efchk -> mfchk with additional first parameter

******************************************************************************

messy_d2.52 (30 Jul 2015)

Changes by Patrick Joeckel:
- WARNINGS updated
- xmessy_mmd: updated for srun multi-prog command file (mistral @ DKRZ)
- DISSOC: integration into grid-point models (ECHAM5, COSMO) implemented;
  shared SMIL-file for GP models and MBM (the latter based on BLANK)
- Makefile.in: intera completely removed
- xmessy_mmd: updates for mistral @ DKRZ
- configure.in (configure): improved handling of PNETCDF library
- Makefile.in, zip.sh: remove / exclude *.i with distclean / from zipping
- mh-aix: update of PNETCDFROOT on blizzard
- mh-linux-64:
  - updates for mistral @ DKRZ
  - updates for lx*pa.op.dlr.de
- CHANNEL (messy_main_channel_netdf.f90, messy_main_channel_pnetcdf.f90):
  - added attribute _FillValue for CNT and CAV objects

Changes by Andreas Pfeiffer:
- CHANNEL: fix data and time attributes for parallel netcdf output
	   (avoid deviating attributes)
- IMPORT_GRID (messy_main_import_grid_bi.f90):

Changes by Astrid Kerkweg:
- IMPORT_GRID (messy_main_import_grid.f90, READ_CONTROL): bug-fix
- GRID_TRAFO:
  - REDUCE_INPUT_GRID: bugfix for modulo longitude axes
- GRID_TRAFO_SCRP:
  - rename COMPARE_TO_GRID to COMPARE_TO_SCRIPGRID
  - remove component name from structures t_scrip_grid and t_scrip_data (they
    are never used)
- MMD2WAY_PARENT: bugfix: initialise component l_SentUnit
- Makefile.in: @MESSYGRID@ added
- IMPORT_TS mbm updated according to paper

Changes by Christine Froemming:
- CLOUDOPT: bugfix in option #const_tau; corrected output field
- CLOUD (messy_cloud_e5.f90): bug-fix for tendency calculation in
  case l_tf=F and MESSYTENDENCY

******************************************************************************

messy_d2.50x9 (10 Jul 2015)

Changes by Patrick Joeckel:
- MBM IMPORT_GRID
  - link names corrected: messy_main_grid_trafo_nrgd_base.f90 and
    messy_main_grid_trafo_nrgd.f90
  - src/Makefile: dependencies and f90-list updated
  - src/import_grid.f90: updated (change of variable names)

Changes by Astrid Kerkweg:
- COSMO 5.0
  - src_input.f90: bugfix pre-processor directive I2CINC => MESSy
    to exclude "IF (present(lallow_missing)) THEN"
- INT2LM 2.0:
  - src_lm_fields.f90:
    - call additional moisture split only for lgrh=T (TWOWAY ONLY)
    - call to adapt_pressure_3 deleted (TWOWAY ONLY)
  - src_read_ext.f90:
    - set zpolgam to zero if not in input file
  - src_vert_interpol.f90:
    - remove additional calc. of fic_gl (TWOWAY only)
    - remove additional adapt_pressure_2 at end, add vert_interpol u,v at end
- GRID:
  - messy_main_grid_trafo_ncrg.f90 renamed to messy_main_grid_trafo_nrgd.f90
  - messy_main_grid_trafo_ncrg_base.f90 renamed to
    messy_main_grid_trafo_nrgd_base.f90
  - GRID_BI: add meaningful error message for off-line COSMO/MESSy simulations
  - GRID_BI: missing call clean_grihybgrid_list in free_memory added
  - messy_main_grid.f90:
    - new_geohybgrid_by_components: error stati 2008,2009 for
      "grids are equal" and "grid are not equal, but name exists" added
    - compare_to_grid: bugfix cross check for all grid components added
    - clean_geohybgrid_list: subroutine added
    - grid_error: meaning for error stati 2008, 3023 added
  - main_grid_netcdf.f90: rename variable index to idx in all QSRT_X subroutines
  - main_grid_tools.f90:
    - RGTOOL_CONVERT:
	 -remove OPTIONAL for var grid it was never optional,
	 - add test for rlonm, rlatm
    - aline_array, dealine_array:  moved here from messy_main_grid_trafo_scrp
  - main_grid_trafo.f90:
    - SWITCH_GEOHYBGRID: init additionally g%rl*
    - CHECK_NCVAR_ON_GEOHYBGRID: deallocate / nullify dims
  - main_grid_trafo_scrp.f90:
    - aline_array, dealine_array moved to grid_tools
    - renamed imask to lmask in type t_scrip_grid
    - geohyb2scripgrid:
      - bugfix: search curv-lin. fields if local llon and llat not yet defined
      - bugfix: error added for curvi-linear without mid-points defined
      - unused vdim setting removed
      - optional argument added: label for debug output
    - INIT_SCRIPGRID: bugfix: nullify added
    - locate_scripdata: parameter data removed (never used)
			remove OPTIONAL for pdata
    - calc_scrip_data: new generic name for scrip_data ('SD' instead od 'SG')
    - SCRIP_CONTROL:  gix, ggx, svari, qvaro not used. removed
- IMPORT:
  - IMPORT_GRID_BI:
    - bugfix for IXF regridding, ip initialisation added
    - missing call to import_grid_tools_free_memory added
  - IMPORT_GRID_TOOLS_BI: import_grid_free_memory renamed to
      import_grid_tools_free_memory
  - messy_main_import_grid_par.gf90, TRACER_BI: INIT_PNCREGRID renamed to
      INIT_PIMPGRID
  - IMPORT_TS: check for dimension length added
- CHANNEL, DATA, COSMO/src/organize_data.f90:
  - bugfix boundary timeindices into restart  (nbd1, nbd2)
- MMD2WAY_CHILD:
  - remove l_conserv, l_i2cscrip introduced
  - make u,v calculation server dependen
  - logical sent unit of exchange field to parent (as receiver)
  - calculate lons and lats for grids in integer logic: RCF and RCF_IN added
  - vertical interpolation via NREGRID enabled
- MMD2WAY_PARENT:
  - add namelist parameter RCF, RCF_IN to switch integer arithmatic in childs
    grid calculation
  - unit exchange added enabled
  - tendency calculation reformulated
- MMDCLNT / MMDSERV: new required logical argument for unit exchange
		     added in MMD_Inter_Bcast call
- ONEMIS: bugfixes Olson aerosol emissions
- MMD library:
  - mmd_client.f90, mmd_server.f90, mmd_mpi_wrapper.f90,mmd_utilities.f90 :
    - transfer of sending unit added.
    - routine MMD_Inter_Bcast_Character_1 (mmd_mpi_wrapper)
- messy_main_ppd_bi.inc: double entry for #define _RI_YZvr_ removed
- TRACER_BI: set xtf / pxtf for COSMO only if l2tls
- TRACER: setup_tracer_set: NULLIFY for trset(zid)%xt_tl added
- VISO / CONTROL:
  - subroutine viso_global_end added
  - optional argument jjrow added to subroutine viso_local_end
  - call viso_global_end instead of viso_local_end for COSMO

Changes by Astrid Kerkweg and Christiane Hofmann:
- GRID_BI: Define COSMO grid in the same way as in mmd2way_child
- MMD2WAY_PARENT: exclude tracer special treatment for COSMO model

Changes by Christiane Hofmann:
- COSMO 5.0
  - lmorg.f90: move call to "messy_global_end(3)" from directly after
      CALL organize_dynamics to directly before call to messy_global_end(2)
  - src_vert_interpol.f90: Code vor iteration (non-ori code) removed
- messy_main_grid_trafo_scrp_base.f90: reformulate loop interruption of
  iteration with TINY
- messy_mmd2way_child_si.f90: calc_p_hsurf_full added
- CONTROL, VISO, TROPOP: call viso_vdiff and tropop_vdiff in local_end for
   idealised test cases (ppd MESSYIDTC)

Changes by Patrick Joeckel:
- SWITCH: info of MESSYTENDENCY as global attributes
- xmessy_mmd (thanks to Andreas Baumgaertner)
  - RESTART_INTERVAL and RESTART_UNIT for timer.nml
  - updates for CESM1
- WARNINGS: updated
- ORBIT:
  - channel objects (_off) for orbit calculations with offset in time
  - new CPL namelist switch c_offset to set an offset in time for additional
    orbit calculations (default: 0.0)
- MTSKIP:
  - USAge of ORBIT replaced by offset calculation
  - mtskip_radiation moved to mtskip_local_start
    (the two entry points are equivalent, _radiation only exists
    for historical reasons (to be conform with the ECHAM5 call sequence)
  - channel object reference rjval -> rmecca (see explanation in code)
  - some (re-)initialisation moved to global_start for restart consistency
- VERTICO (messy_main_control_vertico.f90):
    - mecca_init_coupling called twice (1,2)
- COSMO (messy_main_control_cosmo.f90)
    - mecca_init_coupling called twice (1,2)
- CESM1 (messy_main_control_cesm1.f90)
    - mecca_init_coupling called twice (1,2)
- JVAL:
    - new CPL-namelist switch l_feedback (default: .FALSE.) to keep
      backward compatibility:
      - l_heating = .TRUE. calculates heating rates only diagnostically
      - l_feedback = .TRUE. modifies temperature tendency (requires
	l_heating = .TRUE.!)

Changes by Benedikt Steil:
- MTSKIP: new submodel allowing the skipping of submodel calculations at
  given time steps; currently only MECCA is equipped with it
  - new files: messy_mtskip.f90, messy_mtskip_si.f90
- TRACER (messy_main_tracer.f90): new integer container for MTSKIP
- MECCA (messy_mecca_si.f90):
  - equipped with coupling to MTSKIP
  - mecca_init_coupling needs to be called twice with flag = 1, 2
- JVAL:
  - feedback of heating rates to temperature tendency
  - equipped with MTSKIP

Changes by Roland Eichinger:
- H2OISO (messy_h2oiso_e5.f90): update with new options for sensitivity studies

Changes by Jens-Uwe Grooss:
- DISSOC:
  - new MBM for photolysis calculation
    (due to dependencies to CLaMS it is not yet complete!)
- messy_cmn_photol_mem.f90: 7 new species added

Changes by Patrick Joeckel:
- CHANNEL:
  - messy_main_channel_repr.f90 (subroutine FAST_REORDER): loops reordered
    to have optimal lhs memory access

Changes by Christopher Kaiser:
- MADE, MADE3: updates
- AEROPT: updates for coupling to MADE, MADE3

Changes by Patrick Joeckel and Holger Tost:
- GMXE (messy_gmxe.f90): changes introduced by BULL activated for all
  platforms; except usage of additional, bull-specific math library

Changes by Holger Tost:
- CLOUD (messy_cloud_e5.f90, messy_cloud_droplet.f90,
	 messy_cloud_lohmann10.f90):
   - changes (bugfixes) for heterogeneous freezing
   - correction of external supersaturation from GMXE

******************************************************************************

messy_d2.50x8 (25 Jun 2015)

Changes by BULL:
- xmessy_mmd:  updates for pitbull and mistral @ DKRZ
- mh-linux-64: updates for pitbull and mistral @ DKRZ
- GMXE (SMCL): various optimisations, mostly in preprocessor directive
- KPP (rosenbrock_mz.f90): loop fusion
- config.sub: new entries for bull system

Changes by Andrea Pozzer:
- AIRSEA: implementation of new parametrization for water side transfer
	  velocity (messy_airsea.f90, messy_airsea_si.f90, airsea.nml)

Changes by Holger Tost (thanks to Mattia Righi):
- CLOUD (messy_cloud_lohman10.f90): bug-fix of rhs indices of zapnx

Changes by Patrick Joeckel:
- CONVECT: CESM1 updates in messy_convect_c1.f90 transferred to
  common messy_convect_si.f90
- GEC (messy_gec_si.f90): code restricted (with preprocessor directives)
  for ECHAM5 and CESM1
- GWAVE: long_name and unit of dummy channel object reset
  (Note: When the parameters replaced by dummy are not required, it might
  be better to remove them also for ECHAM5 ...?)
- SURFACE: SMIL files _e5 and _c1 merged to common _si
- CHANNEL (CESM1, messy_main_channel_c1.inc):
  - new channel objects snc_surf, gld_surf and evwsd for SURFACE
    (required for H2OISO)
- DATA (CESM1): new pointers for new channel objects
- MLOCEAN: SMIL files _e5 and _c1 updated

Changes by Andreas Baumgaertner:
- messy/util/fv2se_regrid.csh, fv2se_regrid.ncl, se2fv_regrid.csh,
  se2fv_regrid.ncl, yam.tcsh: updates
- GWAVE: dummy channel object for calling SMCL for CESM1
- DDEP, DRADON: updates of SMIL files (preprocessor directives for CESM1)
- VERTDIFF: updates
- configure.in (configure): updates of CESM1 specific options, F90NOO3 added
- config/mh-aix: F90NOO3 added
- config/mh-linux-64: updates for ys and pc10-612
- GEC: new submodel for the Global Electric Circuit
- CHANNEL: updates of messy_main_channel_c1.inc
- DATA: updates in CESM1 section
- MPI: updates for CESM1
- TRACER:
  - messy_main_tracer_bi.f90: some special rules for HOMMESE of CESM1
  - messy_main_tracer_pdef_bi.f90: preprocessor directives for CESM1 added
- CESM1: many bug-fixes and updates

******************************************************************************

messy_d2.50x7 (18 May 2015)

Changes by Patrick Joeckel:
- messy/util/xconfig: new option 'b' to compile MESSy Base Models
- STRATOBUD (main.mk): avoid coompilation of tagged/doubled mechanisms
  (reaction coefficients in MECCA are replaced by tag/dbl,
  so it does not work!)
- MBM VERTICO:
  - main.mk: set/remove links to mecca tag/dbl files automatically

Changes by Sergey Gromov and Patrick Joeckel:
- TAGDBL: imcom.inc: correct format (including _dp) for tracer molar mass
  output

Changes by Sergey Gromov and Franziska Frank:
- MECCA: updates of TAG/DBL (hydrogen isotope tagging added)

******************************************************************************

messy_d2.50x6 (06 May 2015)

Changes by Sergey Gromov:
- CAABA/MECCA: updates and bugfixes
  - TAG/DBL:
    - updates of xdbl, xtag due to modified xmecca
    - updates of pascal code
  - gas.eqn: added {@\myhline} everywhere
  - eqn2tex.awk: modifications for tagging
  - meccanism.tex: updated header
  - xmecca:
    - corrected calls to xdbl and xtag
    - corrected status tests
    - bug-fix for Ter
    - updates for tagging

Changes by Hella Riede:
- ECHAM5 (5.3.02 only): mo_nudging_buffer.f90: units corrected, all
  multiplied with 's'

******************************************************************************

messy_d2.50x5 (05 May 2015)

Changes by Sergey Gromov:
- config/mh-linux-64: new entries for tonnerre@mpic
- xmessy_mmd: updates for tonnerre@mpic
- CAABA/MECCA:
  - TAG/DBL: updated for H-isotope, classes shifts
  - new init/emission scenario ISOH
  - messy_mecca_kpp.kpp: added new option for fixed species as comment
    (would be desirable to select this via batch file somehow)
  - messy_mecca.f90: indices ind_oh and ind_ho2 checked for zero in
    subroutine steady_state_reached
  - new batch file: isoh-strat.bat
  - new eqn file: gas_CH4-strat.eqn

Changes by Hella Riede:
- ONLEM: correction of long_name attribute for OC_sum_sol and OC_soa_sol

Changes by Patrick Joeckel:
- keep intermediate files (*.i90) from Intel compiler (*.i90); delete them
  and prevent them from being zipped; modified files:
  - libsrc/ifs/Makefile.m
  - libsrc/rttov7_synsat_vector/src/Makefile.m
  - Makefile.in
  - messy/mbm/cmat/advect/main.mk
  - messy/tools/meteodiag/main.mk
  - messy/tools/meteodiag/zipmeteodiag.tcsh
  - messy/util/zip.sh
  - config/mh-linux-64
- ONEMIS: correction of some long_name attributes ((in)solube->(in)soluble)
- CVTRANS:
  - modifications of new transport algorithm cleaned up:
    - in particular the calls to get_channel(_object) have been removed
      from the time loop and moved to init_coupling
    - modified logic around call of cv_transport to keep the vectorized call in
      classic mode
    - MESSy-non conform USE of other SM (TROPOP) removed; new namelist
      switch pblh for optional coupling to externally calculated
      boundary layer height (this must be set explicitly by the user,
      otherwise switching the diagnostic submodel TROPOP would alter
      the results ...)
    - syntax correction in new call to cv_transport (jl -> jl:jl) since
      arrays are required instead of scalars
    - block with new namelist entries in nml/DEFAULTS/cvtrans.nml
- TNUDGE:
  - revision of new feature for iso-surface vertical boundaries:
    - in particular the calls to get_channel(_object) have been removed
      from the time loop and moved to init_coupling
    - USE to mo_memory_g3b replaced by messy_main_data_bi
    - application of slf (sea-land fraction) for Lagrangian part
      corrected (slf is decomposed in grid-point space and needs to be made
      available globally on each PE)
    - example namelist (explaining new featuers) file in nml/EXAMPLES
- CONTROL (ECHAM5, COSMO, CESM1):
  - tnudge_init_coupling called after viso_init_coupling

Changes by Huug G. Ouwersloot:
- CVTRANS:
  - implementation of alternative transport algorithm
- TNUDGE:
  - new feature to use iso-surfaces (VISO, TROPOP) as vertical
    nudging boundaries
  - land-sea mask optionally used for nudging regions

Changes by Domenico Taraborrelli:
- KPP / KP4:
  - option for faster chemistry calculation by alternative time stepping
    (integrator rosenbrock_posdef_h211b_qssa);
     - modified files:
       - ./messy/tools/kpp/src/gen.c : new function GenerateFun_Split()
       - kp4.sh
     - new files in ./messy/tools/kpp/int:
       rosenbrock_posdef_h211b_qssa.def, rosenbrock_posdef_h211b_qssa.f90

Changes by S. Schneider:
- A2O (messy_a2o_e5.f90), SURFACE (messy_surface.f90):
  - land-sea fractin corrected to fix for presence of lake
    near the coast

Changes by Christine Froemming and Patrick Joeckel:
- ECHAM5 (5.3.02 only):
  - mo_nudging_io.f90: bug-fix for cases when nudging start date is
    before model start date

Changes by Patrick Joeckel:
- configure(.in): update: use PNETCDFROOT as PNETCDF_PATH for pio library
  (only for CESM1)
- mh-linux-64: cleaned up; two host specific blocks merged
- updates for new Bull System pitbull / mistral @ DKRZ:
  - xmessy_mmd:
    - SLURM environment merged with that of FUB
    - new MSH_PENV environment 'srun'
  - all Makefile.in: datarootdir added
  - CESM1: correct USE of dp, i4, STRLEN_* (#ifdef MESSY) in
    shr_dmodel_mod.F90, shr_pcdf_mod.F90, shr_strdata_mod.F90,
    seq_avdata_mod.F90, seq_diag_mct.F90, seq_domain_mct.F90,
    seq_flux_mct.F90, seq_map_mod.F90, seq_io_mod.F90
- xmessy_mmd:
  - MSH_PENV aprun_hlrn merged with existing aprun (with additional MPI_OPT)

Changes by Markus Kunze:
- mh-linux-64: updated for FUB computers
- xmessy_mmd: updates for SLURM batch scheduler, aprun_hlrn for Cray System
  at HLRN (Hosts nid*, bxcmom*); updates for hosts strat*,calc* (at FUB),
  soroban*, node* (at FUB)
- RAD (messy/smcl/messy_rad_short_cmn.f90):
  fix: deleted reinitialisation of ZSUN4(1) at line 363, as it overwrites
  the possible changes via namelist with the original default value.
- MLOCEAN (messy/echam5/smil/messy_mlocean_e5.f90):
  Changes necessary to be conform with new channel interface in the
  subroutines: mlocean_init_memory, mlocean_init_coupling.
  Cleaned the code: removed old commented statements related to streams, etc.

Changes by Christine Froemming and Patrick Joeckel:
- TREXP: introduction of two new "emission point types" 3 and 4,
  which behave the same as 1 and 2, respectively, but create
  additional channel objects (for each involved tracer) with
  the emissions (sum over all points of type 3 and 4)
- CONTROL (ECHAM5): move call to contrail_global_end after call to
  trexp_global_end

Changes by Mariano Mertens:
- CONTROL (ECHAM5 and COSMO): scout_init_coupling moved to the end
  of messy_init_coupling (to be able to scout MMD2WAY fields)

******************************************************************************

messy_d2.50x4 (01 Apr 2015)

Changes by Patrick Joeckel:
- MECCA (messy_mecca_khet_si.f90), MSBM (messy_msbm_si.f90),
  AIRTRAC (messy_airtrac_e5.f90), ATTILA (messy_attila_e5.f90),
  HETCHEM (messy_hetchem_e5.f90), MECCA1 (messy_mecca1_e5.f90),
  ONLEM (messy_onlem_e5.f90):
  some SAVE attributes added to poitner array variables
- TOOLS: pointer arrays nullified
- CHANNEL:
  - messy_main_channel_bi.f90 (2x): string length of EXP_NAME fixed to 14
    characters, subsequent underscore added to file-basename
- feature fix: suppress output of nudging channels (nudg, nudg_gp) outside
  the nudging time span; note that nudging memory (incl. stream) is
  deallocated at nudging stop-date; thus subsequent output of channel
  objects accesses not associated pointers ...
  - ECHAM5 (only 5.3.03!):
    - mo_nudging_constants.f90: new logical lnudg_out which is true, if
      nudging memory is allocated and thus output possible
    - mo_nudging_init.f90:
      - set lnudg_out according to state of nudging
      - fix output/rerun settings for ECHAM5 nudging stream (nudg_gp)
  - CHANNEL:
    - messy_main_channel_bi.f90 (ECHAM5 only): suppress channel output
      of channels nudg and nudg_gp (depending on lnudg_out)
    - messy_main_channel.f90:
      - new structure members (t_channel_int):
	- lrst_now (similar to lout_now)
	- lforce_rst, lsuppr_rst
      - subroutine set_channel_output: new optional parameter lrst
	to force/suppress restart output instead od standard output
      - subroutine trigger_channel_output: set lrst_now
    - messy_main_channel_io.f90: use lrst_now instead of lrst

******************************************************************************

messy_d2.50x3 (31 Mar 2015)

Changes by Astrid Kerkweg:
- MMD2WAY: special option with new namelist switch (ldiagonly) to
  transfer only diagnostic fields from C to E; modified files:
  messy_mmd2way_parent_si.f90, messy_mmd2way_child_si.f90
- MMD (mmd_client.f90): bug-fix

******************************************************************************

messy_d2.50x2 (26 Mar 2015)

Changes by Astrid Kerkweg and Mariano Mertens:
- INT2COSMO (only 2.0, src_namelists.f90):
  - bug-fix, linitial_d correctly declared
- MMD2WAY (messy_mmd2way_child_si.f90 and messy_mmd2way_parent_si.f90):
  - updates and bug-fixes
- MMD library (mmd_client.f90 and mmd_server.f90):
  - bug-fixes in free memory
  - bug-fix to allow zero fields from child to parent

Changes by Patrick Joeckel and Mariano Mertens:
- CONTROL (ECHAM5, 2x), ECHAM5(initialize.f90, 2x):
  - preprocessor directives (#ifndef MESSYTIMER) moved from initialze.f90
    to messy_main_control_e5.f90, subroutine messy_setup, case(2)

Changes by Patrick Joeckel:
- xmessy_mmd: update
- TEMIS (messy_temis_si.f90): bug-fix, no comma in USE without ONLY
- MMD2WAY (messy_mmd2way_parent_si.f90): subroutine Define_data_arrays,
  force server channel objects into restart files for restart frequency
  independent results
- all tnudge*nml: longitude range 0.0,360.0 replaced by -360.0,360.0

******************************************************************************

messy_d2.50x1 (17 Mar 2015)

Changes by Mariano Mertens:
- TEMIS: new submodel (currently only called from COSMO) for
  specific time dependent emissions (map + time function separated)
- LNOX, JVAL: some channel objects put to restart files for
  MECO(n) setup with downscaling; required for restart independent results
- MMDSERV (messy_mmdserv_si.f90): subroutine Define_data_arrays,
  force server channel objects into restart files for restart frequency
  independent results

Changes by Christiane Hofmann:
- INT2LM
  -src_decomposition.f90: bugfix for slongitudes_in
- TROPOP: calculation of Turbulenz Index and Brunt-Vaeisaelae frequency added
- MMDSERV / MMD2WAY_PARENT: correction for COSMO grids on southern hemisphere

Changes by Astrid Kerkweg and Mariano Mertens:
- IMPORT_GRID: skip input grid reduction for IXF regridding in domain
	       decomposition (determination of range of parameter axis
	       delivers wrong values otherwise)

Changes by Astrid Kerkweg:
- configure.in (configure): new option --enable-MESSYTWOWAY for INT2COSMO
  extensions required for 2-way coupling
- Makefile.in:  Makefile.in, cosmo/Makefile.in: @MESSYTWOWAY@ added
- INT2COSMO: expanded for two-way coupling, e.g., diagnostic and additional
  adjustment of surface pressure added; modified files:
  - int2cosmo_131101_2.00/src/data_field_lm.f90
  - int2cosmo_131101_2.00/src/src_lm_fields.f90
  - int2cosmo_131101_2.00/src/src_read_coarse_grid.f90
  - int2cosmo_131101_2.00/src/src_vert_interpol.f90
  - messy/bmil/messy_main_channel_i2c.inc
- INT2COSMO: conservative interpolation via SCRIP (MESSy submodel GRID)
  implemented; modified files:
  - int2cosmo_131101_2.00/src/external_data.f90
  - int2cosmo_131101_2.00/src/interp_utilities.f90
  - int2cosmo_131101_2.00/src/src_2d_fields.f90
  - int2cosmo_131101_2.00/src/src_coarse_interpol.f90
  - messy/smil/messy_mmd2way_child_si.f90
- INT2COSMO: src_2d_fields.f90: introduce compiler directive MESSYIDTC
  consistently throughout the file.
- INT2COSMO: compiler directive MESSYIDTC introduced: modified files:
  - int2cosmo_131101_2.00/src/src_vert_interpol.f90
  - messy/smil/messy_mmd2way_child_si.f90
- INT2COSMO: switch lgrh introduced to switch between generalised humidity
  and individual treatment of humidity variables; modified files:
  - int2cosmo_131101_2.00/src/src_vert_interpol.f90
  - int2cosmo_131101_2.00/src/src_lm_fields.f90
  - messy/smil/messy_mmd2way_child_si.f90
- COSMO 5.0/ INT2COSMO_2.0:
  - io_utilities.f90: set granularity to 1 minute to enable output for time
    steps smaller than 0.25 hours
  - src_output.f90: bugfix, set t_nnow, t_nnew, t_nold only for STATIC_FIELDS
  - src_tracer.f90: bugfix for calculation of qvte_adv
- TRACER:
  - change in time level setting (smcl/messy_main_tracer.f90,
    bmil/messy_main_tracer_bi.f90,COSMO: src_tracer.f90)
- MMD2WAY_CHILD: bugfix in grid definition
- MMD2WAY_PARENT: additional debug output must be activated by local compiler
      directive DIAGNOSTICOUTPUT
- MMD2WAY: wrapper routines for write/read_restart added
- MMDCLNT/MMD2WAY_CHILD: abort simulation, if no namelist entry for pcontrol_fi
			 for E2C

Changes by Patrick Joeckel:
- MECCA: all diagtrac *tex files adapted according to reaction G4504
  (which is now already set in mim1.rpl).
- CHANNEL (messy_main_channel_bi.f90):
  - bug-fix in subroutine initialize_restart_attributes for AMODE_INIT,
    use zdstr = 'start' instead of 'resume'
  - workaround for intel compiler for decomposition type DC_AG in
    subroutine bi_decompose
- TIMER (messy_main_timer.f90): bug-fix in subroutine date_get_components;
  initialize date variables with zero (since always status = 0)

Changes by Rolf Sander:
- MECCA: all rpl-files restructured/updated (new include-file for ESCiMo setup)

******************************************************************************

messy_d2.50x (12 Mar 2015)

Changes by Patrick Joeckel:
- ORACLE:
  - messy_oracle.f90: bug-fix (g95 reported an error) in dimension
    of data fields
  - messy_oracle_si.f90: bug-fix (gfortran reported an error) 1.0d+03 replaced
    by 1.0E+03_dp, 0.d0 replaced by 0.0_dp etc.; DMAX1 replaced by MAX
    (xlf95 (IBM) compiler complained about it)

Changes by Andrea Pozzer:
- MXL (messy_mxl_si.f90): basename->fullname for correct object definitions

Changes by Rolf Sander:
- CAABA/MECCA:
  - rpl and batch files for ORACLE included
  - added new species in gas.tex and gas.spc

Changes by Alexandra Tsimpidi, Vlassis Karydis:
- ORACLE:
  - new submodel
- CHANNEL:
  - messy_main_channel.f90: number of channel references increased to 700

Changes by Franziska Frank and Patrick Joeckel:
- CH4: memory leak fixed

Changes by Sabine Brinkop and Patrick Joeckel:
- ATTILA:
  - messy_attila.f90: dp added to constants in ATTILA_COUNT_CELLS
  - messy_attila_e5.f90: workaround for numerical issues; limit
    ref_func and dref_func to valid intervals

Changes by Patrick Joeckel:
- UTIL:
  - check_objects.tcsh updated
  - two new scripts:
    - fname2trig.tcsh: generates RG_TRIG (trigger) entry for files named
      according to the MESSy data file naming convention
      (use -h option for further info)
    - trigadjust.tcsh (uses fname2trig.tcsh): update RG_TRIG entries
      in namelist file (e.g., import.nml)
      (call without options for usage message)

Changes by Stergios Misios:
- MLOCEAN: bug-fixes (icevoc and fsnet referenced to ECHAM5 instead of g3b)

Changes by Astrid Kerkweg:
- COSMO (5.0): bug-fix in src_tracer.f90, subroutine trcr_calc, CASE(-1)
  if (ladv): missing parentheses added

******************************************************************************

messy_d2.50w2 (13 Feb 2015)

Changes by Patrick Joeckel:
- MBM MECCA (main.mk): exclude dead links from source file list
- MBM VERTICO:
  - link messy_mecca_dbl_common.f90 removed (file does not exist)
  - messy_mxl.f90: dp added to 0.0 in 2 max statements
- CAABA (main.mk): F90R8 removed
- VISO: max. number of maps and iso surfaces increased

******************************************************************************

messy_d2.50w1 (11 Feb 2015)

Changes by Mariano Mertens:
- COSMO (src_slow_tendencies_rk.f90): bug fix; initialise only associated
  pointers

Changes by Mariano Mertens and Astrid Kerkeg:
- I2CINC (src_gribtabs.f90): nullified dummy pointers

Changes by Patrick Joeckel:
- configure.in (configure): new option --enable-MESSYIDTC for idealised
  test cases
- Makefile.in (for SMCL!),
  cosmo/Makefile.in, echam5/Makefile.in: @MESSYIDTC@ added
  NOTE: all f90 files with 'ifname' MESSYIDTC were correctly compiled
  (i.e., with directive MESSYIDTC set) when configured with --enable-MESSYIDTC
- ARTIF: submodel removed
- COSMO/INT2COSMO:
  - l_artif set via or replaced by preprocessor new
    directive MESSYIDTC; modified files:
    - int2cosmo_131101_2.00/src/src_2d_fields.f90
    - int2cosmo_131101_2.00/src/external_data.f90
    - cosmo_131108_5.00/src/src_setup.f90
    - cosmo_131108_5.00/src/src_input.f90
    - cosmo_131108_5.00/src/near_surface.f90
    - cosmo_131108_5.00/src/lmorg.f90
  - src_tracer.f90 declarataion of qvte_adv moved to module header
- ECHAM5 (5.3.02 only!): l_artif set via or replaced by preprocessor new
  directive MESSYIDTC; modified files:
  - scan1.f90
- DATA (messy_main_data_bi.f90): l_artif removed and replaced by
  preprocessor directive MESSYIDTC
- INTERA: removed from distribution
- config/mh-*: emos and sphere library settings removed
- CHANNEL:
  - messy_main_channel_bi.f90: output of parallel-IO decomposition table
    in subroutine main_channel_init_coupling
- CLOUDOPT: bug-fix in call to rad_std (subroutine cloudopt_radiation)

******************************************************************************

messy_d2.50w (10 Feb 2015)

Changes by Mariano Mertens and Patrick Joeckel:
- xmessy_mmd: updates for SuperMUC @ LRZ; optional use of Intel MPI instead
  of IBM poe (currently required for MECO(n) with n>1)
- COSMO
  - l_bicub_spl removed from all &CONTROL namelists in all INPUT.nml

Changes by Mariano Mertens:
- COSMO (5.00)
  - src_input.f90: corrected character comparison
  - src_conv_tiedtke.f90: exclude ztrcr from parameter list to subroutines
- EC2COSMO:
  - dp added to undef
- CONTROL (COSMO):
  - call to tagging_init_tracer moved
- MMDCLNT
  - messy_mmdclnt_si.f90: workaround for Intel Compiler at LRZ, use
    rank instead of associated status for pointer
- TAGGING:
  - revised tracer initialisation

Changes by Patrick Joeckel:
- MMD2WAY (messy_mmd2way_parent_si.f90): PUBLIC attribute for dummy routine
  mmd2way_parent_global_end for CESM1 added
- DATA (CESM1): dummy variable l_artif declared
- COSMO (5.00):
  - src_tracer.f90, subroutine trcr_calc:
    qvte_adv declaration modified due to compiler error message (g95)

Changes by Astrid Kerkweg:
- INT2COSMO (2.0) / MMDCLNT / MMD2WAY
  - set l_bicub_spl = F for E2C and T for C2C
  - set yinput_model = 'CM' for E2C and 'COSMO' for C2C
- COSMO:
  - specifik.mk comments deleted
  - data_constants.f90:
    - introduced compiler directive MESSYARTIF (comment in here or define
       in Makefile to use artif-setting in data_constants.f90)
    - define constants consistently to EMAC or ITC in case of MESSYARTIF
    - use COSMOs own radius of earth.
  - io_utilities.f90: set ztgranul to dt for MESSy models to enable more
    frequent output.
  - lmorg.f90:
    - introduce third entry point for global_end
    - delete #ifndef MESSy directive in nullify_tracers
  - netcdf_io.f90:
    - check for 't' in lsm (used to indicate tracers)
  - parallel_utilities.f90:
    - optional parameter lsum added to enable addition of overlapping
      contributions
  - src_advection_rk.f90: revised tracer handling
    - block for boundary calculations for MESSy moved before tracer conversion
      loop
    - MESSy specific tracer conversion loop deleted
    - access as advection starting point always nnew (for correct operator
      splitting)
  - src_input.f90
    - optional compiler directive added to allow to start from COSMO restart
      files for COSMO/MESSy (comment in COSMORESTART, or define it in Makefile
      if required)
    - compiler directive STATIC_FIELDS defined for ifdef MESSY
    - tracer input revised for STATIC_FIELDS
    - switch off date check for simulation start date in files
  - src_output.f90
    - compiler directive STATIC_FIELDS defined for ifdef MESSY
    - tracer output revised for STATIC_FIELDS
    - output logic l_COSMO_now / L_BM_ORIG_OUTPUT revised
    - debug output added for interpolation to pressure levels
  - src_radiation.f90
    - add initialisations of fields (for MESSy only)
    - change ",js," to ",js:js," in call of  fesft (section 8)
  - src_setup.f90
    - set zexpfac back to 6 (for the time being)
  - src_slow_tendencies_rk.f90
    - initialise number of fields in complete_tendencies_init
    - revised tracer handling in compute_moisture_divergence
    - initialise fields in implicit_vert_diffusion_uvwt
  - src_tracer.f90
    - make  t_nnew, t_nnow, t_nold PUBLIC
    - bugfix setting in meta_list for I_DAMP
    - tracer struct definition: lsm gets 't' entry to indicate tracers in
      COSMO code (e.g., in src_output)
    - trcr_calc revised: save advective tendency, special entry for
      entry from compute_moisture_divergence (take only advective tendency
      in account here, the subroutine itself does not calculate a change in qv)
    - metadata: add clipping for tracer defined by 'COSMO' and 'MASSFLX_CLP'
      for qv and qc
- ECHAM5
  - dyn.f90: bugfix: ECHAM5 did not compile without MESSy because sigmadot is
    undeclared
- CHANNEL:
  - new dimenions / representations for MMD2WAY specific output
- DATA (COSMO): use statement for data_modelconfig cleaned up
- MPI:  lsum added for output accumulation of specific data objects
- TIMER: calculate nstop and hstop in messy_timer_COSMO_reinit_time
- CONTROL: add entry points for MMD2WAY
- INT2LM (2.0)
  - src_lm_output.f90: enable for on-line coupled I2C-output
  - src_namelist.f90:
    - l_bicub_spl / linital no longer read, determined by MMDCLNT/2WAY
    - omit error if model date does not fit date in input file
- GRID:
  - print_XXX routines improved, verbose_level added
  - set_surface_pressure moved to grid_tools
- TOOLS:
  - tautsp2D (added, original code from COSMO model)
- MMDCLNT:
  - enable I2C original output

Changes by Christiane Hofmann:
 - NEW submodel ARTIF, introduce artifical setup:
   - COSMO:     lmorg.f90, near_surface.f90, src_input.f90, src_setup.f90
   - ECHAM5:    scan1.f90
   - MESSy:     DATA, SWITCH, CONTROL
   - INT2COSMO: external_data.f90, src_2d_fields

Changes by Patrick Joeckel:
- VERTICO: adapted to new "MBM_BLANK" naming and entry-point conventions;
  modified files: vertico.f90, messy_main_control_vertico.f90

Changes by Andrea Pozzer:
- config/mh-linux-64: updates for dresden@MPIC
- AIRSEA:
  - messy_airsea.f90: bug fixed for Nightingale parametrisation (param_kw =4)
- messy/util/modify_restart_date corrected; working only with NCL
- TOOLS:
  - mpiom_grid.f90: bug fixed for correct reading/writing of mpiom grid
    (single precision reading, double precision writing)

Changes by Ruud Janssen and Andrea Pozzer:
- VERTICO: NEW MBM
- CHANNEL:
  - messy_main_channel_bi.f90: additional directives for BM VERTICO
- DATA:
  - messy_main_data_bi.f90: new block for BM VERTICO
  - messy_main_constants_mem.f90:
    new constant rho_air = standard density of air [kg/m3]
- GRID:
  - messy_main_import_rgt_bi.f90: additional directive for BM VERTICO
- MPI:
  - messy_main_mpi_bi.f90: additional directives for BM VERTICO
- MMD:
  - messy_main_ppd_bi.inc: additional directive for BM VERTICO
- SWITCH:
  - messy_main_switch_bi.f90: new blocks for BM VERTICO
- TIMER:
  - messy_main_timer_bi.f90: correction of DAYOFYEAR (FLOOR instead of NINT)
   !!! affected SMs: CMAT, MMD2WAY, RADJIMT, MMDCLNT, SPACENOX
- TRACER:
  - messy_main_tracer_bi.f90: additional directives for BM VERTICO
  - messy_main_tracer_pdef_bi.f90: additional directives for BM VERTICO
- MXL: new submodel
- DDEP
  - zxtems declaration only for ECHAM5 (or CESM1)
- MECCA_AERO, MEGAN:
  - pxtems only USEd in ECHAM5
- MECCA_KHET: qm1 and qte not used
- JVAL:
  - messy_main_jval_si.f90: additional directives for BM VERTICO
- OFFEMIS: special blocks for VERTICO
- ONEMIS:  special blocks for VERTICO
- PTRAC: additional directives for BM VERTICO

Changes by David Cabrera and Andrea Pozzer:
- MEGAN: 3CAR -> CAR3
- BIOBURN: update; changes in representation (3d_1lev)

Changes by Patrick joeckel:
- xmessy_mmd, config/mh-linux-64: updates for SuperMUC @ LRZ

Changes by Sabine Brinkop and Patrick joeckel:
- CONVECT (messy_convect_si.f90): bug-fix for cloud top height of
  shallow convection (cth_shal)

******************************************************************************

messy_d2.50v (15 Jan 2015)

Changes by Christiane Hofmann:
- TROPOP, DATA: add / correct vorticity calculation

Changes by Astrid Kerkweg:
- cosmo/specific.mk: new comand for src_sso.f90
- COSMO_5.0 / INT2LM 2.0 / MMDCLNT :
  define / use reduced total dimensions for MMDC4
  - INT2LM 2.0: src_decomposition, data_int2lm_parallel, setup_int2lm.f90
  - CHANNEL (messy_main_channel_bi.f90 and messy_main_channel_i2c.inc)
  - MPI: init_par_utilities
- COSMO 5.0:
  - src_output.f90: bugfix for SDI output
  - src_tracer.f90: reduce tracer module output depending on izdebug
- MMD:
  - mmd_partest.f90: bugfix for iarray
- BLATHER: new output routine dbg_message(_bi) setting output amount depending
	   on level set (subroutine set_talkativeness) and switch l_DEBUGOUT
  also effected: MMDCLNT / MMDSERV
- CHANNEL:
  - messy_main_channel_cosmo.inc define always T_S_BD
  - improve attributes for vertical dimensions
  - info output for IGNORE
- PPD: added rank identifiers
- TRANSFORM: improved output of subroutine locate_in_decomp_nrst
- INT2LM 2.0: subdir 1.11.0 zipped to reduce number of small files
- GRID
  - messy_main_grid_trafo: subroutines for rotations of U and V
  - messy_main_grid_trafo_scrp: bugfix vr => vd
- TIMER:
  - correction for julfrac calculation (thanks to Bastian Kern)

Changes by Holger Tost:
- MECCA (messy_mecca_si.f90): bug-fix for mechanisms without H2O

******************************************************************************

messy_d2.50u (18 Dec 2014)

Changes by Andreas Pfeiffer and Joerg Behrens (DKRZ):
- ECHAM5 (5.3.02 only!), NUDGING: reduced memory footprint on mo_nmi.f90

Changes by Christine Froemming:
- CLOUDOPT: bug-fixes in calculation of gamma and omega and weighting
  with cloud fraction;
  Note: This fixes a severe error which entered the code into d2.50p!

******************************************************************************

messy_d2.50t (11 Dec 2014)

Changes by Christine Froemming:
- CLOUDOPT:
  - perturbation option updated
  - benchmark test implemented (additional cover of 1% with tau=0.3 in one
    layer)

Changes by Patrick Joeckel (thanks to Markus Kunze):
- WARNINGS: updated
- DATA (ECHAM5), messy_main_data_e5.f90: convert um1 and vm1 into
  new channel objects (instead of references) and calulate wind vector
  (without cos(lat) !!!) in messy_main_data_global_start consistently with
  qm1, xim1, xlm1 and tm1

******************************************************************************

messy_d2.50s (05 Dec 2014)

Changes by Sabine Brinkop:
- TROPOP: cold point diagnostics revised
- ATTILA: bug-fixes for I_VERT=2 (thedadot hybrid vertical velocity);
  ref_func as 3 dimensional field

Changes by Patrick Joeckel:
- tools/prodloss: updated
- MECCA:
  - messy/mbm/caaba/mecca/rpl/include/mim1.rpl: <G6413>, <G6414>, <G6415>
    excluded for downward compatibility

Changes by Rolf Sander:
- two values for SCAV corrected/updated in messy_cmn_photol_mem.f90:
  CALL add_henry('OXL', 3.26E6_dp, 7285._dp) ! {&3062} only SCAV
  CALL add_henry('HOCH2CO2H',2.83E4_dp, 4029._dp) ! {&2401}

Changes by Sergey Gromov:
- complete update of the tagging and doubling directory tools/tagdbl/

Changes by Patrick Joeckel:
- AEROPT: bug-fix; corrected detection of imported fields for conversion
	  with box-height of 1/m into 1/box

******************************************************************************

messy_d2.50r1 (10 Nov 2014)

Changes by Patrick Joeckel:
- MBM MECCA: Makefile.m and main.mk created (for gmake mbm)
- MECCA
  - messy_mecca_si.f90: batchfile added as global channel attribute
  - gas.eqn: function uef re-introduced, but only as comment
  - mim1.rpl: added removal of 4 equations not present in MIM1
  - mim1-CCMI*bat / CCMI*rpl: updated for backward compatibility
  - mim1-CASiMIR*bat / CASiMIR*rpl: new (formerly ts2000*)
  - diagtrac/CASiMIR.tex (based on ts2000*tex)

Changes by Rolf Sander:
- CAABA/MECCA updated to version 3.7e: for details, see
  messy/mbm/caaba/CHANGELOG
- config/mh-linux: F90=g95 added for host bromine
- new web page for sfmakedepend mentioned in several main.mk and
  Makefile.m files
- messy_main_constants_mem.f90: h and c added; update to CODATA
  recommended values, 2010
- messy_main_tools.f90, messy_main_rnd.f90: forcheck cleanup
- messy_e4chem_box.f90: initialization of CCl4 in x0_mtchem deleted,
  value 5.605E-45 is too small
- xconfig:
  - "COMPILER=G95" added to confopt for bromine
  - "COMPILER=INTEL" as defalt for mpc01 Linux Cluster
- new MESSy base model messy/mbm/mecca, which is a very simple model
  that uses the MECCA submodel

******************************************************************************

messy_d2.50r (07 Nov 2014)

Changes by Patrick Joeckel:
- messy/util/jnl/scal_1sim.jnl: updated for arbitrary simulation times
- KP4 (kp4.sh): added function alpha_AN
- MECCA:
  - caaba/mecca/graphviz/spc_extract.awk, xgraphvizall: S chemistry added
  - new CCMI-sens-01.rpl (= merged nitrates_mim1.rpl by Domenico Taraborrelli
			    with CCMI-base-02.rpl)
  - new CCMI-sens-01.bat batch file
  - updated CCMI.tex, CCMItag.tex, CCMI-airtrac.tex for new replacements
    Note: CCMItag.tex and CCMI-airtrac.tex need to be checked again before
	  production

Changes by Domenico Taraborrelli:
- MECCA (gas_mim1.eqn): new function alpha_AN

Changes by Patrick Joeckel:
- config/mh-linux-64: update for SuperMUC at LRZ, -lpthread removed

Changes by Mariano Mertens and Astrid Kerkweg:
- COSMO (5.0), src_conv_tiedtke.f90: bug fix
  (in case of MESSY, do not pass ztrcr_con as argument ptrcr_con
   to call of cu_tied, since it is not allocated)

Changes by Mariano Mertens:
- messy/smil/specifik.mk: Intel compiler (Linux64) error workaround,
  compile messy_msbm_si.f90 with -O0
- DATA (COSMO): bug-fix in call of interpol_stag2mid, subroutine
  main_data_global_start
- TOOLS: bug-fix in interpol_stag2mid

******************************************************************************

messy_d2.50q (20 Oct 2014)

Changes by Franziska Frank:
- CH4:
  - new entry point ch4_vdiff
  - extension for isotopologues: CTRL namelist, extended CPL namelist

Changes by Duy Cai:
- ECHAM5 (5.3.02):
  - mo_time_control.f90: default time step for T31L90MA

Changes by Patrick Joeckel:
- CONVECT:
  - messy_convect_si.f90: zlookupoverflow to distinguish from
    USEd lookupoverflow
  - messy_convect_tiedtke.f90: lookupoverflow = .FALSE.
- CLOUD:
  - messy_cloud_ori.f90: LOOKUPOVERFLOW = .FALSE.
- messy/util/time2yyyymmdd_hhmm.tcsh: update
- ORBIT:
  - improved time message to log-file in case of MESSYTIMER
  - new CPL-namelist switch l_quiet (default: .FASLE.) to switch off
    log-messages during time loop
- RAD:
  - improved time message to log-file in case of MESSYTIMER
  - new CPL-namelist switch l_quiet (default: .FASLE.) to switch off
    log-messages during time loop
- config/mh-linux-64: update for SuperMUC at LRZ
- OFFEMIS:
  - some checks of channel object attribute 'units' implemented with
    addtional warnings to log-file
  - added channel object attributes offemis_em_method_gp and
    offemis_em_type
- CHANNEL:
  - messy_main_channel_attributes.f90: new TYPE t_att_ptr
  - messy_main_channel_bi.f90: subroutine p_bcast_attribute
- GRID:
  - messy_main_grid_trafo_scrp.f90, subroutine calc_scrip_data:
    - bug-fix: correctly NULLYfied gridarea (thanks to Mariano Mertens)
  - messy_main_import_grid.f90:
    - subroutine READ_CONTROL_WORK: added attribute mmig_input_file
      as variable attribute
      - variable attribute RG_SCALED_BY renamed to mmig_scaled_by
      - variable attribute RG_ORIGINAL_NAME renamed to mmig_variable_name
	and unconditionally applied
  - messy_main_grid_netcdf.f90:
    - new subroutine EXTRACT_NCATT for conversion of netCDF attributes
      into channel object attributes
  - messy_main_import_grid_bi.f90:
    - variable attribute mmig_event_name added
    - new subroutine add_var_attributes
    - modified import_grid_init_memory to convert netCDF variable attributes
      into channel object attributes
  - messy_main_import_grid_tools_bi.f90:
    - new subroutine ncvar2choatt for conversion of netCDF attributes
      into channel object attribute list
    - additional optional parameter
      att for subroutines RGTOOL_BI_READ_NCFILE_5D and RGTOOL_BI_READ_NCVAR_5D

Changes by Holger Tost
- GMXE: bug-fix for OC/BC emission calculation in ESCiMo (aero, aecl) setups
	(thanks to Andrea Pozzer)
- AEROPT: bug-fix, initialisation of aerspec(:)%paerml(:,:,:) = 0.0_dp
	(thanks to Christopher Kaiser)

Changes by Sabine Brinkop:
- ATTILA:
  - call from messy_main_global_end only
  - thetadot and sigmadot vertical velocity options implemented

Changes by Patrick Joeckel:
- LNOX: completely revised code
- TROPOP, TOOLS: cleaned up with forcheck
- MECCA: new ESMVal-butkov.tex, ESMVal-butkov-wet.bat, ESMVal-butkov-wet.rpl
  for CCMI setup with "butkovskaya" rate coefficient replaced
- CESM1: remove @MESSYTENDENCY@ from Makefile.in, beause it does not
  compile/work (yet?) with --enable-MESSYTENDENCY

Changes by Roland Eichinger:
- HSOISO: new submodel
- TENDENCY: bug-fixes, shifted call of main_tendency_init_coupling in
  messy_main_control_e5.f90
- ECHAM5 (5.3.02 only), vdiff.f90:
  several additional variables converted to pointers / channel objects
  of messy_main_data_bi.f90
- DATA: new channel objects required for H2OISO
- CLOUD, SURFACE:
  additional variables converted to pointers / channel objects
  of messy_main_data_bi.f90
- H2O: eqipped with MESSYTENDENCY
- CLOUD (messy_cloud_ori.f90): several _dp added to constants
- messy_main_constants_mem.f90: masses for isotopologues

Changes by Patrick Joeckel:
- config/mh-linux-64: bug-fix in path to forcheck libraries on SuperMUC at LRZ
- messy/util/efchk: option -shmod removed (since it is not compatible
  between version 14.2 and 14.5 of forcheck)
- LNOX: new cloud ice flux parameterisation of Finney et al. (2014) implemented
  (option 5)
- OFFEMIS: string length of tr_data set to 10*STRLEN_XLONG
- QTIMER: calcualation of accumulated times modified to allow for
  continuation after restart (if requested in channel.nml)

Changes by Bastian Kern:
- HD: updates

Changes by Rolf Sander:
- MECCA (xmecca): warn for non-existent equations (diagtrac)

Changes by Astrid Kerkweg:
- COSMO (5.0 only): bug-fix in organize_data.f90
  (set_vcoord_defaults, set_refatm_defaults)
- INT2COSMO (2.0 only): bug-fix in src_namelists.f90
  (set_vcoord_defaults, set_refatm_defaults)

******************************************************************************

messy_d2.50p (27 Aug 2014)

Changes by Sabine Brinkop, Christine Froemming, Michael Ponater and
Patrick Joeckel:
- AIRTRAC: update, coupling to H2O tracer replaced by coupling to specific
  humidity
- CONTRAIL: bug-fixes in memory management
- CLOUDOPT:
  - update with new feature for perturbation calculations
  - real comparison of icldlyr converted to integer comparison
  - new subroutine calc_clcv in SMCL
- RAD: improved error messages, bug-fixes for unit checks

Changes by Mariano Mertens:
- DATA (COSMO): tslm1 set only over land, 273.15 K over sea

Changes by Patrick Joeckel:
- TENDENCY: bug-fix in mtend_request (variable string length with *)
- IMPORT_GRID:
  - messy/mbm/import_grid/src/import_grid.f90, messy_main_import_grid.f90:
    correctly nullified pointer RGT (Intel Compiler in PRODUCTION
    mode complained about it!)
- TRACER:
  - messy_main_tracer_bi.f90, subroutine tracer_init: correctly nullified
    pointer RGT (Intel Compiler in PRODUCTION mode complained about it!)
- config/mh-linux-64: update for netCDF-4 at LRZ
- CH4: new ageing case (i_[gp,lg]_ageing = 2) for emission flux inversion;
       Note: this option can NOT be used with MESSYTENDENDCY

Changes by Holger Tost:
- CLOUD: bug-fixes (array dimensions and variable initialisation, correction
  of radii) for aerosol - cloud coupling; modified files: messy_cloud_e5.f90,
  messy_cloud_lohmann10.f90

******************************************************************************

messy_d2.50o (11 Jul 2014)

Changes by Patrick Joeckel:
- CLOUD:
  - bug-fix in channel name (gmxe_gp instead of gmxe) for CLOUD - GMXE
    coupling
- ATTILA:
  - bug-fix: provide surface pressure in attila_initialize_positions
- CH4: optional emission and age class tracers implemented
  - new CPL namelist switches
    - i_[gp,lg]_nclass_emis_age for n x m CH4_fx emission age class tracers
      with names CH4_fx_eNN_aMM
    - r_[gp,lg]_age_cll for ages (of classes) in days
    - i_[gp,lg]_ageing for the ageing method
    - l_[gp,lg]_adj_tend for tendency adjustment (linearisation)
  - new entry point ch4_init_memory
  - new entry point ch4_global_start
  - new entry point ch4_free_memory
- CONTROL (ECHAM5 and COSMO)
  - call of ch4_free_memory, ch4_global_start and ch4_init_memory
- CONVECT:
  - messy_convect_si.f90: bug-fixes in dimensions of vgustcon and tketconv
- IMPORT_GRID:
  - messy_main_import_grid.f90: modified parameter passed to
    MAIN_GRID_SET_MESSAGEMODE

Changes by Stefan Versick:
- SPE: bug-fixes

******************************************************************************

messy_d2.50n (10 Jun 2014)

Changes by Mariano Mertens and Patrick Joeckel:
- CESM1:
  - messy_convect_c1.f90 removed, now messy_convect_si.f90 is used
  - messy_main_channel_c1.inc, messy_main_data_bi.f90: topmax added
  - messy_main_control_c1.f90: adapted accordingly
- CONVECT:
  - messy_convect_si.f90: preprocessor directives for CESM1
  - all fields for Donner-scheme as REAL(DP), SMCL is compiled
    with F90R8 option anyway

Changes by Astrid Kerkweg:
- DATA, namelists: use consistent names for variables which are on staggered
  grid for COSMO and at grid mid points for COSMO
  um1, vm1, wm1, vol_3d, vom_3d, vom, vol => at grid mid points
  um1_stag, vm1_stag, wm1_stag, vol_stag_3d, vom_stag_3d => on staggered grid
- CONTROL, TOOLS: revised interpol_mid2stag
- COSMO / INT2COSMO:
  - setup_int2lm.f90: bug-fixes
  - src_namelists.f90: bug-fix

Changes by Mariano Mertens and Astrid Kerkweg (approved by Holger Tost):
- CONVECT:
  - SMILification,
  - TKE calculation, convective gust calculation (only for Tiedtke)
- TOOLS: new subroutines interpol_mid2stag and interpol_stag2mid
- COSMO:
  - call MESSy submodel CONVECT (optional)
  - modified files: organize_physics.f90, src_output.f90
  - bug-fix in organize_data.f90 (version 131108_5.00)
- DATA (for COSMO):
  - additional channel objects for CONVECT
  - calculate vervel for CONVECT
  - interpolation of some variables from staggered grid to mid-points
  - set nn = -50 (truncation) as special case for COSMO
- CONTROL (COSMO):
  - conversion of some variables between staggered grid and mid-points
    (Note: there might be a more general solution, see note in file)

Changes by Sabine Brinkop:
- CLOUDOPT, RAD: max. number of calls increased to 30
- CONTRAIL: optional conversion of Lagrangian perturbations to grid-point
	    for use in CLOUDOPT
- AIRTRAC: channel object name for HNO3 SCAV tendency corrected

Changes by Patrick Joeckel:
- xmessy_mmd: new selector ECHAM5_NUDGING_DATA_FORMAT
  (0 for old IEEE, 2 for netCDF); set default nudging data path accordingly;
  Note: ECHAM5 &NDGCTL namelists need to be adapted, example see in E5 setup.
- ECHAM5 (only 5.3.02)
  - mo_nudging_sst.f90: bug-fixes for nudging data in netCDF format

******************************************************************************

messy_d2.50m (30 Apr 2014) => messy_2.50.5

Changes by Phoebe Graf:
- MECCA: correction for VSLS budgeting in diagtrac: CCMI.tex, CCMItag.tex,
	 CCMI-airtrac.tex

Changes by David Cabrera:
- MEGAN : global scaling factor included for tuning

Changes by Andrea Pozzer:
- config/mh-linux-64: updates dor dresden@MPIC, hydra@RZG and mpc01@RZG

Changes by Patrick Joeckel:
- configure.in (configure): LD and LDFLAGS exported to Makefile.in
- ECHAM5 (2x):
  - Makefile.in:
    - set LD and LDFLAGS to $(F90) and $(F90R8) $(F90NOR8), respectively,
      if empty
    - use $(LD) instead of $(F90) for linking
  - TODO: mh-aix: set LD and LDFLAGS correctly, if guess is present
- CHANNEL:
  - messy_COSMO_channel_read_restart renamed to messy_COSMO_channel_readrst
  - messy_I2CINC_channel_alloc_coarse_grid renamed to
    messy_I2CINC_channel_alloc_cg
- MMD*:
  - messy_mmd2way_parent_si.f90: preprocessor directives partly rolled back to
    previous version
  - messy_mmdserv_si.f90: preprocessor directives rolled back to previous
    version
- CESM1:
  - Makefile.in: @MESSYMMD@ removed
- zip.sh: exclude 2 dead links from being zipped
- all Makefile.in and some main.mk:
  revised to make recursive call work with -j option
  (at least on Linux systems)
- libsrc/mct/Makefile.m revised: relative jumps and subdirectory paths
  (absolute paths are dangerous, e.g. after renaming the directory!)

Changes by Mariano Mertens:
- COSMO (5.00):
  - src_tracer.f90: bug-fix for optional parameter lladv

Changes by Sergey Gromov:
- MECCA_TAG/DBL:
  - tracdef.awk: unit mol/mol/s for tracers named PTL* or PTP*
  - imdouble_dbl_si.f90: corrections for MESSYTIMER
  - xdbl: bug fixes
  - imdouble.pas: update

******************************************************************************

messy_d2.50l (03 Apr 2014)

Changes by Patrick Joeckel:
- ### STATUS REPORT:
  - without --enable-CESM1 the distribution
    - compiles (DEBUG) incl. MBMs and TOOLS on the pa-Cluster
      with lf95 (8.10b), g95 (0.93), gfortran (4.8.1), and
      intel (13.1.0 20130121), all with openmpi (1.6.5)
  - with additional --enable-CESM1 the distribution
    - compiles (DEBUG) incl. MBMs and TOOLS on the pa-Cluster
      with g95 (0.93), gfortran (4.8.1), intel (13.1.0 20130121),
      all with openmpi (1.6.5), but NOT with lf95 (8.10b)
    - compiles (DEBUG, DEBUGOPT) on blizzard
- WARNINGS updated
- messy/util/dau-ngrade.tcsh:
  - updated for CESM1, options revised
- CESM1:
  - cesm1/models/drv/driver/ccsm_comp_mod.F90: unallowed multiple saves
    removed
  - cesm1/MAkefile.in: 2 sections for LINUX added (fortran underscore)
- MMD2WAY (messy_mmd2way_parent_si.f90):
  - empty dummy subroutine send_lat_and_lon for CESM1 in CONTAINS area of
    SUBROUTINE Setup_Client_Area
  - #else statments made explicit #elif defined(...) where appropriate
    (required for compilation of CESM1)
- MMD (messy_mmdserv_si.f90):
  - empty dummy subroutine send_lat_and_lon for CESM1 in CONTAINS area of
    SUBROUTINE Setup_Client_Area
- MPI (messy_main_mpif.f90): include mpif.h for CESM1
- VDIFF (-> VERTDIFF):
  - renamed to VERTDIFF (due to a naming conflict error
    (messy_vdiff) reported by the LF 8.10b compiler
  - vertdiff_physc renamed to vertdiff_vdiff to correct according to naming
    convention
- VDIFF:
  - messy_vdiff_tools.f90: double SAVE statement removed
  - messy_vdiff_camhbdiff.f90: double SAVE statement removed
- MPI (messy_main_mpi.f90)
  - messy_mpi_initialize / messy_mpi_setup renamed to main_mpi_setup
- COSMO (2x):
  - CONTROL: messy_setup now called with flag
    1: main_mpi_setup (formerly messy_mpi_initialize)
    2: all the rest
  - src_setup.f90: messy_mpi_initialize replaced by messy_setup(1)
- CESM1 implementation updated according to changes between
  d2.50j and d2.50k:
  - messy_main_control_c1.f90 updated
  - atm_comp_mct.F90:
    - messy_timer_reset_time replaced by messy_time(2)
    - call to messy_time(1) before messy_global_start
    - call to messy_write_restart added
  - ccsm_comp_mod.F90:
    messy_channel_read_restart replaced by messy_read_restart
  - !!! WARNING !!!
    - main entry points
      - messy_beforeadv
      - messy_afteradv
      - messy_tendency_reset
      NOT called
- E4CHEM:
  - subroutine inisulnew moved back from SMIL to SMCL; now with optional
    parameters for npromz as scalar or vector;
  - call in SMIL modified accordingly (preprocessor directive for CESM1)
- xmessy_mmd: updated
- JVST SMIL updated to JVAL SMIL
- configure.in (configure): set default dynamical CESM1 core to
  FVDYCORE
- configuration of pio and mct libraries moved from Makefile.in to
  configure.in (configure); modified files:
  - libsrc/pio/Makefile.m
  - libsrc/mct/Makefile.m
  - configure.in (configure), Makefile.in

Changes by Andreas Baumgaertner:
- CESM1: new basemodel (version 1.2.1):
  - new subdirectory ./cesm1_2_1 with link cesm1 to it
  - new subdirectory ./messy/cesm1
  - new subdirectory ./messy/cesm1/smil with CESM1 specific SMIL file for
    AEROPT, CLOUD, CLOUDOPT, CONVECT, H2O, NCREGRID, RAD, RAD_FUBRAD, VDIFF
  - new subdirectory messy/nml/CESM1 with namelist setups
  - new subdirectory libsrc/mct with MCT library;
    (model coupling toolkit, part of CESM):
    http://www.mcs.anl.gov/research/projects/mct/
  - new subdirectory libsrc/pio with PIO library
    (parallel IO layer for numerical models):
    https://code.google.com/p/parallelio/
  - mh-linux-64:
    - settings for yellowstone @ UCAR
  - configure.in (configure), Makefile.in:
    - extensions for CESM1 basemodel
  - new file messy/cesm1/bmil/specific.mk
  - new file messy/cesm1/messy_setup
  - CONTROL:
    -new file messy/cesm1/bmil/messy_main_control_c1.f90
  - BMLUSE:
    - new block for CESM1 with ltdiag=.FALSE.
  - CHANNEL:
    - messy_main_channel_bi.f90: extensions for CESM1
    - new file messy_main_channel_c1.inc
  - DATA (messy_main_data_bi.f90)
    - new section for CESM1
  - GRID:
    - messy_main_grid_bi.f90: define_basemodel_GEOHYBGRID for CESM1
    - messy_main_grid.f90: new column component for unstructured grids
  - IMPORT_GRID:
    - messy_main_import_grid_bi.f90, messy_main_import_grid_tools_bi.f90:
      preprocessor directives for CESM1 added
  - IMPOR_RGT:
    - messy_main_import_rgt_bi.f90: alternative subrouines and calls
      for CESM1 in preprocessor directives
  - MPI:
    - messy_main_mpi_bi.f90:
      - messy_mpi_initialize renamed messy_mpi_setup (not for COSMO)
      - several extensions for CESM1
    - mo_mpi.f90: preprocessor directives for CESM1 added
  - MMD:
    - messy_main_ppd_bi.inc: CESM1 included
  - SWITCH:
    - new switch USE_VDIFF
  - TRACER:
    - messy_main_tracer_bi.f90:
      - init_pvar and tracer_init expanded for CESM1
      - tracer_init: bug-fix for ldompar = lvarpar = .FLASE.
    - messy_main_tracer_family_bi.f90:
      - extensions for CESM1
  - TRANSFORM (messy_main_transform_bi.f90):
    - new sectionfor CESM1
  - NCREGRID:
    - messy_ncregrid_tools.f90: some alternative blocks for CESM1 (HOMMESE) in
      preprocessor directives
    - messy_ncregrid_control.f90, messy_ncregrid_diag.f90,
      messy_ncregrid_geohyb.f90:
      modifications / extensions for CESM1 (HOMMESE);
      !!! WARNING: namelist incompatibility !!!
  - CONSTANTS (messy_main_constants_mem.f90):
    STRLEN_XLONG, N_A_kmol, OneSiderialDay, omega
  - AEROPT:
    - messy_aeropt_tanre.f90: added init_aero_tanre_dc which does not require
      lat/lon information
  - CLOUDOPT:
    - zinpar and zinhomi set for CESM1 (26 levels)
  - E4CHEM:
    - subroutine inisulnew moved from SMCL to SMIL and expanded for CESM1
  - CVTRANS, DDEP, GWAVE, LNOX, MECCA, OFFEMIS, ONEMIS, PTRAC, QBO, SCAV,
    TNUDGE:
    - preporcessor directives added to SMIL modules
  - JVAL (messy_jval_si.f90):
    - alternative regridding of external ozone for CESM1
  - JVST (messy_jvst_si.f90):
    - preprocessor directives for CESM1
  - MSBM (messy_msbm_si.f90):
    - xlm1_3d, xim1_3d coorectly used for CESM1
  - ORBIT (messy_orbit_si.f90), SORBIT (messy_sorbit_si.f90),
    TAGGING (messy_tagging_si.f90):
    - zproma = npromz(jjrow) for CESM1
  - TROPOP: geosp coorectly used also for CESM1
  - xmessy_mmd: extension for CESM and yellowstone @ UCAR
  - yam.tcsh: updated
  - zip.sh: updates for CESM1
  - VDIFF: new submodel, based on CESM1/CAM5
  - new utils:
    - se2fv_regrid.ncl/.csh, fv2se_regrid.ncl/.csh: conversion tools for
      HOMME-SE simulation data (unstructured grids)
    - mkSrcfiles, mkDepends: required for CESM1 make

******************************************************************************

messy_d2.50k (31 Mar 2014)

Changes by Patrick Joeckel:
- ### STATUS REPORT:
      - compiles (DEBUGOPT) incl. MBMs and TOOLS on the pa-Cluster
	with lf95 (8.10b), g95 (0.93), gfortran (4.8.1), and
	intel (13.1.0 20130121), all with openmpi (1.6.5)

Changes by Astrid Kerkweg:
- COSMO (4.8):
  - src_advection_rk.f90: calls to messy_beforeadv and messy_afteradv
- COSMO (5.00):
  - src_advection_rk.f90: ladv=.TRUE. added to calls of trcr_calc
  - src_tracer.f90: optional parameter ladv added to subroutine trcr_calc;
    calls to messy_beforeadv and messy_afteradv

Changes by Patrick Joeckel:
- ### SEVERAL ADJUSTMENTS TO CORRECT ACCORDING TO NAMING CONVENTIONS ####
  ### 1) The subroutines called from the BASEMODEL are either named
  ###    a) messy_<entry-point> and are located in messy_main_control_<BI>.f90,
  ###       or
  ###    b) messy_<BASEMODEL>_<submodel>_<entry-point>, if they are
  ###       basemodel specific, and are located in the BMIL of the
  ###       correspnding generic submodel.
  ###       This option should be avoided as much as possible!
  ### 2) The main entry points of generic submodels (i.e., called from
  ###    messy_main_control_<BI>.f90) are named main_<SUBMODEL>_<entry-point>
  ###    and are located in the BMIL of the correspnding generic submodel.
  ### 3) The main entry points of ordinary submodels are named
  ###    <SUBMODEL>_<entry-point>, are exclusively called from
  ###    messy_main_control_<BI>.f90, and are located in the BMIL of the
  ###    corresponding submodel.
  ###
  - COSMO (2x):
    - lmorg.f90:
      - call messy_time(1) instead of main_timer_global_start from
	messy_global_start
      - call messy_time(2) instead of messy_timer_reset_time
      - call messy_read_restart instead of messy_channel_read_restart
    - src_input.f90:
      - call messy_COSMO_channel_read_restart instead of
	messy_channel_read_restart('COSMO_ORI')
  - INT2COSMO (2x):
    - setup_int2lm.f90: subroutine names updated
  - ECHAM5 (2x):
    - initialize.f90:
      - call messy_setup(1) instead of messy_setup
      - call messy_setup(2) instead of messy_channel_init_restart
      - call messy_setup(3) instead of messy_main_decomp_setup
    - iorestart.f90:
      - call messy_read_restart instead of messy_ncregrid_read_restart and
	messy_channel_read_restart
    - scan1.f90:
      - CALL messy_beforeadv instead of main_tracer_beforeadv
      - CALL messy_afteradv instead of main_tracer_afteradv
      - call messy_tendency_reset instead of main_tendency_reset (5302 only!)
    - stepon.f90:
      - call messy_time(1) instead of main_timer_global_start
      - call messy_time(2) instead of messy_timer_reset_time
      - call messy_write_restart instead of
	messy_channel_write_output(IOMODE_RST) and messy_ncregrid_write_restart
    - CHANNEL:
      - messy_main_channel.f90: version is now 2.2
      - new main entry point main_channel_setup
      - new main entry point main_channel_write_restart
	-> channel_write_output_bi(IOMODE_RST)
      - main entry point main_channel_write_output with flag
	1 -> main_channel_update_timer
	2 -> channel_write_output_bi(IOMODE_OUT)
      - PUBLIC messy_channel_write_output is now
	PRIVATE channel_write_output_bi
      - PUBLIC messy_channel_init_restart is now
	PRIVATE channel_init_restart_bi
      - messy_alloc_lm           -> messy_I2CINC_channel_alloc_lm
      - messy_alloc_coarse_grid  -> messy_I2CINC_channel_alloc_coarse_grid
      - messy_make_MMDC4_channel -> messy_I2CINC_channel_make_MMDC4
      - messy_channel_read_restart renamed to main_channel_read_restart
    - CHANNEL (COSMO):
      - messy_main_channel_cosmo.inc:
	new specific entry point messy_COSMO_channel_read_restart
	calling main_channel_read_restart('COSMO_ORI')
      - messy_main_channel_i2c.inc:
	- messy_alloc_lm           -> messy_I2CINC_channel_alloc_lm
	- messy_alloc_coarse_grid  -> messy_I2CINC_channel_alloc_coarse_grid
	- messy_make_MMDC4_channel -> messy_I2CINC_channel_make_MMDC4
    - DECOMP:
      - messy_main_decomp_bi.f90: messy_main_decomp_setup renamed to
	main_decomp_setup
    - IMPORT:
      - messy_main_import_bi.f90:
	- new main entry point main_import_read_restart calling
	  main_import_grid_read_restart
	- new main entry point main_import_write_restart calling
	  main_import_grid_write_restart
    - TIMER:
      - new main entry point main_timer_time(flag)
	1: main_timer_set_time
	2: main_timer_reset_time
      - PUBLIC messy_timer_reset_time is now PRIVATE main_timer_reset_time
      - PUBLIC main_timer_global_start is now PRIVATE main_timer_set_time
    - TRACER:
      - messy_main_tracer_bi.f90:
	- tracer_init is now PRIVATE
    - CONTROL (COSMO):
      - call main_channel_setup instead of messy_channel_init_restart
      - call main_import_read_restart instead of main_import_grid_read_restart
      - call main_channel_read_restart instead of messy_channel_read_restart
      - new main entry point messy_time (called from lmorg.f90)
      - removed call to main_timer_global_start
      - call main_channel_write_output instead of messy_channel_write_output
      - call main_channel_write_restart instead of messy_channel_write_output
      - call main_import_write_restart instead of main_import_grid_write_restart
    - CONTROL (ECHAM5)
      - main entry point messy_setup is now called with flag
      - call main_channel_setup instead of messy_channel_init_restart
      - call main_decomp_setup (flag = 3)
      - call main_channel_read_restart instead of messy_channel_read_restart
      - call main_import_read_restart instead of main_import_grid_read_restart
      - new main entry point messy_time (called from stepon.f90)
      - new main entry point messy_tendency_reset (called from scan1.f90,
	5302 only!)
      - new main entry point messy_beforeadv
      - new main entry point messy_afteradv
      - main_channel_write_output now with flag (1,2)
      - call main_channel_write_output instead of messy_channel_write_output
      - call main_channel_write_restart instead of messy_channel_write_output
      - call main_import_write_restart instead of main_import_grid_write_restart
    - MBMs updated according to interface changes listed above):
      - BLANK:   messy_main_control_blank.f90, blank_main.f90
      - CHANNEL: messy_main_channel_bi.f90,    channel_bml.f90
      - TRACER:  messy_main_tracer_bi.f90,     tracer_bml.f90
      - CMAT:    messy_main_control_cmat.f90,  cmat.f90
      - QBO:     messy_main_control_qbo.f90,   qbo_main.f90
      - GWAVE:   gwave.f90
      - SPE:     spe.f90
      - VGLUE:   vglue.f90

******************************************************************************

messy_d2.50j (28 Mar 2014)

Changes by Patrick Joeckel:
- subroutine messy_timer_set_time renamed back to main_timer_global_start
  (MBMs did not compile anymore!)
- xmessy_mmd: MEASUREMODE expanded for usage of debuggers
  (currently for ddt on blizzard @ dkrz)
- ECHAM5 (5301):
  - mo_time_control.f90: l_putrerun now overwritten by l_rerun
  - stepon.f90: new subroutine call messy_timer_set_time from stepon.f90(ECHAM5)
		(previously named main_timer_global_start)
		this is necessary to adjust the rerun output time step to the
		MESSYTIMER

Changes by Mariano Mertens:
- COSMO (2x):
  - src_conv_tiedtke.f90: conv_top and conv_bot calculated, cu_bot and cu_top
    corrected
- DATA (COSMO):
  - conv_top and conv_bot added as channel objects

Changes by Astrid Kerkweg:
- ECHAM5 (5302 only):
  - stepon.f90: new subroutine call messy_timer_set_time from stepon.f90(ECHAM5)
		(previously named main_timer_global_start)
		this is necessary to adjust the rerun output time step to the
		MESSYTIMER
  - mo_time_control.f90: l_putrerun now overwritten by l_rerun
  - scan1.f90: entry point messy_init_loop removed
- COSMO (2x):
  - organize_data.f90: bugfix for TRIM_LEN (original COSMO)
  - src_output.f90:    logical bugfix for mirroring COSMO to MESSy output
  - organize_physics.f90: bugfix: nextrad treated equivalently to hnextrad
- COSMO (5.00 only):
  - src_setup.f90: zexpfac = 10.0_ireals
- INT2COSMO (2x):
  - external_data.f90: bugfix for orography smoothing
  - data_fields_lm.f90: bugfix for orography smoothing
- MMD
  - mmd_client.f90/mmd_server.f90: transfer of weighting function added
- TIMER: subroutine main_timer_global_start renamed to messy_timer_set_time
	called from stepon.f90 (ECHAM5) instead of global_start, was/is called
	from init_loop for COSMO anyhow.
- CHANNEL:
  - messy_main_channnel_bi.f90:
    - bugfix in bcast for hnextrad (COSMO only)
    - nextrad added as restart attribute (COSMO only)
  - messy_main_channel_cosmo.inc: bugfix for definition of vcoord
  - messy_main_channel_i2c.inc: additional field oromem_lm for orography
				smoothing (external_data.f90)
- DATA: use nextrad (COSMO)
- CONTROL:
  - mmd2way_global_start flag removed (COSMO + ECHAM)
  - mmd2way_global_end added (for COSMO in flag(2) region)
  - main_timer_global_start: not longer called from CONTROL for ECHAM (ONLY!!!),
			     called from stepon now and renamed to
			     messy_timer_set_time
- GRID:
  - messy_main_grid_bi.f90:
    - subroutine main_grid_free_memory added (deletes scrip_grid and
      scrip_data lists)
  - messy_main_grid.f90, messy_main_grid_netcdf.f90, messy_main_grid_tools.f90:
    messy_main_grid_trafo.f90, messy_main_grid_trafo_scrp.f90:
     -> some memory leak fixed (OUT => INOUT + CALL INIT_)
     -> cosmetical changes
  - messy_main_grid_trafo_ncrg.f90: optional logical (lstatout) added in
       parameterlist, to prevent output of regridding statistics
- IMPORT:
  - messy_main_import_grid_par.f90: bugfix: set nproc_work = 1 in declaration
     (thanks A. Baumgaertner, error in tracer_init for ldompar=F& lvarpar=F)
- MMD2WAY: CHILD + PARENT
    - pcontrol_fi added
    - weighting function added
    - parent data exchange moved to global_end => adjustment of event trigger
      triggering now fpr "next_date"
    - ECHAM entry ppoint mmd2way_global_start removed
- RUNSCRIPTs:
  - new runscripts: xmessy_mmd.cana* (2x), xmessy_mmd.departure* (2x),
    xmessy_mmd.2w
- namelists:
  - COSMO/INPUT_IO.nml : obsolete ysystem removed
  - MMD/TWOWAYTEST/01/timer.nml:  START/STOP MINUTE/SECOND added
  -                   mmd2way.nml:  clean up, uptodate namelist
  -                02/INPUT_DYN.nml:  realistic rlwidth choosen
  -                   INPUT_ORG.nml:   debug level reduced for less output
  -                   timer.nml:  START/STOP MINUTE/SECOND added
  - new /revised namelist setups:
    - MMD/FS_CANA0440_1WAY_dyn
    - MMD/FS_CANA0440_2WAY_dyn
    - MMD/FS_DEPARTURE_2WAY_dyn
    - MMD/FS_DEPARTURE_1WAY_CONVORI
    - MMD/FS_kyrill_001 (revised)
    - MMD/FS_kyrill_2w

Changes by Gregor Glaeser:
- MMD2WAY_PARENT: calculation of kminfac (vertical damping) revised to
		  actually online calculation via cosine

Changes by Patrick Joeckel:
- configure.in (configure), aclocal.m4, Makefile.in: test for GNU make included

Changes by Holger Tost:
- CLOUD: bug-fix in call to prepare_freezing (kproma-dependency resolved);
  issue was in effect for (experimental) 2 momentum scheme only

******************************************************************************

messy_d2.50i (24 Mar 2014)

Changes by Patrick Joeckel:
- CONTROL:
  - 2 new entry points messy_write_restart, messy_read_restart
- ECHAM5 (2x):
  - stepon.f90: call to messy_write_restart
  - iorestart.f90: call to messy_read_restart
- COSMO (2x):
  - lmorg.f90: calls to messy_write_restart, messy_read_restart

Changes by Sabine Brinkop:
- ATTILA (messy_attila_tools.f90): bug-fix in gpsfemis2lgemis

******************************************************************************

messy_d2.50h (04 Mar 2014)

Changes by Patrick Joeckel:
- ### STATUS REPORT:
      - compiles (DEBUG|DEBUGOPT|PRODUCTION) and runs
	(SHARP-dyn-05 setup) on the pa-Cluster
	with lf95 (8.10b), g95 (0.93), gfortran (4.8.1), and
	intel (13.1.0 20130121), all with openmpi (1.6.5)
	- valgrind (3.9.0) analysis works with lf95, g95 and gfortran,
	  but crashes with intel
      - compiles and runs (DEBUGOPT|PRODUCTION)
	(SHARP-dyn-05 setup, without SATSIMS) on blizzard
- SEDI: bug-fix; initialisation of SSET(i)%vsedi_mass(naermo)%ptr(:,:,:,:,:)
  and SSET(i)%vsedi_num(naermo)%ptr(:,:,:,:,:) (thanks to Holger Tost)
- xmessy_mmd: updates for hydra @ RZG and pa-Cluster @ DLR
- GMXE:
  - messy_gmxe.f90: bug-fix in gmxe_thermo
  - prdry limited to > 1.0e-7_dp (according to Holger Tost) in SUBROUTINE
    gmxe_thermo
- IMPORT_GRID:
  - messy_main_import_grid_tools_bi.f90: memory leaks fixed in
    SUBROUTINEs RGTOOL_BI_READ_NCVAR_5D and RGTOOL_BI_READ_NCFILE_5D
  - messy_main_import_grid.f90:  memory leaks fixed in
    SUBROUTINEs RGTOOL_READ_NCVAR and RGTOOL_READ_NCFILE
- TRACER:
  - messy_main_tracer_bi.f90: fixed memory leak in SUBROUTINE TRACER_INIT
- CHANNEL:
  - messy_main_channel.f90: (minor) bug-fix in clean_channels
- MECCA1 (MBM): special rules for Intel compiler added to specific.mk
- COSMO (131108_5.00):
  - src_tracer_metadata.f90, data_tracer_metadata.f90:
    exclude ISO_C_BINDING for Lahey/Fujitsu AND gfortran

******************************************************************************

messy_d2.50g (19 Feb 2014)

Changes by Patrick Joeckel:
- GMXE: prdry limited to 1e-10 (according to Holger Tost) in SUBROUTINE
  gmxe_thermo
- A2O: babystep = 0.00001_dp for SCRIP interpolation according to
  modification by Andrea Pozzer in messy/smcl/messy_main_gridtrafo_scrip.f90
  pf version 2.42y-ocean)
- config/mh-linux-64: -D__linux__ added for gfortran compiler
  to pick correct surrogate for PXFGETENV in
  libsrc/dwdlibgrib1/source/getEnvironment.F
- TOOLS/biogen/tools.f90: correct OPEN statement for __GFORTRAN__
- COSMO (131108_5.00):
  - src_tracer.f90, INTENT and POINTER
    attributes must not be combined according to the Fortran95 standard
  - src_obs_rad.f90 bug-fix (missing :: added) for LF compiler
- ECHAM5 (5.3.02), dyn.f90: bug-fix dimensioning of sigmah
- TRACER:
  - messy_main_tracer_bi.f90: SUBROUTINE init_pvar revised
  - messy_main_tracer.f90: bug fixes in string lenghts and formats of
     subroutine print_tracer_set
- config/mh-linux-64: updates for Intel Compiler suite on pa-Cluster (DLR)
- xmessy_mmd: updates for pa-Cluster (DLR)

******************************************************************************

messy_d2.50f (14 Feb 2014)

Changes by Sabine Brinkop and Patrick Joeckel:
- AIRTRAC: cleaned up, everything related to contrail removed

Changes by Patrick Joeckel:
- MADE, MADE3 (MBM):
  - messy_made(3)_box.f90:
    - removed non-f95-standard conform contrl characters from strings
    - PUBLIC :: parr (MADE only)
- ATTILA: adapted for MESSYTENDENCY, circular dependencies resolved
  (messy_main_tendency_bi uses messy_main_tracer_mem_bi uses ...
   ... messy_attila_e5 uses messy_main_tendency_bi);
  - new file messy_attila_mem.f90
  - new file messy_attila_mem_e5.f90
  - messy_attila_tools_e5.f90 modified accordingly
- TRACER
  - messy_main_tracer_mem_bi.f90:
    - three new (optional) CPL namelist parameters
      for LG into GP conversion (i_conv_lg2gp_mode, r_conv_lg2gp_fill,
      l_conv_lg2gp_mc)
    - USE NCELL and NGCELL from
      messy_attila_mem.f90 in order to resolve circular dependency
  - messy_main_tracer_bi.f90:
    - format correction (istr) in SUBROUTINE init_pvar
    - USE AMCELL from messy_attila_mem.f90 in
      order to resolve circular dependency
  - messy_main_tracer.f90:
    - format corrections in SUBROUTINE print_tracer_set

Changes by Markus Kunze:
- CLOUDOPT (messy_cloudopt.f90):
  - output zinhoml to log-file
- CONVECT (messy_convect_tiedtke_param.f90, messy_convect.f90):
  - new CTRL_TIEDTKE namelist parameters rset_entrpen and rset_entrmid

Changes by Sabine Brinkop:
- AIRTRAC: update, convert tracers from LG to GP via TRACER
- ECHAM5 (5.3.02), dyn.f90: calculation of sigmadot
- DATA (ECHAM5): new object for sigmadot
- ATTILA: completely revised
  - multiple 3-d fields eliminated (ATTILA_FILL)
  - alternative vertical grids / velocities implemented

******************************************************************************

messy_d2.50e (09 Feb 2014)

Changes by Patrick Joeckel:
- messy/util/check_* adapted to import_grid (instead of import_rgt)
- CHANNEL (messy_main_channel_cosmo.inc): cleaned up bug-fix w.r.t. status
  analysis
- xmessy_mmd, config/mh-linux-64: new entries for hornet cluster at
  University of Connecticut
- MECCA: new rpl/mim1/CCMI-aero-02.rpl with revised OCS chemistry

Changes by Astrid Kerkweg:
- CHANNEL (messy_main_channel_cosmo.inc):
  bug fix for restart frequency indpendence

******************************************************************************

messy_d2.50d (05 Feb 2014)

Changes by Mariano Mertens:
- TAGGING: new submodel

Changes by Patrick Joeckel:
- CONVECT (messy_convect_tiedtke_param.f90): optional overwrite (via
	  namelist) of cmfctop, cprcon, entrscv also for subrountine
	  cuparam_init_1 (i.e., for ECHAM5.3.02)
- ONEMIS:
  - bug fix in calculation of volumetric soil moisture for yl95sl10
    NO emission from soil
  - bug-fix (rank identifiers) in calls of NOemis_yl95sl10_pulsing and
    NOemis_yl95sl10

******************************************************************************

messy_d2.50c (05 Nov 2013)

Changes by Patrick Joeckel:
- ECHAM5 (5.3.02), mo_tr_gather.f90: USE mpi replaced by INCLUDE 'mpif.h'
- ECHAM5 (5.3.02 only), ADVECT: mo_tpcore.f90 re-adapted to TENDENCY
- CLOUD: calculate initial values for cloud cover (including tendency)
  correctly for TENDENCY
- DATA (messy_main_data_bi.f90, COSMO): USE subroutine `spec2relhum_q'
  from messy_main_tools.f90 instead of replicating code
- SEDI: MBM repaired (subroutine mass_density from TOOLS instead of density
  from sedi-SMCL)
- WARNINGS updated

Changes by Christopher Kaiser:
- TOOLS (messy_main_tools.f90):
  - renamed function `density' to `mass_density' and modified it to yield wet
    air density in [kg m-3] rather than in [mol m-3]
  - added new subroutine `spec2relhum_q' that calculates RH as ratio of specific
    humidities
- DATA (messy_main_data_bi.f90):
  - USE subroutine `spec2relhum_q' from messy_main_tools.f90 instead of
    replicating code
- MECCA_AERO (messy_mecca_aero_si.f90):
  - USE function `mass_density' from messy_main_tools.f90 instead of `density';
    modified code accordingly
- SEDI:
  - messy_sedi_si.f90: USE function `mass_density' from messy_main_tools.f90
    instead of local function `density' from messy_sedi.f90
  - messy_sedi.f90: removed function `density'

Changes by Astrid Kerkweg:
- COSMO: updated to 5.00; 4.27, 4.29 removed
- INT2COSMO: updated according to COSMO update
- GRID: cleaned up
- TRACER (messy_main_tracer_bi.f90): updated to revised GRID
  (new feature for initialisation of prognostic variables, see below)
- MMD2WAY: update
- CONTROL: new main entry point init_loop in ECHAM5
- CHANNEL: bug-fix (for COSMO); broadcast of ntke
- DATA/TOOLS:
  new subroutine for calculation of hybrid pressure grid coefficients
- ECHAM5 (5.3.02 only), ADVECT:
  mo_tpcore.f90, mo_semi_lagrangian.f90, mo_spitfire.f90
  add non-zero initial tendency (#ifdef MESSY and #ifdef MESSYMMD ->
  #define _XNOZEROINITEND

Changes by Gregor Glaeser:
- CLOUD (messy_cloud_e5.f90): calculate cloud cover including tendency

Changes by Patrick Joeckel:
- IMPORT_RGT: bug-fix (use correct submodname)
- TRACER: new feature for the initialisation of prognostic variables of
  the basemodel via the CPL namelist in tracer.nml (here seen as a kind of
  feedback of the TRACER submodel to the basemodel); currently only
  'q' (specific humidity of ECHAM5 is implemented);
  - modified files: messy_main_tracer_bi.f90
  - tracer.nml (downward compatible!):
    ini_pvar(.) = basemodel, prognostic variable, input variable,
		  specific method

Changes by Mariano Mertens:
- OFFEMIS: modified for emission into multiple tracers;
  NOTE: this causes a namelist downward incompatibility; all offemis.nml
  modified accordingly

Changes by Astrid Kerkweg:
- COSMO (src_input.f90): bug-fix for restart

Changes by Patrick Joeckel:
- ECHAM5 (only 5.3.02):
  - mo_nudging_sst.f90: surface temperature and sea ice coverage (optional)
    are used from nudging file <NDG_FILE_SST>.nc, if inudgformat = 2 and
    nsstinc > 0 (untested!!!)
  - mo_nudging_init.f90: error message for sst-nudging with netCDF data removed
- subdirectory LICENSE renamed to LICENCE, files updated
- MECCA:
  - new CCMI-base-03.bat (for pre-JPL2011 mechanism)
  - new gas_mim1-preJPL2011.eqn (with pre-JPL2011 mechanism)
    (some equations have been renamed for consistency (rpl, diagtrac) with
    gas_mim1.eqn; FUNCTION uef added)
  - new rpl/mim1-preJPL2011 with CCMI-base-03.rpl

******************************************************************************

messy_d2.50b (05 Nov 2013)

Changes by Patrick Joeckel:
- GRID (messy_main_grid_netcdf.f90):  alternative implementation of
  subroutine ELEMENT according to DKRZ; preprocessor directive _XOLD
  (as in NCREGRID (messy_ncregrid_base.f90), see below)
- IMPORT_RGT: subname=import_grid to avoid the necessity of
  replacing "import_rgt" by "import_grid" in all
  namelists, if configuration was with --disable-MESSYGRID
- IMPORT_GRID, NCREGRID (stand-allone):
  - bug-fixes for PNCREGRID directive
- TRACER (messy_main_tracer_bi.f90, subroutine TRACER_INIT):
  - bug-fix in logic for calling RGTOOL_CONVERT
  - bug-fix in string-length of cevar (tracer full name)
  - preprocessor directive PNCREGRID introduced to enable
    compilation with --disable-PNCREGRID

Changes by Mariano Mertens and Astrid Kerkweg:
- COSMO (4.29/5.0):
  - flexibilisation of number of tracers in COSMO-tracer structure and I/O;
    modified files: data_io.f90, data_tracer.f90, src_setup.f90

Changes by Patrick Joeckel:
- ALL *.nml: 'import_rgt' replaced by 'import_grid'
- MBM NCREGRID and IMPORT_GRID: some updates for configure; Makefile.mpi
  now automatically generated by configure to enable compilation of
  variable-parallel version with gmake -f Makefile.mpi

Changes by Mariano Mertens and Astrid Kerkweg:
- COSMO (130925_4.29):
  - src_tracer.f90: additional check for max. number of COSMO tracers
    (in case of MESSy)

Changes by Mariano Mertens:
- GRID (messy_main_grid_trafo_scrp.f90): bug-fix, test presence of optional
  parameter oarea in subroutine calc_scrip_data

Changes by Patrick Joeckel:
- IMPORT_GRID (messy_main_import_grid_tools_bi.f90):
  - memory leaks fixed in subroutines RGTOOL_BI_READ_NCFILE_5D and
    RGTOOL_BI_READ_NCVAR_5D (as in NCREGRID, see below)
- MBM import_grid configure/gmake for stand-allone updated

Changes by Astrid Kerkweg:
- DDEP:
  - fixes to avoid undefined values/division by zero
  - fractional land sea mask used, instead of 0/1-mask
- DATA/GRID: move definition of BASEGRID_ID to DATA_BI to avoid cyclic
  dependency
- TRACER: use IMPORT_GRID in TRACER_INIT for ECHAM and COSMO
- mmd2way_child / mmdclnt: bugfix for tracer_init switch
- COSMO 4.29 implemented:
      changed submodels: DATA, CHANNEL, SCAV, MMDCLNT, MMDSERV, MMD2WAY
- IMPORT-GRID / GRID_TRAFO:
   - MBM enabled (+ runscript)
   - enable distinction between domain parallelisation and parallelisation
     over species (as before for NCREGRID in ECHAM5 tracer initialisation)
   - subroutine construct_input_surf_pressure moved from GRID_TOOLS to
     GRID_TRAFO_SCRP

Changes by Patrick Joeckel:
- ECHAM5 (only 5.3.02): option to use NUDGING data in netCDF format
  (cdo generated); modified code has been kindly provided by
  Aiko Voigt, Sebastian Rast, and Uwe Schulzweida (MPI-M);
  modified files: mo_nudging_constants.f90, mo_nudging_init.f90,
  mo_nudging_io.f90;
  Note: For reasons outlined in the ECHAM6 documentation
	(June 21, 2013, (2013-02-26), version echam-6.1.06p3-guide-1.3,
	Sect. A.11, by S. Rast et al.), SST usage from netCDF nudging data files
	has been disabled. Thus
	    nsstinc = 0
	has to be set in combination to
	    inudgformat = 2   ! netCDF (default: 0, old IEEE format)
	    ndg_file_nc = ...
	in NDGCTL namelist (ECHAM5.nml).
- ECHAM5 (2x):
  - mo_nudging_init.f90: bug-fix (for nsstinc == 0) according to S. Rast
- CH4: restart flag set for requested channel objects
- NCREGRID (messy_ncregrid_tools_e5.f90): memory leaks (gps) in
  subroutines RGTOOL_E5_READ_NCVAR_4D, RGTOOL_E5_READ_NCVAR_5D,
  RGTOOL_E5_READ_NCFILE_4D, RGTOOL_E5_READ_NCFILE_5D fixed

Changes by Astrid Kerkweg:
- GRID: input from curvilinear grids implemented, modified files:
  messy_main_grid.f90, messy_main_grid_netcdf.f90, messy_main_grid_trafo.f90,
  messy_main_grid_trafo_scrp.f90, messy_main_import_grid.f90,
- MMD2WAY (messy_mmd2way_child_si.f90): clonlen and clatlen set

Changes by Patrick Joeckel (according to Astrid Kerkweg):
- messy/nml/MMD/*/0[>2]/INPUT.nml links replaced by files
- messy/nml/MMD/*/02/INPUT.nml: l_bicub_spl=.TRUE., (in &CONTROL namelist)

Changes by Astrid Kerkweg:
- GRID_TRAFO: subroutine BALANCE_GEOHYBGRID_TIME moved from GRID_TRAFO_NCRG
	      to GRID_TRAFO
- IMPORT / GRID:
   - outfile enabled
   - read reduced grid for limited grids
- MMD2WAY:
  - adaption to changes in GRID / IMPORT
  - test version for tracer tendency coupling
- COSMO 4.27:
  - data_io: character length correction
- TRACER(_FAMILY): subroutines tracfamily_1_t2f, tracfamily_1_f2t,
  tracfamily_2_rsc and tracfamily_2_sum moved to BMIL because of
  decomposition dependence; rank identifiers introduced
- CMAT: addapted to TRACER_FAMILY changes
- MMDCLNT: character length correction (for variable vartab_name)
- MMD2WAY_CHILD: character length correction (for variable vartab_name)
- IMPORT_GRID: bug-fix for vertical regridding in SCRIP-mode
- MPIOM: bug-fix for mpiom grid determination

Changes by Patrick Joeckel:
- xmessy_mmd: corrected measuremode for multi-instance poe
- MPI:
  - messy_main_mpi_bi.f90: #ifndef NOMPI replaced by #ifdef MPI
  - messy_main_mpi_bi.f90, mo_mpi.f90: bug-fixes to enable --disable-MPI
    again

Changes by Gregor Glaeser:
- MMD2WAY: avoid coupling of relaxation zone

Changes by Astrid Kerkweg and Patrick Joeckel:
- MMDCLNT: forced vertical interpolation for tracers
- IMPORT_GRID:
  - subrtoutines RGTOOL_READ_[NCVAR,NCFILE]: free memory of local pointers
    at end of endless do-loop
- CONTROL (COSMO):
  - messy_main_control_c4.f90 renamed to messy_main_control_cosmo.f90
  - messy_main_control_c4.f90: calls to CH4 and TBUDGET
- MPIOM (2x): mo_mpi.f90 merged with messy/bmil/mo_mpi.f90 and replaced by link
- MPI (mo_mpi.f90):
  - new p_bcast routines for kind=sp and int_i4_1d and int_i8_1d
  - merged with mo_mpi.f90 from MPIOM
- configure.in (configure), Makefile.in (COSMO 2x, ECHAM5 2x):
  - new option --enable-MESSYGRID (default = yes) to use new IMPORT_GRID
    instead of IMPORT_RGT

Changes by Astrid Kerkweg:
- namelists: mmdclnt.nml / mmd2way.nml comment w.r.t. wildcards added
- IMPORT_GRID: new subsubmodel
- GRID (incl. GRID_TRAFO): new submodel
- MMD2WAY:
  - implementation of grid_trafo_scrp
  - interpret_namelist adapted to COSMO adapted tracer and wildcards
- MMDCLNT
  - interpret_namelist adapted to COSMO adapted tracer and wildcards
- MMD (library):
  - exchange of interpolation fractions added
- DATA:
  - updates for COSMO
- TRACER:
  - updates for COSMO
- A2O:
  - updated for GRID
- MPIOM (messy_mpiom_e5.f90):
  - grid definition (for GRID) added

Changes by Astrid Kerkweg and Gregor Glaeser:
- COSMO 4.27:
   - data_io: replace LEN=10 with conditionally defined CLEN
	     (for adjustment to longer tracer names in MESSy compared to COSMO
   - data_tracer_metadata, src_tracer_metadata: exclude use of iso_c_binding
	      for _LINUX64 (not available for Lahey, but no special Lahey
	      preprocessor directive available)

******************************************************************************

messy_d2.50 (05 Nov 2013)

Changes by Mariano Mertens and Christopher Kaiser:
- SCAV: compiler error workaround for g95 (0.92 and 0.93); segmentation
  fault at memmove ... contiguous array ... (if nprod = 0); solution:
  array cprod_arr / lprod_arr dimensioned as (.,0:nprod); modified files:
  messy_scav_inter.f90, messy_scav_box.f90

Changes by Patrick Joeckel:
- NCREGRID (messy_ncregrid_base.f90): alternative implementation of
  subroutine ELEMENT according to DKRZ; preprocessor directive _XOLD
- GMXE (messy_gmxe.f90, subroutine gmxe_thermo): alternative solution
  (according to DKRZ) implemented; preprocessor directive _XOLD
- WARNINGS, DIRSTRUCT updated
- new subdirectory LICENSE
- LNOX: new (optional) CTRL namelist parameters (r_Grewe_A, r_Grewe_B)
  to enabble parameter-adjustment for alternative convection schemes
  (default: Tiedtke)

Changes by Patrick Joeckel (thanks to Chrisopher Kaiser):
- RAD (messy_rad_e5.f90): avoid re-calculation of fields with #vgrad-option
  to guarantee restart-frequency independent results
- SURFACE (messy_surface_e5.f90): bug-fix in subroutine surface_mixlo (zproma
  must be set for both cases)

Changes by Holger Tost:
- SATSIMS: bug-fix
- GMXE: bug-fixes for aerosol cloud coupling (modified file: messy_gmxe_e5.f90)
- CLOUD: bug-fixes for aerosol cloud coupling (modified files:
  messy_cloud_e5.f90, messy_cloud_lohmann10.f90)

Changes by David Cabrera:
- BIOBURN: new submodel which creates biomass burning fluxes from GFAS
  - v0.1  only diagnostic
  - messy_main_switch_bi.f90: new submolde: BIOBURN
  - messy_main_control_e5.f90: bioburn_initialize, bioburn_init_memory,
    bioburn_init_coupling, bioburn_vdiff, bioburn_global_end,
    bioburn_free_memory

Changes by Rolf Sander:
- CAABA/MECCA updated to version 3.6: for details, see
  messy/mbm/caaba/CHANGELOG
- JVAL and JVPP updated, for details, see messy/mbm/jval/CHANGELOG

Changes by Markus Kunze:
- RAD_FUBRAD:
  - messy_rad_fubrad.f90:
    - middle_atmosphere_upward_flux_h: optional argument passed to o3fluxes.
    - middle_atmosphere_heat_rates: removed pointer flux_lya
    - fubrad_solar_time_control: deleted spectral resolution 49 from select case
    - messy_rad_fubrad_e5.f90:
      - removed subroutine rad_fubrad_diag; functionality included
	in subroutine rad_fubrad_fluxes
      - subroutine rad_fubrad_fluxes: correct also the shortwave flux profile
	for clear sky conditions flxsf, and the transmissivity profiles
	trsol and trsof
      - subroutine rad_fubrad_flx2tr removed pamu0, prdayl from interface
    - messy_rad_e5.f90:
      - subroutine rad_radheat: additional interface parameters trs1f, trnif
    - messy_rad.f90:
      - subroutine rad_radheat_smcl: Calculate the shortwave fluxes pflxs
	from the addition of ptrsw1 and ptrnir, rather than using ptrsol.
	Analogue for pflxf. This is done because ptrsol and ptrsof are
	modified when fubrad is used.

Changes by Patrick Joeckel:
- mh-config-64: updates for pa-cluster (gfortran 4.8.1)

Changes by Christopher Kaiser:
- MADEIN: removed
- MADE: bug-fixes
- MADE3: update (incl. MBM); HCl / Cl

******************************************************************************

messy_d2.42z (25 Sep 2013)

Changes by Hella Garny and Patrick Joeckel:
- MECCA (diagtrac/CCMI.tex): negative rr-tracers replaced by additonal
  tracers with positive sign

Changes by Holger Tost and Patrick Joeckel:
- ECHAM5 (5.3.02, si1.f90): bug-fix in SPREAD (only relevant for tdiag)

Changes by Patrick Joeckel:
- MECCA (xmecca): replace "+ -" in equation file by "-" after rnrates-option;
  (allow negative diagnostic products)
- messy/util/check_s4d.tcsh: script to check input according to s4d.nml

******************************************************************************

messy_d2.42y (12 Aug 2013)

Changes by Hella Garny:
- MECCA (CCMI.tex):
  - PSC???? -> HET???? corrected
  - G6203 added for LossO3Cl

Changes by Patrick Joeckel:
- MECCA:
  - gas.tex: bug-fix in diagnostic tracer subname

Changes by Holger Tost:
- SCAV (messy_scav_si.f90): corrected aerosol tracer mode association

******************************************************************************

messy_d2.42x (03 Jul 2013)

Changes by Holger Tost:
- GMXE (messy_gmxe_e5.f90): corrected tracer name association
- SCAV (messy_scav_si.f90): corrected tracer name association

Changes by Patrick Joeckel:
- config/mh-linux-64, xmessy_mmd: updates for SuperMUC and SuperMUC-fat at LRZ
- MECCA (xmecca): stop execution if diagtrac-file does not exist
- RAD: new CPL namelist parameter tp_fixed (fixed tropopause channel object,
       e.g. via IMPORT) for adj. RF diagnostics

Changes by Simone Dietmueller:
- RAD: calculate (for strat. adjusted RF analyis) index of fixed
       tropopause (from IMPORT), e.g., for usage in VISO; new object
       tp_fixed_i in channel rad;
       example usage in viso.nml:
	MAP(36) = 'sradt_fix', 'rad', 'tp_fixed', 'rad01', 'flxs',
       Note: object name WITHOUT suffix _i; see documentation of VISO

******************************************************************************

messy_d2.42w (25 Jul 2013)

Changes by Patrick Joeckel:
- MMD:
  - messy_main_ppd_si.inc renamed to messy_main_ppd_bi.inc and moved to
    BMIL; all include statements modified accordingly

Changes by Astrid Kerkweg:
- DDEP: bug-fix in rleaf calculation
- messy_main_ppd_si.inc: new rank identifiers

Changes by Roland Eichinger:
- messy_main_constants_mem.f90: simpler (more accurate) definition of vtmpc1
- CONVECT (messy_main_convect_e5.f90, subroutine convect_CONVEC):
  vtmpc1 USEd from messy_main_constants_mem for internal consistency
- TENDENCY: bug-fixes (dimensioning of pointer zz in subroutines mtend_add_l
  and mtend_add_g)

******************************************************************************

messy_d2.42v (25 Jul 2013)

Changes by Patrick Joeckel:
- TOOLS/prodloss: modified to remove {+ ...} from equations
- MECCA:
  - gas.spc: additional diagnostic tracers added
  - CCMI-aero-01.rpl: diagnostic tracers added

Changes by Holger Tost:
- CLOUD: some updates and bug-fixes (for aerosol cloud coupling)
- GMXE: updates
- SATSIMS: unit correction
- DRADON: aerosol density added for 220Pb tracer
- MECCA: new CCMI-aero-01.bat, OCS.rpl, CCMI.rpl

Changes by Astrid Kerkweg:
- BLATHER (messy_main_blather_bi.f90, info_bi): bug-fix
- TROPOP: bug-fix, plimt-set loop has to start with 3 instead of 2

Changes by Patrick Joeckel:
- TOOLS/strato3bud: new script eqn2f90.tcsh to extract (via gmake tools)
  the required rate coefficients from mecca.eqn and to translate them into
  a Fortran90 include file (rate_coeff.inc), which is included into
  strato3bud.f90 at compile time)
- CHANNEL (messy_main_channel_io.f90): bug-fix in channel_read_data
- NCREGRID (messy_ncregrid_control.f90): ADJUSTL(TRIM(.)) to remove
  leading and trailing spaces from variable names, etc.
- configure.in/configure: bug-fix for --disable-MPI option (compiler selection)
- MECCA: additional diagnostic tracers added to gas.tex (for CCMI)

Changes by Astrid Kerkweg and Patrick Joeckel:
- DATA (ECHAM5): bug-fix in calculation of grmassdry (nproma, npromz!)
- NCREGRID (messy_ncregrid_tools.f90):
  - subrtoutines RGTOOL_READ_[NCVAR,NCFILE]: free memory of local pointers
    at end of endless do-loop
- CHANNEL:
  - messy_main_channel_c4.inc renamed to messy_main_channel_cosmo.inc
  - messy_main_channel_bi.f90: include file messy_main_channel_cosmo.inc

Changes by Christiane Hofmann:
- PTRACINI:  tracer initialisation revised

Changes by Gregor Glaeser:
- ONEMIS: Tegen dust emissions: resolution dependent scale factor for
	  wind stress threshold added; new namelist CTRL_DU
- onemis.nml: Namelist CTRL_DU added to all onemis.nml
	      switch l_nudging only relevant for ECHAM5

Changes by Patrick Joeckel:
- JVAL/JVPP: bug-fix and error message in jvpp_step1.f90

Changes by Rolf Sander:
- JVAL/JVPP: SO2-photolysis

Changes by Roland Eichinger:
- TENDENCY: bug-fix

Changes by Patrick Joeckel:
- WARNINGS updated
- LNOX (messy_lnox_si.f90): bug-fix for channel objects pointer array

******************************************************************************

messy_d2.42u (18 Jun 2013)

Changes by Sabine Brinkop:
- CH4: bug fix in specific humidity tendency calculation for feedback

Changes by Patrick Joeckel:
- util/check_objects.tcsh expanded for RAD namelist files
- RAD:
  - bug-fix in messy_rad_short_v2.f90
- MPI (messy_main_mpi_bi.f90): bug-fix in subroutine p_scatter_4d3d
- COSMO (130319_4.27):
  - src/netcdf_io.f90: #PNETCDF excluded via #ifndef MESSY;
    Explanation: In COSMO the directive PNETCDF is obviously used for
    netcdf-4 features, whereas in MESSy (CHANNEL), PNETCDF is used for
    the presence of the parallel netCDF library ... this is incompatible
  - src_tracer.f90:
    - added empty info_bi to avoid tons of repeated log-output ...
    - several write(0,*) commented out to avoid tons of repeated log-output ...
- CLOUDOPT:
  - bug-fix: INTENT(IN) for pradlp and pradip
- LNOX:
  - bug-fix: attributes (r_scall_eff etc.) for output corrected
  - new option for scale independent cut-off criterion
    (to be set with #define _X_SCALE_INDEPENDENT in messy_lnox.f90)
- TROPOP (subroutine WMOtropop): bug-fix for iplimt and iplimb
  (under certain conditions they could be undefined before)

Changes by Klaus Pankatz:
- RAD4ALL: bugfix for ico2_rad4all = 3: factor 1.e-6 added  (data file is in
  micro-mol/mol)

Changes by Gregor Glaeser:
- ONEMIS:
  - cuscale: resolution dependent scaling factor for dust emission
    implemented (Tegen-scheme)
- JVAL: COSMO specific bug-fixes

Changes by Astrid Kerkweg
- TODO_MMD updated
- MMDCLNT: update
- MMDSERV: update
- messy_main_ppd_si.inc: additional rank identifiers
- COSMO 4.8
  - specific.mk: typo fixed
  - organize_data.f90, src_soil.f90, src_soil_multlay.f90: updates
- COSMO 4.27: tracer handling in COSMO 4.27 completely revised
- DATA (COSMO): updates
- GRID (messy_main_grid_bi.f90): updates
- TRACER:
  - messy_main_tracer_set_gp.f90, SUBROUTINE setup_tracer_set_gp:
    set xt_tl for COSMO
  - messy_main_tracer_mem_bi.f90: POINTER xt_tl for COSMO
  - messy_main_tracer.f90:
    - default values of INTEGER container contents modified
    - additional parameters
    - new SUBROUTINE get_tracer_set_info
    - pointer xt_tl added to TYPE T_TRACERSET
    - optional parameter xt_tl added to get_tracer_set(_by_*)
    - associate pointer xt_tl in setup_tracer_set
- CHANNEL (messy_main_channel_repr.f90): error message for missing
  permutation added

Changes by Christiane Hofmann and Astrid Kerkweg:
- MMDCLNT: enable specific namelist settings for wildcard channel objects
	   (have to be placed before the wildcard in mmdclnt namelist

Changes by Klaus Pankatz:
- EC2COSMO:
  - new representation REPR_ICOLUMN
  - dummy channel object to force interface dimension variables into
    ec2cosmo channel output

Changes by Patrick Joeckel:
- CH4:
  - implementation for Lagrangian (LG) representation; new and modified
    namelist parameters

Changes by Sabine Brinkop:
- TRANSFORM, ATTILA, ATTILA_TOOLS: nullify several pointers at declaration

Changes by Astrid Kerkweg and Harald Rybka:
- CHANNEL (messy_main_channel_bi.f90): bug-fix, broadcast range for
  DEFAULT and channel

******************************************************************************

messy_d2.42t (12 May 2013)

Changes by Patrick Joeckel:
- DISCLAIMER added
- config/mh-linux-64: update
- SATSIMS:
  - bug fix in coupling to radiation (zi0 is in channel rad, not rad01)

Changes by Holger Tost:
- update to SCAV to allow for passive tracers for CCMI
  changes in: messy_cmn_gasaq.f90, cmn_aqattr.f90, aqueous.eqn,
  aqueous.spc, gas.spc,
- config/mh-linux-64: login*.mogon changed to *mogon*,
		      lc2login and mogon moved upwards for NETCDFROOT

Changes by Gregor Glaeser:
- messy/util/locate_f90.sh.in: bug-fix

Changes by Holger Tost:
- AEROPT: bug-fix, conversion of AOD from 1/m to 1/box for AOD from
  import_rgt

Changes by Charlotte Hoppe and Patrick Joeckel:
- DATA: new block for CLaMS MBM
- MPI: additional routines for CLaMS
- SWITCH: switches for new submodels
  CLAMSTRAJ, CLAMSMIX, CLAMSCHEM,CLAMS, CLAMSCIRRUS, CLAMSBMIX, CLAMSDISSOC,
  CLAMSRDFRC, CLAMSCHEME5
- CHANNEL:
  messy_main_channel_bi.f90: DIMids and REPRids for CLaMS; expansion for
  CLaMS MBM
- new library clamschem with remaining fortran-77 code of CLaMS chemistry;
  becomes obsolete, after CLaMS chemistry has been recoded as F90 module(s)
- configure.in: clamschem library added (currently as comment)
- config/mh-linux-64: updates for jj* and icg1*

Changes by Patrick Joeckel (with a lot of help from Holger Tost):
- RAD:
  - 2nd alternative SW radiation scheme implemented (modified according to
    ECHAM5.5 and Thomas, 2008); mess_rad_short split into
    messy_rad_short_v1, messy_rad_short_v1 and messy_rad_short_cmn
    - USE-structure is now
       messy_rad_e5 <| <-- messy_rad_fubrad_e5 <------- messy_rad_fubrad
		     |                                               |
		     |                                               V
		     | <------ messy_rad <| <-- messy_rad_short_v1 <-|
					  | <-- messy_rad_short_v2 <-|
					  |                          ^
					  | <-- messy_rad_short_cmn -|
					  | <-- messy_rad_long
					  | <-- messy_rad_albedo
    - new CPL-namelist parameter i_sw(.) to select SW-scheme

Changes by Patrick Joeckel (thanks to Astrid Kerkweg and Holger Tost):
- CLOUDOPT: bug-fix in subroutine call of rad_std

Changes by Rolf Sander:
- JVAL/JVPP: bug-fix for HCHO; Temperature dependence increased by a factor
  of 10 because of error in Table 2 of Meller and Moortgat (2000).

******************************************************************************

messy_d2.42s (30 Apr 2013)

Changes by Klaus Pankatz:
- ec2cosmo_to_cas.sh : completely rewritten and optimized

Changes by Gregor Glaeser:
- specific compiler options (IBM xlf) for src_sso.f90 in all cosmo*/specific.mk

Changes by Astrid Kerkweg:
- TIMER (messy_main_timer_event.f90): run time switch LDEBUG replaced by
  preprocessor directive
- GRID: new generic submodel, currently with subroutine grid_read_vertaxis
    for COSMO
- COSMO 4.27 and INT2COSMO_1.21 implemented
  - respective preprocessor directives added
  - src_advection_rk: set zuvw_frac to zero 3x (compiler bug blizzard)
- messy/nml/MMD: in all mmdclnt.nml CTRL namelist added (as demanded by
  code change from messy_d2.42k (28 Feb 2013)
- COSMO 4.25 (2x), COSMO 4.21  and COSMO 4.8_clm12 removed
- int2lm_1.10_clm2 and int2lm_1.18 removed
- preprocessor directive COSMOv4s25 removed
- preprocessor directives MESSYQV removed (COSMOv4s27 used instead)
- preprocessor directives COSMOTRAC removed
- preprocessor directive COSMOv4s8clm19 renamed to COSMOv4s8
- preprocessor directive COSMOv4s21 removed
- DATA:
  - bug-fix for relative vorticity calculation (thanks to Jianzhong Ma)
- MMDCLNT: ensure that W_SO is provided by Server

******************************************************************************

messy_d2.42r (30 Apr 2013)

Changes by Simone Dietmueller:
- RAD:
  - messy_rad_e5.f90: CASE(2) for adjustet forcing fixed

Changes by Patrick Joeckel:
- AEROPT:
  - vertical order of aerosol properties modified to natural order
    (top to bottom)
  - merge algorithm revised (subroutine aeropt_merge)
  - l_flip switched removed from READ_INPUT_SETS structure (aeropt.nml!)
  - modified files: messy_aeropt_e5.f90, messy_aeropt.f90, aeropt.nml
- RAD:
  - vertical order of aerosol properties modified; aerosol properties
    are vertically flipped now and expected in natural order
    (top to bottom)
- CLOUDOPT:
  - radii of ice particles and droplets (radlp, radip) as coupling parameters
    (number 6 and 7 in namelist); default parameterisation as own channel
    objects (selected with channel = '#std')
  - modified files: messy_cloudopt_e5.f90, messy_cloudopt.f90, clouopt.nml
- xmessy_mmd: improved chain detection (MSH_DONEXT) for IBM LoadLeveler
- configure.in (configure): detect compiler for compilation without MPI
  for option --disable-MPI
- TBUDGET: bug-fix in calculation of NDGL

******************************************************************************

messy_d2.42q (24 Apr 2013)

Changes by Phoebe Graf:
- TBUDGET: new submodel for diagnosing tracer budgets (e.g., Cl and Br)

Changes by Christopher Kaiser and Holger Tost:
- SCAV:
  - included consideration of hydrophilic fraction (philfrac) of particles' 3rd
    moment for scavenging
  - included consideration of higher ice scavenging efficiency for tracers with
    the attribute I_AEROSOL_HETICE = ON

Changes by Holger Tost:
- GMXE: update with reduced memory footprint
- CMN:
  - messy_cmn_aqattr.f90 expanded
  - messy_cmn_gasaq.f90 expanded
- TRACER:
  - new integer container for charge
- SCAV: updates in messy_scav.f90, messy_scav_liq.f90, messy_scav_mem.f90

Changes by Christopher Kaiser:
- MADE:
  - cleanup
  - new_tracer_old -> new_tracer
  - added calculation of hydrophilic 3rd moment fraction (philfrac)
  - renamed channel from `made' to `made_gp' (required for DDEP, SCAV, etc.)
- MADE3: new submodel
  - MADE-IN extension by Christopher Kaiser: 2 new coarse modes and coarse mode
    interactions with fine modes and gas phase
- TRACER:
  - added INTEGER container I_AEROSOL_HETICE to select higher ice scavenging
    efficiency (used in SCAV); default value is `OFF'

Changes by Simone Dietmueller:
- RAD:
  - set ztf to tm1 at lstart also for case 2
  - padutm1 converted from channel object to channel reference of
    ECHAM5 / tm1

Changes by Patrick Joeckel:
- messy/smcl/specific.mk, messy/echam5/smil/specific.mk:
  compilation of NCREGRID without run-time checks automatically for
  COMPILER=LF95 or G95
- xmessy_mmd: pempi for hydra at RZG removed
- NCREGRID (messy_ncregrid_geohyb.f90): bug-fix in subroutine
  SORT_GEOHYBGRID_NCVAR for sorting data along axes
- IMPORT (messy_main_import_rgt.f90):
  - import of 4-D data (x,z,n,y) implemented
- MECCA1, SCAV, GMXE:
  - aqueous.eqn, aqueous.spc, gas.spc moved from MECCA1 MBM to SCAV MBM
  - MECCA1, GMXE: aqueous.eqn, aqueous.spc, gas.spc link to corresponding
    files in SCAV MBM
  Note: this is a prerequisite for removing MECCA1 without destroying
	SCAV and GMXE
- WARNINGS updated
- CHANNEL (messy_main_channel.f90): bug-fix, corrected resetting of
  secondary data (MIN and MAX)
- SORBIT: bug-fix, reset data field only IF (XORB(i)%lex(jo))

******************************************************************************

messy_d2.42p (11 Apr 2013)

Changes by Patrick Joeckel:
- tests (Linux 32-bit (lx112), g95 v0.92, openmpi v 1.4.3):
  - ./configure --disable-MESSY
     compiles and runs (NML_SETUP=E5) with echam5.3.01 and echam5.3.02
  - ./configure (i.e. with MESSY)
     compiles and runs (NML_SETUP=E5) with echam5.3.01 and echam5.3.02
- RAD4ALL: entirely decoupled from ECHAM5, i.e., option isw_rad4all = 1
  is now obsolete; this reduced the overhead in ECHAM5 routines considerably
  and was required to enable RAD4ALL and RAD to run in parallel for
  inter-comparison:
  - channel object references to trflw, trfli, sofli, soflw,
    trfll, sofll (all g3b) converted to channel objects
  - new channel object with temperature tendency
    (for testing RAD vs. RAD4ALL until RAD4ALL becomes obsolete)
  - cdisse, cdissem defined in messy_rad4all_mem_e5.f90 and USEd from there
    in messy_rad4all_e5.f90, messy_rad4all_fubrad_e5.f90,
    messy_rad4all_orbit_e5.f90
  - zi0_2d is now channel object (instead of USEd from messy_main_data_bi)
  - cossza_2d is now channel object (instead of USEd from messy_main_data_bi)
  - messy_rad4all_e5.f90: USE nmonth from messy_main_timer_bi.f90
  - lrad, lr4a and loldrad removed
  - isw_rad4all = 2 as default
  - namelist switch nmonth_rad4all reset to nmonth from TIMER
  - calculate radflxw_2d from messy_main_data_bi.f90 (for ocean coupling)
  - bug-fix in dimensioning of parameters of subroutine albedos_rad4all
- RAD:
  - new namelist switch l_feedback (default is .TRUE.) to control feedback to
    - basemodel: temperature tendency (tte), albedo, emter, alsol
		 (via DATA from g3b) and srfl_2d (object in DATA)
		 NOTE: albedo, emter and alsol must remain in g3b (for vdiff)
    NOTEs:
    - trflw, trfli, soflw, sofli are used by SURFACE and MLOCEAN
      via get_channel_object (either rad01 or rad4all)
    - zi0 is used by SATSIMS via get_channel_object (either rad01 or rad4all)
  - su_albedo_rad implemented in messy_rad_albedo.f90 (called from
    messy_rad_initialize in messy_rad_e5.f90) to setup resolution dependent
    albedos (as in original ECHAM5 radiation code, see mo_albedo.f90,
    subroutine su_albedo); this is now required, since setrad (and with it
    su_albedo) is not called anymore #ifdef MESSY
  - bug-fix for temperature feedback in messy_rad_e5.f90
  - new channel object zi0 (solar incidence); not anymore USEd from
    messy_main_data_bi.f90
  - bug-fix: zi0 calculated with instantaneous cos(solar zenith angle) as
    in original ECHAM5 radiation (see physc.f90) and in RAD4ALL
  - RAD_FUBRAD (messy_rad_fubrad_e5.f90): coupling to channel object
    cdisse (from ORBIT) instead of USE from messy_main_data_bi.f90
  - calculate radflxw_2d from messy_main_data_bi.f90 (for ocean coupling)
  - channel renamed from rad_callN to radNN and rad_fubrad_callN to
    radNN_fubrad (for easier handling with wildcards in namelists etc.)
  - bug-fix in dimensioning of parameters of subroutine albedos_rad
  - double calculations removed
  - SUBROUTINE rad_radheat_smcl: TARGET variables and pointers removed;
    formal parameters applied directly
- CLOUDOPT:
  - channel renamed from cloudopt_callN to cloudoptNN (for easier handling with
    wildcards in namelists etc.)
  - NOTE: isccp_cldtau, isccp_cldemi, isccp_f are used by SATSIMS via
    get_channel_object (either from cloudopt01 or from rad4all)
- DATA (ECHAM5):
  - channel object reference to g3b / albedo removed
  - pointers and channel object references trflw, trfli, sofli, soflw (g3b)
    removed
  - cdisse, cdissem, zi0_2d, cossza_2d, relo3_3d, flxs_3d, flxt_3d removed
  - new object radflxw for radiation flux (lw + sw) over water
    (required for ocean coupling)
  - channel object aphm1_3d removed (not set/used anywhere, redundant to pressi)
  - channel object 'landcov' (similar to icevoc and seacov)
- BMLUSE (ECHAM5):
  - nmonth removed
  - lrad removed
- CONTROL (messy_main_control_e5.f90):
  - comments in messy_global_start updated
- TIMER (messy_main_timer_bi.f90):
  - new namelist parameter nmonth for annual cycle (0, default) or
    perpetual month simulations (1..12)
- ORBIT:
  - namelist parameter nmonth removed (moved to TIMER); used instead
    from TIMER (messy_main_timer_bi.f90)
- PLUMEGAS:
  - channel rad4all (for object rdayl) replaced by orbit; pointer renamed
- SATSIMS (messy_satsims_e5.f90):
  - channel rad4all replaced by cloudopt_call1 or rad4all for
    isccp relevant objects
- MLOCEAN:
  - coupling of trflw, trfli, sofli, soflw to 'rad01' (or rad4all)
    instead of 'ECHAM5'
- SURFACE:
  - coupling of trflw, trfli, sofli, soflw to 'rad01' (or rad4all)
    instead of 'ECHAM5'
  - subroutine surface in messy_surface.f90:
    - pros_hd (aros_2d) initialised with zero
    - pdrain_hd  (adrain_2d) initialised with zero
  - bug fix: 'aphm1_3d' replaced by 'pressi'; NOTE: aphm1_3d object was
    created in DATA (with wrong representation), but nowhere set
  - bug-fix:
    INTENT(INOUT) instead of INTEND(OUR) for tsi, ahfice, grndcapc, qres,
    tsoil (reason: the fields are only conditionally set!)
  - calculation of tsurf moved from physc to surface_mixlo; objects seacov,
    landcov and tsurf_2d (from DATA) added (pointer and get_channel_object)
  - SAVE added to both modules
- ECHAM5 (2x):
  - mo_memory_g3b.f90 (2x):
    - trflw, trfli, sofli, soflw, trfll, sofll removed
  - (2x) radheat.f90, radiation.f90, prerad.f90, rad_int.f90:
    MESSY specific statements removed
    (these routines are not called any longer #ifdef MESSY)
  - mo_time_control.f90 (2x): lrad excluded #ifndef MESSY
  - labrun.f90 (2x):
    - some parameters excluded with #ifndef MESSY
    - diag output cleaned up
  - scan1.f90 (2x):
    - lrad not USEd anymore
    - lr4a removed
    - no more call of prerad #ifdef MESSY
      (this implies no more call of pre_o3clim_3 from mo_o3clim.f90);
      thus USE of nmonth NOT modified in prerad.f90 and mo_o3clim.f90!)
  - physc.f90 (2x):
    - all radiation routine calls excluded with #ifndef MESSY
    - some parameters excluded from USE with #ifndef MESSY
    - zi0 restored as local variable (only #ifndef MESSY),
      zi0_2d not USEd anymore
    - (only 5.3.02) lr4a and connection to RAD4ALL removed
    - for #ifdef MESSY:
      - aros_2d, zros_hd removed (calculated now in SURFACE)
      - adrain_2d, zdrain_hd removed (calculated now in SURFACE)
      - apmecal_2d, zalac removed
      - use and add radflxw_2d to awhea_2d
      - zfrl associated with landcov (DATA)
      - tsurf / ztsurf special case for #ifdef MESSY removed
      - calcultion of tsurf moved to SURFACE (surface_mixlo)
  - initialize.f90:
    - no more call of setrad #ifdef MESSY
      (setrad was only active for lrad = .TRUE.)
  - initemp.f90, clveg.f90, clsst.f90:
    - nmonth USEd from messy_main_timer_bi.f90 #ifdef MESSY
      NOTE: If configured with --disable-MESSYTIMER, no perpetual month
	    experiments are possible, since nmonth = 0 (default)
	    cannot be overwritten via namelist (timer.nml out of operation!)
- JVAL: messy_jval_jvpp.inc created with updated JVPP (see below)

Changes by Rolf Sander:
- JVPP: update of jvpp_step3.f90; now with quadratic interpolation to
	fix issue with H2O photolysis

******************************************************************************

messy_d2.42o (05 Apr 2013)

Changes by Simone Dietmueller:
- TROPOP: coldpoiont diagnostics added
- RAD4ALL (messy_rad4all_e5.f90, messy_rad4all.f90): appended _dp to 0.0
- CLOUDOPT: new submodel for the calculation of cloud optical properties
- RAD: new submodel with revised radiation interface
  - allows multiple calls for radiative forcing analyses
  - simplified structure (less _e5 and _mem files):
    messy_rad_e5 <| <-- messy_rad_fubrad_e5 <--------------- messy_rad_fubrad
		  |                                          |
		  |                                          V
		  | <---------------------- messy_rad <| <-- messy_rad_short
						       | <-- messy_rad_long
						       | <-- messy_rad_albedo

Changes by Marina Astitha:
- ONEMIS: bug-fix (D of type REAL(DP))

Changes by Patrick Joeckel:
- ORBIT (messy_orbit_si.f90): bug-fix (dec replaced by zdec in subroutine
  calc_orbit_param); this bug caused the deviation betweem amu0m (rad4all) and
  cosszacm (orbit)
- messy/util/mddiff: option "-L" removed again
- configure.in (configure): message for NOMPI updated
- xmessy: amip-type sst/sic links corrected
- DATA:
  - new channel object rho_air_dry for density of dry air
  - (COSMO) some corrections (avoidance of multiple calculations of sub-arrays)
- OFFEMIS, ONEMIS, TNUDGE: use now rho_air_dry for emission calculation,
  since mixing ratios are in mol(tracer)/mol(dry air)
- TREXP: use dry air mass for emission calculation

******************************************************************************

messy_d2.42n (14 Mar 2013)

Changes by Patrick Joeckel:
- JVPP (main.mk): added "-f" to "rm ... workdir_*/*";
  without this, gmake distclean stops with an error, if directories are
  already empty
- QBO: mbm repaired accordingly (set link to messy_main_compilerinfo_mem.f90)
- BLANK (messy_main_channel_blank.inc):
  compiler info included in global attributes

Changes by Rolf Sander:
- CAABA/MECCA updated to version 3.5: for details, see
  messy/mbm/caaba/CHANGELOG
- messy/util/mddiff: option "-L" added to find to follow symbolic links.
  Now mmdiff also shows the diff if there is a link in one directory and
  a link in the other (good). However, now duplicate diffs can appear
  when links point to a changed file (not so good).
- JVPP, JVAL, and JVNEW updated to version 12:
  - Note that JVAL now uses the new values from JVPP!!! The old (static)
    parameters have been moved into the JVST submodel.
  - bug fixes for N2O5 and CO2

******************************************************************************

messy_d2.42m (13 Mar 2013)

Changes by Rolf Sander:
- JVAL, JVPP: update with bug-fixes

Changes by Patrick Joeckel:
- IMPORT_RGT: allow time dependent index range for IXF regridding
  (thanks to Holger Tost)
- config/mh-linux*: option -fno-backslash added to all g95 entries
  (thanks to Rolf Sander)

Changes by Gregor Glaeser:
- M7 (messy_m7_si.f90): bug-fix (2x), idt=idt_mduai

******************************************************************************

messy_d2.42l (01 Mar 2013)

Changes by Holger Tost:
- config/mh-linux-64:
  - MOGON cluster (ZDV Mainz) added
- xmessy_mmd:
  - MOGON cluster (ZDV Mainz) added
- DDEP: drydep_calc_radius_mass modified to be consistent with SEDI
	and SCAV
- SCAV: submodel update
  - evaporation of cloud and rain droplets modified to also affect
    aerosol number distributions
  - nucleation scavenging modified: selectable whether (old)
    parameterised nucleation scavenging routine should be used, or if
    available aerosol activation = nucleation scavengingfrom the cloud
    channel
- GMXE: submodel update
  - removed unneccessary channel objects
  - additional diagnostics
  - dconc subroutine modified and extended also for insoluble modes
- AEROPT: submodel extension
  - reading of external data refurbished / extended
  - merging of data sets newly implemented
-CLOUD:
  - lohmann10 subroutine added -> new version of the 2 moment scheme
    following Lohmann et al., ACP, 2010; updated interface routine
  - cloud droplet call order refurbished
  - activation fractions and numbers refurbished and extended including
    memory management (ARG, Lin)
  - critical supersaturation for ARG scheme, either calculated following
    ARG or imported from aerosol submodel (GMXE provides values)
- CONVECT:
  - ECMWF: relaxation time constant added for T63
  - Emanuel: cth included
  - e5: new channel objects for individual counters of convection type,
    cth for types, updraft massflux for types

******************************************************************************

messy_d2.42k (28 Feb 2013)

Changes by Phoebe Graf and Patrick Joeckel:
- SCAV: LTEND_HNO3 removed and generalised for arbitrary tracers
	(new namelist parameter "te_string" with tracer names of which
	tendencies should be saved as a copy in a new channel object)

Changes by Patrick Joeckel:
- xmessy_mmd:
  - f_copynml: allow subdirectories in nml-directory
  - special cases for onlem and offlem removed
  - MBASE must now be set to MBASE=EVAL2.3/messy for setups using the
    old input data structure; the default is MBASE=. for setups using the
    new input data structure
- messy/util/dau-ngrade.tcsh updated
- VAHR: some minor modifications

Changes by Rolf Sander and Patrick Joeckel:
- JVNEW renamed to JVST (ST for STatic)
  - JVAL contains now the JPL-2011 update, JVST the "old" values

Changes by Patrick Joeckel:
- JVPP:
  - messy/mbm/jval/jvpp is link to ../../tools/jvpp
- JVAL:
  - messy_jvnew_si.f90 and messy_jval_si.f90 synchronised

Changes by Rolf Sander:
- CAABA/MECCA updated to version 3.4:
  - rate coefficients updated to JPL-2011
  - for details, see messy/mbm/caaba/CHANGELOG
  - for kp4, "PUBLIC :: NVAR" added to tools/kp4/templates/module_header
- JVPP, JVAL, and JVNEW updated to version 11:
  - Note that JVAL now uses the new values from JVPP!!! The old
    parameters have been moved into the JVNEW submodel.
  - temperature dependence for O3
  - bug fix for O2
  - for details, see messy/mbm/jval/CHANGELOG
- config/mh-linux: updated for bromine
- mbm/rnd/Makefile: version 0.9 of g95 not supported anymore
- messy/mbm/mecca1/rpl/mim1/OCS.rpl: SO2 photolysis deactivated because
  it is not included in JVAL anymore

Changes by Rudolf Deckert:
- DDEP: new feature implemented: calculation of soil sink based on
  prescribed (e.g., IMPORT_RGT) deposition flux

Changes by Patrick Joeckel:
- DDEP (messy_ddep_si.f90): unified PARAMETERs and USE statements
- ECHAM5.3.02:
  - mo_midatm.f90: MESSYTENDENCY removed (is not in MESSy submodel GWAVE)
- ECHAM5.3.01:
  - mo_ssortns.f90:
    modified according to changes in ECHAM5.3.02 (see below)

Changes by Markus Kunze:
- GWAVE (messy_gwave_si.f90):
  - representation of 3D pointers changed from GP_3D_INT to GP_3D_MID
- DATA (messy_main_data_bi.f90):
  - added additional 6 3-D channel objects:
    gworo_du, gworo_dv, gworo_dt  ! tendency due to ORO GW DRAG
    gwlif_du, gwlif_dv, gwlif_dt  ! tendency due to MOUNTAIN LIFT
  - removed channel objects gwdrag_u, gwdrag_v, gwflux_u, gwflux_v which
    are part of GWAVE channel
- ECHAM5
  - mo_midatm.f90 (2x): MESSY-specific code (preprocessor) removed
    from subroutine gwspectrum; this is now part of MESSy submodel GWAVE
    and therefore (#ifdef MESSY) not called from physc.f90
  - mo_ssortns.f90:
    The local arrays in subroutine ssodrag are transformed to pointers,
    corresponding to the channel objects in messy_main_data_bi.f90

Changes by Holger Tost:
- AEROPT (messy_aeropt_e5.f90): bug-fix (1:kproma)

Changes by Patrick Joeckel:
- check_import_rgt.tcsh, check_objects.tcsh: list only object names
  which are really created (thanks to Christopher Kaiser)
- IMPORT_RGT:
  - two consitency checks with error messages introduced (IFX and 2D fields)
- RAD4ALL_FUBRAD:
  - check correspondance between nbands and number of parameters
    (messy_rad4all_fubrad_e5.f90, subroutine rad4all_fubrad_init_coupling)
- CHANNEL:
  - messy_main_channel_e5.inc (subroutine associate_streams_to_channels):
    new attributes grid_type, table (gribtable) and code (gribcode) added
    (to facilitate application of afterburner)

Changes by Sabine Brinkop and Roland Eichinger:
- TENDENCY: surf removed
- SURFACE: update for TENDENCY

Changes by Gregor Glaeser:
- COSMO:
  - src_output: changed parameter handling for calculation of Richardson number
- CHANNEL:
  - messy_main_channel_c4.inc: spelling of COSMO variables corrected
  - messy_main_channel_i2c.inc: albedo added
- DATA: forced exit for ivctype/=1 removed
- INT2LM: albedo fields/calculation added (changed files:  data_fields_lm,
	  data_int2lm_control.f90, data_int2lm_control.f90, external_data,
	  src_2d_fields, src_gribtabs, src_memory, src_namelists)
- M7: typo 'KI' as subname instead of 'ki' removed
      (Note by PJ: this was already fixed earlier)

Changes by Astrid Kerkweg:
- CHANNEL_BI: new switch (L_CALCOUT_EACH_STEP) added to force calculation of
	      diagnostic COSMO output each time step (required for online
	      statistic)
- COSMO:
  - src_output: bugfix for TWATER calculation
  - src_setup:  interrupt simulation if dt from namelist /= delta_time
- TIMER:     interrupt simulation if dt from namelist /= delta_time
- MMDCLNT:   variable forcing added
- GRID_NETCDF: new file introduced (complete submodel GRID will be introduced
	       later), required for variable read in in MMDCLNT

Changes by Christiane Hofmann:
- TROPOP: bug-fix mean sealevel pressure (ECMWF routine replaced by COSMO
	  routine for consistency reasons)

Changes by Hella Garny:
- O3ORIG: dependency on tropopause removed

Changes by Marina Astitha, Holger Tost and Astrid Kerkweg:
- M7: bug fix (missing parantheses in denominator added) in m7_vdiff
  (mass to number conversion factor for dust emissions)

Changes by Bastian Kern:
- CHANNEL (messy_main_channel.f90): bug-fix/compiler work-around in
  SUBROUTINE clean_channels
- SCAV (messy_scav_inter.f90): bug-fix, INTENT(INOUT) for cprod_arr
- MPIOM:
  - bug-fix in messy_mpiom_e5.f90
- HAMOCC:
  - bug-fix in messy_hamocc_e5.f90
- E4CHEM:
  - move photolysis rates out of daytime-condition to avoid undefined
    values in diagmostics

Changes by Patrick Joeckel:
- mh-linux-64: updates for SuperMUC, SuperMIG
- configure.in (configure), Makefile.in, */Makefile.in:
  - no MESSYTENDENCY, MESSYTIMER or MESSYMMD without MESSY
  - COMPILER passed through to enable switching off -check for some files
    in specific.mk (INTEL)
- ECHAM5 (5.3.01):
  - physc.f90: updated according to modifications in 5.3.02
  - mo_tmp_buffer.f90: some allocatable arrays converted to pointer
- ECHAM5 (2x):
  - labrun.f90 updated
- USE_SURFACE in all switch.nml
- link to DEFAULTS/surface.nml for all namelist setups with ECHAM5*nml
- messy/nml/README updated
- WARNINGS updated

Changes by Sabine Brinkop:
- ECHAM5 (5.3.02, physc.f90): call new submodel SURFACE (via messy_mixlo)
  instead of surf, lake, icetemp, soiltemp and sicetemp
- DATA:
  - new channel objects and arrays for SURFACE
- SURFACE: new submodel replacing surf, lake, icetemp, soiltemp and
	   sicetemp from ECHAM5
- MLOCEAN:
  - new switch L_LGMC to detect if Lagrangian Moist Convection (LGMC) is
    on; in this case call MLOCEAN from mlocean_global_end
  - new subroutine mlocean_global_end
  - private subroutines mlocean_mlayerocean and mlocean_mlflx with
    parameters jrow and kproma to be callable with explicit loop
    from mlocean_global_end

Changes by Klaus Klingmueller and Holger Tost:
- AEROPT: bug-fix

Changes by Christine Froemming and Patrick Joeckel:
- CONTRAIL largely revised
  - SMILified (messy_contrail_si.f90), modified files:
    messy_main_control_c4.f90, messy_main_control_e5.f90
  - calculation of potential cloud cover split from calculation
    of contributions from emissions and ageing
  - independent grid-point and Lagrangian calculation

Changes by Patrick Joeckel:
- config/mh-linux-64
  - updates for hydra @ RZG
- xmessy_mmd:
  - update (changes for hydra) LoadLeveler
  - update (changes for hydra) datapath and environemnt settings
- E4CHEM (thanks to Bastian Kern):
  - several bug-fixes for rank-identifiers in messy_e4chem_si.f90
- TROPOP, SUBROUTINE WMOtropop (thanks to Christiane Hofmann):
  - initialisation of variables added
  - loop bounds corrected
- NCREGRID (thanks to Holger Tost):
  - messy_ncregrid_tools.f90, messy_ncregrid_netcdf.f90:
    added NULLIFY(.) for several pointers
- TREXP:
  - bug-fix, limited pbound alias pressi_3d to 1:nlev, because
    otherwise level index can become out of range (> nlev!)
- WARNINGS updated (new section with downward compatibility issues)
- LNOX: revision
  - updated all namelist files according to code modifications
    (see WARNINGS!!!)
  - original LNOX-namelist files renamed to -bak
  - introduced two modes of operation, one for estimating the scaling factors
    and one for production simulations (new namelist switch l_mode_scal)
  - removed namelist switch i_scal and corresponding subroutine lnox_rescal
    for online grid-dependent re-scaling, which could not be used for
    regional model instances and was insufficient for global models
    (scaling factors had always to be re-adjusted manually)
  - r_scall_ff, r_eff and r_noxpf are now arrays, i.e. independent
    scaling factors etc. for all parameterisations are now possible
    (this is required, if all parameterisations shall be run for a production
    to diagnose uncerteinties!)
  - operation mode, r_scall_ff, r_eff and r_noxpf are output (as channel
    attributes) to netCDF files
  - added messy/util/lnox_scale.jnl to calculate the scaling factors from
    LNOX-output (run with l_mode_scal=T)
- CHANNEL (messy_main_channel_bi.f90): avoid broadcasting of lexit
  in messy_channel_read_restart and messy_channel_write_output
- TREXP:
  - bug-fix, moved creation of channel objects to init_coupling, because
    structure component ierr is required
  - unit of molar mass corrected
  - number of emission time steps corrected
- xmessy_mmd: modifications for profiling and tracing
- TRANSFORM (messy_main_transform_bi):
  - new optional parameter xpe for scatter_glix and gather_glix for
    'executing pe', to enable exection on other than p_io
- QTIMER:
  - check existence of dimension NCPUS
  - new preprocessort directive _MPI_ALLGATHER for alternative
    communication pattern (based on MPI_ALLGATHER instead of MPI_BCAST)
- MPI (messy_main_mpi_bi.f90): new subroutines p_allgather and p_scatter
- CHANNEL:
  - messy_main_channel_bi.f90:
    - new decomposition type DC_AG (for 'all_gather'), 4th rank must be
      number of PEs
  - messy_main_channel_repr.f90:
    - new FAST_REORDER for 1342 and 1423
- BLATHER:
  - subroutine info_bi: optional parameter l_all to output log information
    on all PEs (e.g. for debugging)
- ATTILA:
  - cleaned up
  - converted consistently all REAL to REAL(dp)
  - random number handling completely revised:
    - messy_attila_mt19937ar.f90, messy_attila_luxury.f90 deleted
    - coupling on SMIL to generic submodel RND
  - attila.nml:
    - namelist parameter I_RANDOM_METHOD moved from CTRL to CPL
    - new CPL namelist parameters I_RANDOM_PARALLEL and L_RANDOM_TEST
- WARNINGS updated
- MAIN_RND:
  - implemented efficient "jump ahead" facility for Mersenne Twister
    for parallelisation of pseudo random number sequence(s)
  - new file: messy_main_rnd_mtw_ja.f90
  - modified files:
    - messy_main_rnd.f90:
      - new subroutine rnd_jump
      - Luxury pseudo random number repaired to achieve independent but
	reproducible streams of pseudo random numbers
      - error messages improved
    - messy_main_rnd_bi.f90:
      - completely revised, 4 different methods exist now for
	pseudo random number generation in the parallel environment
- new MBM RNDJ (test program for jumping ahead)
- MBMs CAABA, RND, BLANK, CMAT: new links to messy_main_rnd_mtw_ja.f90

Changes by Markus Kunze:
- config/mh-linux, mh-linux-64: upates for FUB computers
- RAD4ALL, RAD4ALL_FUBRAD:
   The main changes introduced in rad4all are necessary to get
   the right shortwave fluxes at the surface and at the top of the
   atmosphere, when the sub-submodel rad4all_fubrad is used.
   Additional changes were made by the introduction of new namelist
   parameters, which can be usefull for model tuning when coupling
   to an ocean.
- messy/echam5/smil/
  - messy_rad4all_e5.f90
    - To have additional namelist parameters for model tuning:
      - new switch rset_zinhomi to reset the parameter zinhomi
      - new switch rset_zinhoml to reset the parameter zinhoml
      - new switch rset_zinpar to reset the parameter zinpar
      - new switch rset_asic to reset the parameter asic
      - new switch rset_solc to reset the parameter solc
	The switch can be used to replace the parameter solc with a value given
	by the namelist (the switch works for lfubrad = F).
    - To do simulations with a different distribution of spectral solar
      irradiances:
      - rsun_scale, used from module messy_rad4all_short, can be changed via
	namelist.
    - Declaration of new diagnostic variables as 3-dimensional pointers,
      to be contained in the rad4all channel. The short-wave and long-wave
      heating rates for the 4-band scheme are now calculated in
      rad4all_radheat_smcl and the output is written to the rad4all channel:
      flxnir_3d (SW flux NIR bands 2-4), flxsw1_3d (SW flux UVvis 1. band),
      trnir (transmissivity NIR), trnif (transmissivity NIR clear sky),
      trsw1 (transmissivity UVVIS), trs1f (transmissivity UVVIS clear sky),
      heatmosw (SW4 sw-hrates total sky), heatlw (LW-hrates total sky)
      heats1   (UV-Vis-hrates total sky), heatni (NIR-hrates total sky)
    - New 3-dimensional pointers, initialised via rad4all_init_coupling with
      channel objects of the rad4all_fubrad channel:
      flxfub_3d (SW flux FUBRad), flxdo_3d (SW flux FUBRad downward),
      flxup_3d (SW flux FUBRad upward), flxhart_3d (SW flux Hartley),
      trfub (transmissivity FUBRad), trfubc (transmissivity FUBRad clear sky)
    - In SUBROUTINE rad4all_radiation:
      - added the possibility to reset the solar constant
      - the flux profiles are saved separately for NIR and UV-Vis
    - In SUBROUTINE rad4all_radheat:
      - Added heatmosw and heatlw to the interface of rad4all_radheat_smcl
      - If FUBRad is active, the following subroutine calls correct the SW-flux:
      - rad4all_fubrad_flx2tr, rad4all_fubrad_diag, rad4all_fubrad_fluxes
    - In SUBROUTINE rad4all_interface:
      - Added ptrnir ptrsw1, ptrnif, and ptrs1f to the interface (output),
	to get the transmissivity profiles for NIR and UV-Vis for total sky
	and clear sky
  - messy_rad4all_fubrad_e5.f90
    - New public subroutines:
      rad4all_fubrad_flx2tr (convert fubrad fluxes to transmissivity),
      rad4all_fubrad_diag (calculate surface and TOA diagnostics),
      rad4all_fubrad_fluxes (correct flxs_3d for FUBRad levels)
    - New 3-dimensional pointers, initialised in rad4all_fubrad_init_memory,
      to be contained in rad4all_fubrad channel:
      flxfub(SW flux FUBRad), flxdo, flxup (SW flux FUBRad downward, upward),
      flxhart (SW flux Hartley), trfub, trfubc (transmissivity FUBRad,
      (c) clear sky)
    - In SUBROUTINE rad4all_init_coupling:
      - heatmosw is coupled to channel object heatmosw in rad4all channel.
    - New namelist parameter nbands to choose the spectral resolution of FUBRad
    - In SUBROUTINE rad4all_fubrad_initialize:
      - CALL fubrad_ini_param (initialize parameters, that depend on spectral
	resolution)
      - CALL fubrad_initialize_fluxes (initialize fluxes and absorption
	cross sections)
    - In SUBROUTINE rad4all_fubrad_global_start:
      - CALL fubrad_global_flux_ini (initialize TOA fluxes for current time
	step)
    - In SUBROUTINE rad4all_fubrad_radheat:
      - updated interface to prepare_radiation (added altswc_2d, tropospheric
	albedo for SW-flux, clear sky)
      - updated interface to middle_atmosphere_heat_rates (removed heatlw)
- messy/smcl/
  - messy_rad4all.f90 (changed modver to '2.3')
    - Added lfubrad (used from messy_rad4all_fubrad, needed in
      rad4all_radheat_smcl)
    - Added asic (PUBLIC, SAVE) can be changed via namelist
    - In SUBROUTINE rad4all_rad_smcl
      - updated interfac; added:
	- pflnir, pflnirc    net NIR flux profiles
	- pflsw1, pflsw1c    net UVVIS flux profiles
      - deleted calculation of zheat, zceat (not part of output);
	removed zheat and zceat from rad_sw_SW interface
      - additional local variables, to get NIR and UVVIS fluxes separately);
	zfnird, zfniru, zfcnird, zfcniru, zfsw1d, zfsw1u, zfcsw1d, zfcsw1u;
	added to rad_sw_SW interface
      - moved initialisation of zasic to messy_rad4all_e5:rad4all_set_param
    - In SUBROUTINE rad4all_radheat_smcl
      - updated interface; added:
	ptrsw1,  ptrnir     UV-Vis, NIR transmissivity  (INTENT(in))
	pflxs1,  pflxni     UV-Vis, NIR fluxes          (INTENT(inout))
	pheatsw, pheatlw    short- and long-wave heating rates in K/s
	(INTENT(out))
	pheats1, pheatni    UV-Vis, NIR heating rates (INTENT(out))
      - If used with FUBRad psrad0, psrad0u, psraf0 are not calculated
	(this is done in the separate subroutine rad4all_fubrad_diag)
  - messy_rad4all_short.f90
    - Added rsun_scale(1:4) (initialised with the default values);
      can be changed via namelist
    - ZSUN4(1:4) are initialised with values of rsun_scale(1:4)
    - In SUBROUTINE rad_sw_SW:
      - updated interface; removed PHEAT and PCEAT
	added PFDNIR, PFUNIR, PCDNIR, PCUNIR, PFDSW1, PFUSW1, PCDSW1, PCUSW1
      - updated interface to middle_atmosphere_upward_flux:
	added pcu,pcd (clear sky upward and downward fluxes)
  - messy_rad4all_fubrad.f90 (changed submodver to '1.2')
    - added allocatable arrays to store the input spectral fluxes and the
      cross sections; initialised in fubrad_initialize
    - New SUBROUTINE fubrad_initialize_fluxes:
      initialize FUBRad local arrays with the predefined solar fluxes for
      maximum and minimum conditions, and the absorption cross section for
      O3 and O2
    - New SUBROUTINE fubrad_global_flux_ini:
      The code originally distributed in several subroutines is gathered to
      initialize the fluxes only at global start.
    - In SUBROUTINE middle_atmosphere_downward_flux:
      - added call to lymanalpha (was in middle_atmosphere_heat_rates before)
    - In SUBROUTINE middle_atmosphere_heat_rates:
      - removed heatlw from the interface as it is calculated in rad4all
      - converted flux_lya to pointer;
	points to fllya, calculated in middle_atmosphere_downward_flux
      - only one loop over nswlev is necessary
      - removed some loops over kproma
    - In SUBROUTINE o3fluxes
      - added pfluxc to interface (output) - Total upward flux clear sky
      - increased the spectral resolution in the Chappuis band (nchap);
	nchap can be 1, 6 or 57 (determined by namelist parameter nbands)
      - added the integrated flux of non absorbing Chappuis interval
	to the upward and downward flux (this was done in
	middle_atmosphere_downward_flux before with the constant 54.25)
    - Replace the functions QCHAP, QHUGG, QHERZ, QHART with the
      simpified functions flx3 and flx32
    - New SUBROUTINE fubrad_ini_param:
      - use the namelist parameter nbands to initialise nchap and the
	Chappuis indices.
CONVECT:
  - messy_convect_e5.f90
    - broadcast the new namelist switches of messy_convect_tiedtke.f90:
      rset_cmfctop, rset_cprcon, rset_entrscv
  - messy_convect_tiedtke_param.f90
    - To have additional namelist variables for model tuning:
      - new switch rset_cmftop to reset the parameter cmftop
      - new switch rset_cprcon to reset the parameter cprcon
      - new switch rset_entrscv to reset the parameter entrscv
    - In SUBROUTINE cuparam_init:
      - Added section where namelist switches can be used to redefine the
	parameters:
	cmftop, cprcon, entrscv.
  - messy_convect.f90
    - Added namelist variables rset_cmfctop, rset_cprcon, rset_entrscv
      to NAMELIST /CTRL_TIEDTKE/.

Changes by Bastian Kern:
- M7: initialize wetradius, dryradius, densaer always with zero

Changes by Patrick Joeckel:
- MPI (mo_mpi.f90 and mpiom/..../mo_mpi.f90) bug fixes to allow compilation
  without MPI
- configure.in/configure/locate_f90.sh.in: bug-fix to remove potential
  compiler prefix for scaling, profiling etc.
- MBM/TRACER: dummy p_sum(_2d) added to messy_main_mpi_bi.f90
- MPI: function p_sum(_2d) added to messy_main_mpi_bi.f90 (for COSMO & BLANK)
- TRACER_PDEF: loop over p_bcast replaced by p_sum, modified files:
  - messy_main_tracer_pdef.f90: avoid summation over PEs in
    tracpdef_integrate, CASE(2)
  - messy_main_tracer_pdef_bi.f90: summation over PEs with p_sum
  Note: Function p_sum is based on MPI_ALLREDUCE(...MPI_SUM...),
	which potentially causes parallel decomposition
	dependent results (for the sake of an increased performance!).
	For the purely diagnostic quantitiy 'global trace mass',
	which has no feedback to the dynamics, this approach might be
	justifiable.

Changes by Hiroshi Yamashita and Patrick Joeckel:
- TRANSFORM: bug-fix in scatter_glix_4d (indices corrected!)

******************************************************************************

messy_d2.42j (23 Sep 2012)

Changes by Bastian Kern and Patrick Joeckel:
- configure.in/configure: new option PROFILEMODE for profiling with
  tprof, scalasca, vampir, ...
- config/mh-aix: PROFILEMODE tprof, scalasca, vampir
- xmessy_mmd: profiling for IBM poe implemented (tprof, scalasca, vampir)

Changes by Bastian Kern:
- MPI: new subroutine allgather_arr
  (modified files: messy/bmil/mo_mpi.f90, mpiom-1.3.0-beta/src/mo_mpi.f90,
   mpiom-1.3.0-beta/src/mo_parallel.f90)
- SCALC: update
- A2O: use allgather_arr instead of gather / bcast
- HAMOCC: update to version of MPI-ESM 1.0.0
- HD: update to version of MPI-ESM 1.0.0
- MPIOM: additional output (OUT_DDPO)
- CONVECT (messy_convect_tiedtke_param.f90): update of cmfctop and cprcon
  for T42L47MA and lcouple .OR. lipcc
- RAD4ALL: update of zinhoml (only for lcouple)
- xmessy_mmd: set and delete BEK for MPIOM

Changes by Sabine Brinkop and Patrick Joeckel:
- ATTILA: complete revision of eta-grid in SMCL

Changes by Christine Froemming and Sabine Brinkop:
- CONTRAIL: update
- AIRTRAC: update

Changes by Sabine Brinkop:
- AIRTRAC:
  - coupling to TREXP emission point timings revised
- TREXP:
  - new channel object "rnow_NNN" for each emission point (001-999)
  - modified index search (nl_index) for vertical placement
- TOOLS: new subroutine nl_index for finding nearest index above/below in
  monotonous list
- LGFMM: update
- LGHPM: update, no USEs of mo_* anymore

Changes by Phoebe Graf and Patrick Joeckel:
- ECHAM5-NUDGING (mo_nudging_sst.f90, 2x): bug-fix for sst data time control
  (if a restart occurred within the first 12 hours (=nsstoff default), another
  sst (time) has been used as without restart!)

Changes by Duy Cai and Patrick Joeckel:
- TRACER_FAMILY (messy_main_tracer_family.f90, tracfamily_newtrac):
  - put list of family members with weigths into long-name

Changes by Astrid Kerkweg:
- TRACER: new integer containers added (I_INITIAL, I_LBC, I_DAMP, I_GRIBTAB,
  I_GRIBPARAM)
- new COSMO_4.25 version included which uses MESSy tracer for
  humidity variables (cosmo_120731_4.25_messytrac)

Changes by Patrick Joeckel:
- CHANNEL (messy_main_channel.f90, messy_main_channen_io.f90):
  - bug fix for correct MIN and MAX output
- MECCA:
  - gas_mim1.eqn: function uef (uncertainty estimate function,
    approximated by 3rd order polynomial, for G7603) added
  - meccalit.bib: @TECHREPORT{2626 ..-} added
  - several batch, diagtrac and replacement files added
- KP4 (kp4.sh):
  - uef added to KPP_SUBROUTINE_LIST
- CHANNEL and xmessy_mmd: check-sum (md5sum) of executable as
  globale attribute; modified files:
  - xmessy_mmd: new function f_get_checksum
  - messy_main_channel.f90, messy_main_channel_bi.f90,
    messy_main_channel_e5.inc, messy_main_channel_c4.inc,
    messy_main_channel_cm.inc, messy_main_channel_blank.inc
- config/mh-linux-64 and xmessy_mmd:
  - modifications for DLR Linux-Cluster
  - modifications for LRZ SuperMIG/SuperMUC
- several submodels (all layers!): correctly NULLified string-arrays
  (used in strcrack)
- CHANNEL (messy_main_channel.f90, messy_main_channel_netcdf.f90)
  - output MINVAL and MAXVAL of channel object to log-file, if
    I_VERBOSE_LEVEL >=4
- SCAV (messy_scav.f90): POINTER strname NULLified

******************************************************************************

messy_d2.42i (19 Jul 2012)

Changes by Patrick Joeckel:
- xmessy_mmd: *rerun* repleced by rerun* to avoid moving of output-files
  with rerun suffix to save subdirectory
- M7 (messy_m7_si.f90): bug-fix (labels must not have the same name as
  declared variables)
- ONEMIS (messy_onemis.f90): bug-fix (loop index D declared as INTEGER,
  instead of REAL(dp))
- messy/util/ec2cosmo_to_cas.sh: grid-file as option; available grid-files
  in messy/util/grids
- nml setup DU2 renamed to ADUST; all new namelist files (import) ranamed
  according to corresponding netCDF files, import.nml modified accordingly
- nml setup I2C moved to MBM/i2c, xmessy_mmd.i2c* modified accordingly

Changes by Astrid Kerkweg:
- COSMO/INT2COSMO (3x): gme_utilities: bugfix for compiler error with
			RUNMODE=DEBUGOPT
- COSMO_4.8_clm19 /INT2LM_1.10_clm14 added to code distribution
- COSMO_4.25 (includes COSMO tracer struct) added to code distribution
- messy/util/xmessy_I2C: runscript for mbm int2cosmo added
- messy/nml/I2C:  namelist(s) for mbm int2cosmo added
- INT2LM (3x):
   - mpe_io.f90: most MPI_SEND changed to MPI_ISEND (to avoid communication
		 problems on mpc01)
   - src_decomposition: calculation of isubpos_in, nboundlines_in and
			istartpar_in, jstartpar_in, iendpar_in, jendpar_in added
   - src_namelists.f90: REWIND(nuin) added before each READ statement
   - src_read_coarse_grid.f90:
      - itimepassed calculation for days added
      - reading of 'bnds' omitted for lcm2lm (it is not used afterwards)
- CHANNEL:
   - messy_main_channel_e5.inc
     belowsf unit and dimension variable changed from 'cm' to 'm'
- M7: - unification of coupling of dust emissions:
	l_dust and l_dust_tegen replaced by l_dust_ci and l_dust_ai
      - all namelists adjusted to renaming of dust emission fluxes in ONEMIS
- ONEMIS:
  - unification of pointers for dust_emissions
  - 'DU1', 'DU2' renamed to 'DU_Astitha1','DU_Astitha2'
  - channel objects and pointer renamed to enable parallel execution of dust
    emission routines.
  - use airdens calculation from ONEMIS for DU_Astitha
  - define Parameter ustarthr as INTENT(INOUT), with INTENT(OUT) ustarthr should
    be always undefined following the Fortran standard for DU_Astitha.
- m7.nml / onemis.nml all namelists changed consistently
- EC2COSMO: new channel object references and attributes added for
	    postprocessing of ec2cosmo output in int2lm
- messy/util/ec2cosmo_to_cas.sh / grid.txt script and input file for
  postprocessing of ec2cosmo output in int2lm added to messy/util

Changes by Marina Astitha:
- ONEMIS: 2 extra dust emission schemes introduced ('DU_astitha1'/'DU_astitha2')
- M7:     Astitha schemes introduced

Changes by Patrick Joeckel:
- CHANNEL: bug fix (verbose level) in messy_main_channel.f90, subroutine
  get_channel_object

******************************************************************************

messy_d2.42h (22 Jun 2012)

Changes by Astrid Kerkweg:
- xmessy_mmd*:  0,0 for MMD_layout.nml construction removed
- COSMO:
  - src_advection_rk: subroutine advection_pd: initialise zwc_tke
  - src_gscp:         subroutine hydci_pp:     initialise zdummy
- INT2COSMO
  - src_namelists:    set default value for hstart and hstop
  - SAVE statement added to various modules
- TRANSFORM: options linclbnd, lprinterr added for COSMO
- MPI:       init_par_utilities(4) added (INT2COSMO to COSMO-OUT)
- CHANNEL:   decomposition type DC_MMD_OUT added
- MMD2WAY: update
- MMD library: extended for two-way coupling

Changes by Patrick Joeckel:
- xmesssy_mmd:
  - RESTART and CYLCE cleaned up in messages
  - $EXECUTABLE used everywhere (hard-wired names removed)
  - automatic detection of nudging sub-directory

Changes by Christine Froemming and Patrick Joeckel:
- ATTILA (messy_main_attila_e5.f90): bug fix in initialize_positions_t
	 (for trajectory mode) at start and after restart
- TREXP (messy_trexp_si.f90): memory leak fixed (for L_GP=.FALSE.)

******************************************************************************

messy_d2.42g (01 Jun 2012)

Changes by Patrick Joeckel:
- QTIMER: CPL namelist switch l_deep_thought (default .TRUE.) to
	  suppress deep thought

Changes by Astrid Kerkweg:
- INT2LM: external data: move "get_free_unit" in IF-statement
- DATA: channel objects ilon, ilat introduced (for COSMO)
- CHANNEL: warning to log-file, if object not found

Changes by Patrick Joeckel:
- OFFEMIS: bug-fixes in TENDENCY implementation

Changes by Sabine Brinkop:
- RND: bug-fix in messy_main_rnd_bi.f90, subroutine main_rnd_init_coupling

Changes by Patrick Joeckel (thanks to Hella Riede):
- messy/util/dau-ngrade.tcsh updated
- PSC, MSBM (both SMIL): hard-wired constants replaced by PARAMETERS from
  messy_main_constants_mem.f90

******************************************************************************

messy_d2.42f (23 May 2012)

Changes by Sabine Brinkop:
- LGHPM: update of submodel

Changes by Patrick Joeckel:
- RND: new messy_main_rnd_bi.f90 (for restart handling)
  modified files: messy_main_control_e5.f90, messy_main_control_c4.f90,
  messy_main_control_blank.f90
- TNUDGE: bug fix in MESSYTENDENCY implementation (wrong levels)
- messy/util/check_objects.tcsh upated for ch4*.nml
- new submodel CH4 for simplified methane chemistry (reaction with prescribed
  OH, O1D, Cl and photolysis); based on butterfly-implementation by
  Martin Weismann

Changes by Hiroshi Yamashita:
- CHANNEL: flexible rank for index decomposition (dcindex); modified files:
  messy_main_channel_repr.f90, messy_main_channel_bi.f90

Changes by Holger Tost:
- AEROPT (messy_aeropt_e5.f90): bug-fixes for local array variables

Changes by Patrick Joeckel:
- messy/util/lst2log.gawk: bug-fix for filenames with "f90" in name
- cosmo*/Makefile.in (2x): messy/cosmo/smil removed
- echam5(3.02,3.01)/Makefile.in (2x): bug-fix in LIBSRCS for forcheck
- NCREGRID: messy_ncregrid_tools_e5.f90 modified to allow NCFILE
  regridding of parameter variables; subroutines RGTOOL_E5_READ_NCVAR and
  RGTOOL_E5_READ_NCFILE overloaded for 4D and 5D data, respectively
- IMPORT_RGT: messy_main_import_rgt_bi.f90 modified to allow NCFILE
  regridding of parameter variables
- TREXP: new CPL namelist switch l_allow_ext (default: .FALSE.) to allow
  reaction / decay for non-TREXP tacers (for GP and LG tracers)

Changes by Christiane Hofmann:
- TREXP: allow reaction / decay for non-TREXP tracers (GP tracers only)

******************************************************************************

messy_d2.42e (08 May 2012)

Changes by Patrick Joeckel:
- messy/nml/EXAMPLES/switch.nml: PTRACINI and MMD2WAY added
- messy/util/dau-ngrade.tcsh updated
- updates for check_import_rgt.tcsh, check_import_ts.tcsh
- new messy/util/check_objects.tcsh for checking consistency of
  channel objects between tnudge.nml, offemis.nml, onemis.nml and import.nml
- messy/util/check_tnudge.tcsh removed

Changes by Christiane Hofmann:
- PTRACINI: new submodel; This submodel initialises tracers
  (during the simulation, not during the initial phase) according to field
  given in the namelist.)
- COSMO:
  - src_advection_rk.f90 (2x):
    boundaries for xt_array added (to handle tracer correctly on halo

Changes by Astrid Kerkweg:
- directory: messy/cosmo/smil removed (no code files left)
- MMDSERV: Server files unified to MMDSERV_SI
- MMDCLNT: Client moved to MMDCLNT_SI
- MMD2WAY: new submodel: so far sum of MMDSERV(PARENT_SI) and MMDCLNT (CHILD_SI)

******************************************************************************

messy_d2.42d (04 May 2012)

Changes by Sergey Gromov:
- MECCA(_TAG and _DBL): several updates
- SCAV (messy_scav_si.f90):
  additional code for TAG/DBL in preprocessor directive DBL;
  this should be later solved via MESSYTENDENCY

******************************************************************************

messy_d2.42c (23 Apr 2012)

Changes by Patrick Joeckel:
- IMPORT_TS (subroutine its_set_value_ts): bug-fix; avoid further processing
  (interpolation) if time is out of range and continuation is requested
- COSMO (4.8, src_advection_rk.f90): bugfix for qc advection
- messy/mbm/int2cosmo_1.18_clm2_messy/src/Makefile.m: made machine independent

Changes by Astrid Kerkweg:
- COSMO 4.21 added and modified:
  - lalloc_xxx instead of IF ASSOCIATED(XXX) or IF ALLOCATED(XXX)
    the lalloc_xxx are defined in data_modelconfig.f90
  - interp_utilities.f90: read_grib_api added
  - mpe_io.f90: MPI_SEND replaced by MPI_ISEND (linux cluster got problems)
  - near_surface.f90: alhfl_pl is only defined for lmulti_layer=T
  - organize_physics: bugfix for initialisation of qr and qs to keep
    decomposition independence
- INT2COSMO 1.10
  - cleaned up: data_grid_in.f90, data_int2lm_control.f90, external_data.f90,
    setup_int2lm.f90, src_memory.f90, src_namelists.f90,
    src_read_coarse_grid.f90, src_read_ext.f90
- INT2LM / INT2COSMO 1.18 added
  - src_namelist: bugfix error output for itype_t_cl == 0 and llm2lm
- CHANNEL (messy_main_channel_bi.f90, messy_main_channel_c4.inc)
  - modified for COSMO 4.21 and INT2LM 1.18
  - new file messy_main_channel_i2c.inc
- DATA (messy_main_data_bi.f90):
  - modified for COSMO 4.21 and INT2LM 1.18
- MPI (messy_main_mpi_bi.f90):
  - modified for COSMO 4.21 and INT2LM 1.18
  - 3rd option for switch_parallel_utilities introduced
- MMDCLNT (messy_mmdclnt_c4.f90):
  - updates

******************************************************************************

messy_d2.42b (16 Apr 2012)

Changes by Christine Froemming:
- CONTRAIL: new submodel
- AIRTRAC: update
- CLOUD: additional diagnostic channel object rhc
  (critical humidity for natural clouds); modified files:
  messy_cloud_cover.f90, messy_cloud_e5.f90
- SCAV: new diagnostic channel object (HNO3 tendency) with CPL-namelist switch
  LTEND_HNO3 (default: FALSE); modified files:
  messy_scav.f90, messy_scav_si.f90

Changes by Christiane Hofmann:
- INT2LM (src_grids.f90): bug-fixes for calculation of weights

Changes by Patrick Joeckel:
- TREXP: #define _TFCORR only for ECHAM5, since qlf is not associated
  in COSMO
- CLOUD (messy_cloud_e5.f90): initialise qp1, temp, ztvp1, xlp1, xip1 with
  0.0_dp to avoid undefined values; intialise cloud_tte, cloud_qte,
  cloud_xlte, cloud_xite with 0.0_dp also for kproma:nproma
- echam5/Makefile.in (2x):
  bug-fix in determination of LIBSRCS (e.g. for forcheck)
- messy/smcl/specific.mk, config/mh-aix, config/mh-DEISA: update for
  RUNMODEs (compiler checks now part of F90FLAGS instead of F90)
- dwdlibgrib1: fortran_c.h updated for IBM Fortran/C on Linux
- new (and updated for IBM Fortran/C on Linux) include/cfortran.h,
  identical files in echam5.3.02/support, libsrc/mmd/src,
  mpiom-1.3.0-beta/support, mpiom_2000/support, echam5.3.01/support
  replaced by symbolic links to include/cfortran.h
- xmessy_mmd:
  - call f_start_postproc from different (earlier) position
    (at the old position it is not called for last chain element!)
  - define WDIR for usage in namlist files
  - MMD call for openmpi MPI environment
- DATA: bug-fix for correct output of tm1, qm1, xlm1 and xim1 of ECHAM5 channel

Changes by Astrid Kerkweg:
- TIMER (messy_main_timer_bi.f90): bug-fix in setting stop date

Changes by Roland Eichinger:
- TENDENCY:
  - bug-fix in mtend_get_start_l; set jt for one tracer correctly

******************************************************************************

messy_d2.42 (20 Mar 2012)

Changes by Patrick Joeckel:
- WARNINGS updated
- messy/util/OLD deleted
- ECHAM5
  - mo_io.f90 (5.3.02): IOR(...,NF_64BIT_OFFSET) for the remaining echam5 rerun
    file(s) (thanks to Mohamed Abdel Kader)
  - Makefile.in (5.3.02 and 5.3.01): HAVE_LIBNETCDF64 added to F90DEFS
- GWAVE: dau-ngrade directives for CMAT-dependencies (now via DATA)
  introduced
- H2O: terminate simulation, if H2O tracer was not initialised
- SUBMOD3 (MBM BLANK), OTHERSM (MBM TRACER): call of tracer_iniflag modified
- TRACER: tracer_iniflag modified
- LGHPM:
  - messy inconform USE statements removed
- SCAV:
  - messy_scav_si.f90:
    - altitude = 5000.0 removed (is namelist parameter)
    - zcover initialized with 0._dp
    - mlev calculation moved out of kproma loop
  - messy_scav_inter.f90: max_lev_scav = MAX(2, max_lev_scav) added,
    because elements jk-1 of snow and pdmfdp are used
  - messy_scav.f90: mju_i(jl) = 1.e6_dp (_dp added)
- H2O: lstop=.TRUE. for RGTEVENT_READs
- ECHAM5 (physc.f90, 2x) and DATA (messy_main_data_bi.f90):
  - copies of tte, qte, xlte, xite into *_3d replaced by channel object
    references to channel scnbuf
  - copies of tm1, qm1, xlm1, xim1 into *_3d replaced by channel object
    references to channel g1a
  NOTE: Now the pointers to tte etc. (USEd through messy_main_data_bi.f90)
    and the respective *_3d pointers can be used equivalently. On medium
    term, all submodels need to be modified to use only one set!
- COSMO (messy_main_control_c4.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- MBM BLANK (messy_main_control_blank.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- MBM QBO (messy_main_control_qbo.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- MBM CMAT (messy_main_control_cmat.f90):
  - CALL main_timer_setup(2) moved according to TIMER updates (see below)
- CLOUD: bug-fix (typo in preprocessor directive MESSYTENDENCY)
- xmessy_mmd: test MSH_HOST for user-defined (shell-environment) settings
- CVTRANS: bug fix (ntrac_gp instead of ntrac)
- TNUDGE:
   - channel object name conflict for multi-level nudging resolved
- dau-ngrade.tcsh:
  - new feature: DAU/*/dau.tcsh scripts will be automatically executed
    (after cd to DAU/*)
  - DAU/gmxe constructed
- TRACER:
  - global switches for tracer sets (L_??) moved from messy_main_tracer_bi.f90
    to messy_main_tracer_mem_bi.f90
- DATA:
  - bug fix: pointer assignment xtte_a only if L_LG (used from
    messy_main_tracer_mem_bi.f90)
- GMXE MBM re-introduced, but deactivated
- messy_check_all: avoid error messages, if basemodel is not present
- Makefile.in: bug-fix for target "check"
- echam5/Makefile.in (2x):
  - improved target "list"
  - bug-fix in LIBSRCS list
- COSMO:
  - Makefile.in: improved target "list"
- DATA:
  - messy_main_data_bi.f90: cossza_2d removed (for COSMO only)
    NOTE: For ECHAM5 cossza_2d, cdisse and cdissem cannot be removed yet,
	  because they are heavily used (physc.f90, prerad.f90, etc.)
	  by RAD4ALL and the original ECHAM5 radiation (the latter, if
	  isw_rad4all = 1).
	  A revised radiation submodel should avoid this.
	  MESSy submodels should access cossza, cdisse and cdissem from
	  submodel ORBIT via channel objects.
- COSMO (src_radiation.f90): cossza_2d removed
- MEGAN, CAM:
  - cossza_2d now used as channel object (namelist controlled) from
    orbit (all megan.nml updated, no cam.nml for 3D present)
- aclocal.m4:
  - bug-fix in macro AC_GET_MH (avoid export of commented out assignments)
  - new macro AC_TEST_DOMAIN
- configure.in, configure:
  - use macro AC_TEST_DOMAIN
    Note: the result is so far only used in combination with mh-linux-64,
	where the HOST-Variable is directly tested
  - output information on COMPILER and RUNMODE options with --help option
- xmessy_mmd: function f_get_domain revised
- MECCA1:
  - all mecca1.nml: CTRL_UBP updated
  - messy_mecca1_vec.f90 updated (UBP changes)
  - messy_mecca1_vec_ubp_dec.inc updated (UBP changes)
  - messy_mecca1_vec_ubp_op.inc updated (UBP changes)

Changes by Holger Tost and Patrick Joeckel:
- SCAV (messy/smcl/messy_scav_inter.f90): bug fix in SUBROUTINE SCAV_MAIN
  and SCAV_MAIN2 (col_cov(:) = 0._dp);
  this missing initialisation caused diverging results in identical simulations!

Changes by Andreas Baumgaertner:
- VGLUE:
  - new MBM
  - generic smil
- RADJIMT (messy_radjimt_si.f90):
  - removed cmat dependencies
  - bug fix of memory leak
- CMAT:
  - messy_cmat_si.f90: new variables ht3d_ec, den3d_ec
  - messy_cmat.f90, messy_cmat_genericcomposition.f90, messy_cmat_mem.f90,
    messy_cmat_grid.f90, messy_cmat_inputparams.f90,
    messy_cmat_inputparamsplanet.f90: small updates/fixes
- GWAVE:
  - messy_gwave_si.f90: removed non-messy-conform lines
  - messy_gwave_si.f90: new subroutine gwave_ym_ec for gravity wave
    drag on ECHAM-CMAT whole atmosphere profile
  - messy_gwave_ym.f90: new subroutine ym_read_nml_ctrl
- DATA (messy_main_data_bi.f90):
  - new CMAT variables
- TOOLS:
  - New Subroutine CalcTimeAngles
- messy_main_constants_mem.f90: added M_N2

Changes by Bastian Kern and Andrea Pozzer:
- HD: bug fix to resolve divergence after restart

Changes by Klaus-Dirk Gottschaldt:
- MECCA:
  - Butkovskaya reaction added as an option to: gas_mim1.eqn, gas.spc,
    diagtrac/gas_budgets_butkovskaya.tex, gas.tex, meccanism.tex,
    butkovskaya.bat, rpl/mim1/butkovskaya_*.rpl

Changes by Klaus-Dirk Gottschaldt and Holger Tost:
- SCAV:
  - updates for trapping and diagnostics

Changes by Holger Tost:
- SCAV: unified temperature usage (tm1, tte instead of tm1_3d, tte_3d)
  for impaction scavenging
  (modified files: messy_scav.f90, messy_scav_si.f90, all scav.nml)
- config/mh-linux-64, xmessy_mmd: settings for lc2login*.zdv.uni-mainz.de
- GMXE:
  - files and recipe for dau-ngrading:
     - subsubmodels oc_ageing and aerchem removed
     - changed files: gmxe_e5, gmxe_oc_ageing, gmxe_aerchem
     - files removed: gmxe_aerchem_*
- MPI:
  - mo_tr_gather.f90: bug-fixes for 4D fields
- AEROPT:
  - bug-fix
  - removed debug write statements in messy_aeropt_e5

Changes by Rudolf Deckert:
- MECCA1: revision of L41-UBP parameterisation
  - modified files: diagtrac.tex, gas.spc, L41_ubp.rpl, tracdef.tex,
    messy_mecca1.f90, messy_mecca1_ubp_dec.inc, messy_mecca1_ubp_op.inc,
    mecca1.nml

Changes by Astrid Kerkweg:
- ECHAM5 (mo_time_control.f90, 2x): bug fix in subroutine
  convert_steps2inter
- TIMER: NO_DAYS and NO_STEPS as namelist parameters implemented
  (modified files: messy_main_timer_bi.f90, messy_main_control_e5.f90,
  timer.nml, messy_main_timer.f90)
- messy_main_constants_mem.f90: new constant stDTDZ
- TROPOP: optional calculation of sea level pressure (according to ECMWF)

******************************************************************************

messy_d2.41n (15 Dec 2011)

Changes by Patrick Joeckel:
- RAD4ALL (messy_rad4all_e5.f90): lrestreq=.TRUE. as default for all objects
  in rad4all-channel; fields from radiation are used in radheat, but they
  are not calculated, if restart time step is without radiation calculation
- mo_memory_g3b.f90 (2x): lrerun=.FALSE. deleted for trfli, trflw, trfll,
  sofli, soflw, sofll; the variables are used in physc, but NOT calculated, if
  restart time step is without radiation calculation
- CHANNEL (messy_main_channel_pnetcdf.f90): bug-fix (repeated SAVE removed)
- Makefile.in: "gmake list" improved
- configure.in (configure), mh-linux-64, mh-linux, mh-aix:
  - (auto-)select compiler suite (Linux only, where available):
    ./configure [options] COMPILER=LF|INTEL|G95|GFORTRAN
    (default: machine dependent)
  - select run-time mode
    ./configure [options] RUNMODE=DEBUG|DEBUGOPT(AIX only)|PRODUCTION
    (defaults: Linux: DEBUG, AIX: PRODUCTION)
- QTIMER (messy_main_qtimer.f90): exclude external for gfortran
  (with __GFORTRAN__ preprocessor directive)
- ECHAM5 (src/labrun.f90, 2x): additional preprocessor directives __GFORTRAN__
  for getarg
- TENDENCY: bug fix (POINTER attribute does not allow INTENT attribute)
- E4CHEM:
  - cos zenith angle via namelist, some type modifications
  - all e4chem.nml changed accordingly
- OFFEMIS: terminate, if LG-method and/or GP-method is out of range
- xconfig, xmecca: bug fixes (exit if xmecca exits with error status)
- mo_mpi.f90: MPI_ATTR_GET replaced by MPI_COMM_GET_ATTR for OpenMPI
- ONEMIS:
  - terminate, if tracer does not exist
- OFFEMIS:
  - offemis_init_memory removed
- echam5.3.01/modules/mo_cloud.f90: cauloc for T31,T42 (lmidatm) corrected
- CLOUD (messy_cloud_ori.f90, sucloud): cauloc for T31,T42 (lmidatm) corrected
  (only relevant for echam5.3.01)
- config/mh-linux-64: settings for new Linux-Cluster at DLR
- MPI (mo_mpi.f90): poe-bug workaround for SuperMUC at LRZ (with
  preprocessor directive _XSUPERMUC) removed after poe update
- xmessy_mmd:
  - setup for DLR Linux Cluster
  - stop, if number of tasks is not equal to number of requested tasks
  - minor modifications (mainly for SuperMUC at LRZ)
  - $INPUTDIR_COSMO split into $INPUTDIR_COSMO_EXT (external data, on-line,
    for each instance) and $INPUTDIR_COSMO_BND (boundary data, off-line)
  - $COSMO_EXTDIR[.] = ${INPUTDIR_COSMO_EXT[.]}/$COSMO_SUBDIR[.]
- nml/.../INPUT_IO.nml: $INPUTDIR_COSMO replaced by $INPUTDIR_COSMO_BND

Changes by Holger Tost:
- mo_tr_gather.f90: field declaration changed (mgather_gp3)
- AEROPT: submodel revised; modified files:
	  messy_aeropt_e5, messy_aeropt.f90, messy_aeropt_input.f90,
	  messy_aeropt_mem.f90, messy_aeropt_tanre.f90,
	  messy_aeropt_sets.f90, namelist
- CONVECT: messy_convect_e5.f90, messy_convect.f90: cleaned up
	   initialisation values
- GMXE:
  - various corrections/reformulations; modified files:
    messy_gmxe_e5.f90, messy_gmxe.f90, several sub-submodel files,
    namelists, added an additional gmxe_parameters.inc file,etc.
  - MBM removed
- IMPORT:
  - new oceanic OC emissions (for ONEMIS)
- CLOUD (messy_cloud_ori.f90): corrected wrong interpolation
- CHANNEL:
  - messy_main_channel_repr.f90 added fast transformation case
- ONEMIS:
  - two subroutines added for OC emissions coupled with seasalt
- SCAV: most submodel files (SMCL and SMIL) revised:
	- corrected convective liquid and ice water content
	  (thanks to Klaus-Dirk Gottschaldt and Sabine Brinkop)
	- change of order of processes (nucleation before impaction)
	- modification in nucleation scavenging parameterisation
	- evaporation of aerosols and gases

Changes by Astrid Kerkweg:
- ONEMIS:
  - get cosine of zenith angle via namelist
  - all onemis.nml changed accordingly
- xmessy_mmd: copy INPUT.nml only, if first instance is NOT COSMO
- INT2COSMO:
  - src_namelists.f90: bugfix itype_w_so_rel removed from CONTRL
  - external_data.f90: release_unit
- COSMO:
  - numeric_utilities_rk: zeps revised
  - lmorg.f90 (initialize_loop): exchg_boundaries for xt_array(nnow)
  - numeric_utilities.f90: ireals for constants
  - src_advection_rk.f90: boundary exchange before advection
  - src_relaxation.f90: ireals
- DATA (messy_main_data_bi.f90):
  - lrestreq set for convective and surface fields (for COSMO)
- MMDCLNT (COSMO):
  - messy_mmdclnt_c4.f90: lrestreq=.TRUE. as default
- TRACER_PDEF:
  - coorect negative values also on halo (COSMO)

******************************************************************************

messy_d2.41m (03 Nov 2011)

Changes by Patrick Joeckel:
- SCAV (messy_scav_si.f90): bug-fix, undefined pointer was tested if
  associated (scav_init_coupling)
- MPI (mo_mpi.f90): poe-bug workaround for SuperMUC at LRZ (with
  preprocessor directive _XSUPERMUC)
- xmessy_mmd:
  - all not yet updated xmessy_mmd.* moved to messy/util/OLD
  - new sections for SuperMUC at LRZ
  - new function f_get_domain to determine host.domain
  - error message in f_check_restart improved
- configure.in,configure,config/mh-*:
  - alternative possibilities to specify netcdf-library
    (e.g. required for netcdf 4) and blas/lapack
    libraries (SPEC_NETCDF_INC, SPEC_NETCDF_LIB, SPEC_LABLA_LIB);
    for further comments see end of config/mh-linux(-64)
  - mh-linux-64: settings for SuperMuc at LRZ
- DDEP, SEDI, ONEMIS, OFFEMIS, M7: modified for MESSYTENDENCY
  - allow also lower boundary condition in vdiff; idea: in case
    of flux-option is active, the submodel tendency is zero but the
    vdiff-tendency is non-zero
  - register tracers individually
- JVAL, JVNEW: coupling of cdisse and cossza also for ECHAM basemodel
  completed; this requires now submodel ORBIT
  NOTEs: - cdisse and cossza_2d should be removed from messy_main_data_bi.f90
	   as soon as the new radiation module is finished
	   (use from ORBIT instead!);
	   in the current implementation, RAD4ALL still uses/fills
	   cdisse and cossza_2d from messy_main_data_bi.f90 !
	 - submodels ONLEM/ONEMIS, PHOTO, CAM, MEGAN and E4CHEM use cossza_2d
	   from messy_main_data_bi.f90
- ORBIT switched on in all namelist-setups that use JVAL (orbit.nml linked
  to DEFAULT)

Changes by Astrid Kerkweg:
- MMD (messy_mmdclnt_c4.f90): global_start renamed to init_loop
- CHANNEL (messy_main_channel_bi.f90): trigger always with next-date
  in main_channel_update_timer, messy_channel_write_output
- COSMO:
  - environment.f90: use larger iexchg_MPI_type_len for MESSy
  - src_advection_rk.f90, src_slow_tendencies_rk.f90:
    revised tracer handling (# ifdef NEWADV_TRAC)
  - src_runge_kutta.f90: horizontal diffusion now fit for tendency
  - numeric_utilities_rk: zeps revised
- TRACER:
  - bugfix in main_tracer_init_tracer for MMD initialised tracers
- DATA:
  - test cdisse removed
  - bugfix new calculation of ws
- MMDCLNT: revised tags for exchg_boundaries
- JVAL/JVNEW:
  - coupling to cossza (orbit) added
  - bugfix pre-processor directives
- MECCA:
  - bugfix: do-loops range over ntrac not SIZE(xt,3)
- MECCA1:
  - bug-fixes in aero.rpl
- OFFEMIS: bugfix: in init_coupling mlev did not allow to distinguish
	    surface and Nx2D with only one z-level until now (required for
	    data exchange by on-line coupling)
- INT2LM:
  - src_namelists.f90:bugfix itype_w_so_rel in CONTRL is read again
- messy/util/init_restart: bugfix

Changes by Roland Eichinger:
- TENDENCY:
  - bug-fix in subroutine mtend_register (subroutine call without idt and idt_l)
  - main_tendency_init_memory moved/renamed to main_tendency_init_coupling

Changes by Andreas Baumgaertner:
- JVAL (messy_jval_box.f90): dp added
- CMAT: some bug-fixes for compiltion without MPI (preprocessor directive NOMPI)

******************************************************************************

messy_d2.41l (30 Sep 2011)

Changes by Andreas Baumgaertner
- CMAT:
  - update
  - removed messy_cmat_precision.f90
  - all implicits removed
- mh-linux-64: updates
- TRACER_FAMILY (main_tracer_family_afteradv): some code deactivated
  (for CMAT tracer set)
- MTCHEM: update
- RADJIMT: update

Changes by Roland Eichinger and Patrick Joeckel:
- MESSYTENDENCY and all adapted submodels:
  - renamed:
     p0 -> v0 (subroutine formal parameter)
     p0t -> v0t (subroutine formal parameter)
     jt -> idt (subroutine formal parameter)
     i_idt -> idt_l (subroutine formal parameter)
     mtend_req_pv -> mtend_register
     mtend_it* -> mtend_id*
  - new feature for subroutine mtend_register: multiple calls with
    single tracer IDs or tracer lists are now possible

Changes by Astrid Kerkweg:
- OFFEMIS, ONEMIS, DDEP, SEDI, M7: adapted for MESSYTENDENCY
- OFFEMIS: new entry point offemis_init_memory
- MECCA: bug fixes with rank identifiers for MESSYTENDENCY
- MESSYTENDENCY:
  - finish replaced by error_bi
  - rank identifiers introduced
- messy_main_ppd_si.inc: new identifiers for number of tracers dimension

Changes by Roland Eichinger:
- CLOUD: special treatment of PSCs adapted for MESSYTENDENCY
- MESSYTENDENCY: update, new feature to request copies of tendencies of other
  submodels (subroutine mtend_request)

Changes by Patrick Joeckel:
 - ATTILA: LTRAJEC_DATE, TYPE POSITION and AP expanded to enable also
	   minutes in trajectory start time ("trajectory mode");
	   all attila.nml modified accordingly

******************************************************************************

messy_d2.41k (29 Aug 2011)

Changes by Sabine Brinkop:
- LGHPM: update

Changes by Patrick Joeckel:
 - ATTILA (messy_attila_e5.f90):
   - call attila_initialize_positions_t ("trajectory mode") a second
     time after the driver, in order to keep positions of not-yet-started
     trajectories over the current time step
   - avoid p_bcasts after all trajectories have been started (in
     "trajectory mode")

Changes by Christine Froemming and Patrick Joeckel:
- TNUDGE, SEDI, SCAV, ONEMIS, MECCA, LNOX, JVNEW, JVAL, DDEP, AIRSEA, ONLEM,
  LGTMIX, H2O, DRYDEP, D14CO:
  bug-fix (SMIL, set L_LG to NGCELL >0 instead of NCELL > 0; this is required
  for ATTILA "trajectory mode", i.e., if not all PEs have NCELL >0)
- ATTILA: bug-fix in attila_initialize_positions_t for trajectory mode
	  (return only, if all PEs finished initialisation)

Changes by Patrick Joeckel:
- messy_main_ppd_si.inc: new generic identifiers _XRI_hvh_ and
  _XRI_hhv_ defined, in order to avoid basemodel directives in SMIL-files,
  where appropriate
- TREXP:
  - bug-fix for multiple emission points (in space and time) for the same
    tracer(s)
  - icheck removed and replaced by nlev
  - modified for MESSYTENDENCY
- TNUDGE: modified for MESSYTENDENCY
- MECCA, MECCA_AERO: modified for MESSYTENDENCY
- TENDENCY: bug-fix (2 times l_closure added)
- DRADON: modified for MESSYTENDENCY
- CHANNEL: new namelist switch I_VERBOSE_LEVEL to control output to log-file
  (default 2, 0: only error, 1: initialise and finalise, 2: 1 and time loop)
  modified files: messy_main_channel_io.f90, messy_main_channel_bi.f90,
  messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90,
  messy_main_channel.f90
- dau-ngrade.tcsh: updated
- SWITCH: new namelist parameter L_TIME_INFO to suppress
  output of time information in messy_physc
- CONTROL: output in messy_physc only for L_TIME_INFO = .true.

******************************************************************************

messy_d2.41j (02 Aug 2011)

Changes by Bastian Kern:
- A2O (messy_a2o_e5.f90): use p_bcast only in case of MPIOM_2000

Changes by Roland Eichinger and Patrick Joeckel:
- configure.in (configure), echam5.3.02/Makefile.in:
  new option / preprocessor directive --enable-MESSYTENDENCY

Changes by Roland Eichinger:
- WARNINGS: updated
- xmessy_mmd: copy tendency.nml (required for all setups)
- CONVECT: bug-fix, correct initialisation of sum_wat1, sum_wat2
  (ECMWF scheme)
- CLOUD, CONVECT, RAD4ALL, CVTRANS, GWAVE: (SMIL) alternative start value
  and tendency implementation with MAIN_TENDENCY
- MAIN_TENDENCY: new generic submodel for handling tendencies via
  subroutine calls (instead of direct modification) and internal
  diagnostics
  modified files: messy_main_control_e5.f90
- ECHAM5 (5.3.02 only!): new preprocessor directive encapsulated calls
  to MAIN_TENDENCY submodel; affected files:
  mo_midatm.f90, mo_ssortns.f90, mo_tpcore.f90, dyn.f90, physc.f90,
  scan1.f90, surf.f90, vdiff.f90

Changes by Patrick Joeckel:
- CAABA (messy_mecca_box.f90, messy_main_control_cb.f90):
  exclude radjimt with dau-ngrade directives for dau-ngrading
- dau-ngrade.f90: update
- messy_main_tracer_bi.f90: all tracer-sub-array assignments encapsulated
  in corresponding if-statments
- TOOLS: SMCL now completely DP
- init_restart: bug-fixes
- all specific.mk: cleaned and updated
- messy/util/check_trac_out.tcsh: bug-fix

Changes by Astrid Kerkweg:
- M7: (patch_d2.41i_01) bug-fix in messy_m7_si.f90, completed if-statements

******************************************************************************

messy_d2.41i (26 Jul 2011)

Changes by Bastian Kern:
- SEDI: channel objects for instantaneous sedimention fluxes implemented
- TOOLS: str2num to convert strings into real, real(dp) and integer
- CONVECT (messy_convect_tiedtke_param.f90):
  IF(lcouple .OR. lipcc) cmfctop = 0.22_dp for T42L47MA
- messy_rad4all_e5.f90: modified zinhomi for T42L47MA, if coupled
- OTPHYYSC: tracer input from rivers as fields or constants
- MPIOM:
  - some diagnostic fields introduced
  - correct calculation of upper layer ocean water volume
- SCALC: new submodel for "simple calculations with channel objects",
  currently SUMming is implemented
- Makefile.in: compiler directive ALBMELTHI for MPIOM SMIL

Changes by Patrick Joeckel:
- MSBM: data import via rgt event removed
- all msbm.nml, import.nml: import of H2SO4 for MSBM
- xmessy_mmd: bug-fix, copy script correctly if more than 1 instance
- messy/util/init_restart update and bug-fixes
- messy/util/show_restarts.tcsh to list restart dates in save/????
  subdirectories
- TIMEPOS: preparations for common SMIL; philon,philat not available for COSMO
- RAD4ALL:
  - new scalar channel object dt_offset to pass offset time in seconds to
    ORBIT
  - Note: The new RADIATION scheme needs to encapsulate (global_start)
	  the call to ORBIT:
	    1. RADIATON calculates trigger and time offset
	    2. ORBIT calculates orbit parameters with time offset
	    3. RADIATION calculates radiation
	    Currently, no coupling from ORBIT back to RAD4ALL is implemented!
- ORBIT:
  - modified for common SMIL; sinlat_2d, coslat_2d
  - new subroutine orbit_init_coupling for coupling to radiation
    (the offset in seconds for the radiation calculation is passed to ORBIT)
  - new CPL namelist parameter for offset coupling (radiation)
  Note: RAD4ALL does not (yet) use this, ORBIT is purely diagnostic;
	it is in preparation for the new radiation interface!
- DATA:
  - messy_main_data_bi.f90: sinlon_2d, sinlat_2d, coslon_2d, coslat_2d
- TOOLS:
  - nn_index revised; delivers now always indices in range, optional
    parameters fac and status added
  - locate_in_decomp (ECHAM5): initialisation of OUT variables as in COSMO case

Changes by Astrid Kerkweg:
- AIRSEA:
  - modified for generalised SMIL (messy_airsea_si.f90)
  - division by zero avoided (SMCL)
- O3ORIG:
  - modified for generalised SMIL (messy_o3orig_si.f90)
  - division by zero avoided (SMCL)
- MADE: modified for generalised SMIL (messy_made_si.f90)
- MEGAN: modified for generalised SMIL (messy_megan_si.f90)
- E4CHEM: modified for generalised SMIL (messy_e4chem_si.f90)
- MSBM: modified for generalised SMIL (messy_msbm_si.f90)
- DATA:
   - channel object zust_2d added
   - precflx_no and precflx (similar snowflx) added
   - xlte, xite added
   - channnel object 'aclc' added
- CONTROL: new SMIL-fied submodels added/ renamed
- JVNEW, JVAL:
   - common SMIL
   - jrow removed from SMCL
   - vinit replaced by 0.0
   - Important note: photolysis calculations are now in single precision!
- M7: common SMIL
- DATA (COSMO):
  - psuedo-cdisse = 1
  - qte, tte modified
- MPI (COSMO):
  - exchg_trac_boundaries2
  - bugfix in distribute_character
- COSMO:
  - src_gscp.f90: modified
  - src_soil / src_soil_multlay: calculation of zust_2d added
  - lmorg.f90: preprocessor directive EXCHANGENEW (active) and code for
	       block-boundary exchange of tracers
  - src_advection:rk.f90: preprocessor directve NEWADV_TRAC (active) for
	       time-integration with tendency
  - src_runge_kutta.f90: skip horizontal diffusion for tracers
- SEDI: bug-fix in call to sedi_1
- DATA:
  - messy_main_data_bi.f90: u10, v10 corrected for COSMO

Changes by Volker Grewe and Patrick Joeckel:
- TREXP: time filter correction (only for classic emission points!) revised;
	 new namelist switch l_tf_corr (default: .FALSE.)

******************************************************************************

messy_d2.41h (01 Jul 2011)

Changes by Patrick Joeckel:
- MTCHEM (messy_mtchem_kpp.f90): force -qnocheck on IBM/AIX (smcl/specific.mk)
  because of statements like
    IF (ind_LISOPACO2>0)  RO2 = RO2 +  C(ind_LISOPACO2)
- MPIOM (mpiom-1.3.0-beta/src/mo_octher.f90): non-standrad conform
  OPEN(..., convert=..., ...) statement embedded in preprocessor-directive
  #ifndef NOENDIANCONVERT ...
- CMAT (messy_cmat_planet.f90): bug-fix (or compiler workaround for Intel?);
  the problem was a USE without ONLY combined with a USE of the same module
  with ONLY!
- CAABA/MECCA, KP4 (see messy/mbm/caaba/CHANGELOG):
  - xmecca, kp4.tcsh: make user_contributed/*.bat files selectable
- GWAVE:
  - messy_gwave_si.f90: added compiler directives (e.g. empty module for
    other models than ECHAM5, MBM_CMAT, BLANK, e.g. COSMO)
  - messy_gwave_si.f90: replaced (almost) all #ifdef ECHAM5 by
    #ifndef MBM_CMAT (this needs to be checked !!!)
- xmessy_mmd: bug-fix in f_setup_mbm( ): not all infrastructure namelists
  must be available
- QBO: mbm repaired:
  - rank identifiers used, since QBO (messy_main_data_bi) uses hvh (as
    ECHAM5), but the objects in messy_qbo_si.f90 (shared with ECHAM5!!!)
    use the representations from BLANK (messy_main_channel_bi.f90), and
    BLANK is hhv
- TREXP: leap-frog correction (by Volker Grewe) deactivated with
  _TFCORR preprocessor directive (see header of messy_trexp_si.f90), since
  it does not yet work together with all other changes in TREXP

Changes by Andreas Baumgaertner:
- messy_main_spline.f90: "DP" introduced
- messy_main_cmn_gasaq.f90: bug fixes in comments for H2O and CH3OH (relevant
    for henry2tex.awk)
- KP4:
  - generalization with respect to submodel name (kp4.sh, kp4.tcsh,
    create_kpp_module.C, expand_decomp.C, expand_decomp.h
  - new submodel mtchem (--> directory def_mtchem)
- MTCHEM: new submodel
- CAABA/MECCA: generalization with respect to chemistry submodel name
  (for details, see messy/mbm/caaba/CHANGELOG)
- bug fixes in several files: changed line continuation for strings from
  && to &// (for compatibility with SunOS)

Changes by Rolf Sander:
- CAABA/MECCA: update to 3.2 (for details, see messy/mbm/caaba/CHANGELOG)
- messy/util/validate: check also all *.inc files for TABs
- Makefile.in: gmake TAGS updated
- messy_mecca_aero_si.f90: some local idt variables renamed:
  idt_Hp -> idt_Hp_aq etc.
- CMAT and MTCHEM added:
  - messy/tools/kp4/def_mtchem
  - messy/mbm/cmat
  - messy/smcl/messy_mtchem*
  - messy/smil/messy_mtchem*
  - messy/nml/MBM/cmat/mtchem.nml

Changes by Rolf Sander and Astrid Kerkweg:
- messy_mecca_aero_si.f90: bug fix, changing idt_Hp_cs -> idt_Hp_aq(i)

Changes by Astrid Kerkweg:
- CHANNEL: representation GP_1D_LEV introduced
- DATA:
  - channel objects dhyam, dhybm (ECHAM5 & COSMO) and dhyai, dhybi (COSMO)
    introduced
  - channel reference for coriolis parameter added (COSMO)
  - data_init_coupling for calculation of hybrid coefficients added (COSMO)
  - COSMO/MESSy limited to ivctype == 1 (error otherwise)
  - vom1 (relative vorticity) added for COSMO
  - t_s renamed to tsurf (COSMO), changed in all mmdclnt.nml
  - in calc_boundary_layer: ztheta1 renamed to channel object tpot_3d (COSMO)
- CONTROL:
  - messy_main_control_c4.f90:
    - call data_init_coupling added
    - CALLs to TROPOP added
  - messy_main_control_e5.f90:
    - tropop_e5 renamed to tropop_si
- TROPOP:
  - modified for generalised SMIL (messy_tropop_si.f90)
  - REAL(dp) introduced
  - bugfixes for WMOtropop (array boundaries)
  - new routines for pbl height calculation (for COSMO) introduced
- TNUDGE: bugfix for rank identifier
- messy_main_ppd_si.inc:
  - _RI_YZr_ :  k1:k2 renamed to kmin:kmax
  - _RI_YZvr_ kmin(jp):kmax(jp),jrow  jrow,kmin(jp):kmax(jp) added
- VISO: adjusted to renamed _RI_YZr_
- MMDCLNT / MMDSERV: improved error output for Define_data_arrays

Changes by Volker Grewe:
- TREXP: oscillation due to leap-frog time filtering avoided for first
	 emission timestep

Changes by Patrick Joeckel:
- LNOX: set default of i_ff_cpl = 1
- TREXP:
  - new feature implemented; coupling to time series (IMPORT_TS) is
    now possible to prescribe realistic "vertical line emissions"
    Note: namelist incompatibility to previous versions!
    - all existing namelists modified accordingly
  - flux correction according to modulo time step length
- IMPORT_TS: bug-fixes; allow scalar data with default dimension d0=1
- MSBM: offlem channel changed to import_rgt for HNO3_tot in case of QCTM

******************************************************************************

messy_d2.41g (22 Jun 2011)

Changes by Patrick Joeckel:
- LNOX:
  - messy_lnox_si.f90: c_updr, c_freeze, cu_xupdr, cu_jkfreeze removed
		       l_midlevel, c_top_mid, c_bot_mid, c_freeze_mid
  - all lnox*.nml: c_updr, c_freeze ... removed
- SCAV:
  - all scav*.nml: added
     boxarea = 'geoloc', 'gboxarea', ! grid box area

Changes by Astrid Kerkweg:
- COSMO
  - src_conv_tiedtke: cu_top, cu_bot, cv_precnew and cv_snownew picked from
    the convection parameterisation
  - src_gscp:  get precmelt_ls, rainform_bave, snowform_bave, precflx_ls
    snowflx_ls, preccover_ls, sediice_ls for lprogprec = .TRUE.,
    irunge_kutta > 0, itype_gscp=3 or 4
  - lmorg: messy_local_end added, messy_write_output split in 2 parts
  - parallel_utilities: MPI_SUM, MPI_MAX, MPI_MIN PUBLIC
- MESSy:
  - CHANNEL: special case for GP_3D_1LEV added (different gather/scatter
		 required)
  - MPI:
    - additional routines, MPI types used from parallel_utilities
    - interface and respective subroutines global_fields added
      (required to calc global MAX, MIN, SUM)
    - special case for GP_3D_1LEV added (different gather/scatter required)
  - DATA:
    - channel objects added for convective and large scale variables
      required by SCAV / LNOX
    - channel object gboxarea_2d renamed to gboxarea
    - set nlon = ie_tot
  - SWITCH: switch_init moved to bi to reduce dependencies (via USE_MLOCEAN)
    of BML to SMCL
  - TRANSFORM: locate_in_decomp adjust to MMDSERV requirements
  - CONTROL_C4: lnox_global_end added (Dahl scheme)
  - messy_main_ppd_si.inc: redefine _RI_YCC_ for consistency reasons
  - MMDSERV:
    - remove local locate_in_decomp subroutine, used subroutine of
      TRANSFORM instead
    - bugfix waittime channel object, incl. definition of attributes
  - MMDCLNT:
    - bugfix waittime channel object, incl. definition of attributes
    - improved debug output for unknown interpolation method
  - LNOX:
    - bugfixes for rank flipping
    - new COSMO specific scheme partly introduced (not yet tested, MESSy
      conform, no channel output)
  - MECCA-AERO: bugfix Hp index
  - ONEMIS: bugfix for COSMO representation ncl_yl95
  - OFFEMIS: adjusted to new RI definition of _RI_YCC_
  - SCAV:
    - add namelist entry for gboxarea coupling
    - bugfix for rank differences COSMO ECHAM
  - MECCA1: bugfix in gas.spc: LossO3N was defined twice
- NML: new nml dir MMD/CHEM

******************************************************************************

messy_d2.41f (17 Jun 2011)

Changes by Patrick Joeckel:
- xmessy_mmd: bug-fix for user-defined namelist file names
- BLANK:
  - messy_main_control_blank.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- CMAT:
  - cmat.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- QBO:
  - messy_main_control_qbo.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- GWAVE:
  - gwave.f90: main_channel_global_end renamed/moved to
    main_channel_write_output
- CHANNEL:
  - channel_bml.f90: main_channel_global_end renamed to
    main_channel_write_output
  - messy_main_chhannel_bi.f90: ain_channel_global_end renamed to
    main_channel_write_output
- SPE:
  - spe.f90: main_channel_global_end renamed/moved to
    main_channel_write_output

******************************************************************************

messy_d2.41e (17 Jun 2011)

Changes by Patrick Joeckel:
- CONTROL:
  - messy_main_control_c4.f90:
    - messy_write_output split with flag argument to allow two calls
    - call to main_channel_write_output added
  - messy_main_control_e5.f90:
    - call to main_channel_write_output added
- CHANNEL:
  - main_channel_global_end renamed to main_channel_write_output
    (i.e., call to main_channel_update_time -> trigger_channel_output
    moved after the <SM>_write_output
- COSMO (lmorg.f90):
  - CALL messy_local_end added
  - CALL messy_write_output split with flag argument (to allow COSMO specific
    output calculations in between two calls)
- DATA:
  - messy_main_data_bi.f90: nlon set (for COSMO)
- TRANSFORM:
  - messy_main_transform_bi.f90: locate_in_decomp_4 (for COSMO) corrected
- MMD (messy_mmdclnt_c4.f90): waittime initialised in mmdclnt_global_start
- TOOLS:
   - messy_main_tools.f90: nn_index updated
- S4D: updates and bug-fixes (initialisation before import of new data in
       subroutine read_s4d_data_files)
- SORBIT: limit DT has no effect for COSMO
- xmessy_mmd: allow specification of namelist files (e.g. resolution or
  start-date dependent) for all messy submodels (including the generic
  submodels)
- messy/nml/README updated
- messy/util/check_tnudge.tcsh to check the consistency between tnudge.nml
  and import.nml
- messy/util/check_import_rgt.tcsh (and time2yyyymmdd_hhmm.tcsh) for
  checking the consistency of the import.nml with its dependent
  import/*.nml and corresponding netCDF files

******************************************************************************

messy_d2.41d (25 May 2011)

Changes by Volker Grewe:
- TREXP: bug fix in calculation of start values (for time integration)

Changes by Patrick Joeckel:
- DATA: ps_2d renamed to aps (COSMO)
- S4D: modified for generalised SMIL (messy_s4d_si.f90); lcalc modified,
  if location out of region
- messy_main_transform_bi.f90: locate_in_decomp_nrst (for COSMO) modified and
  locate_in_decomp_4 implemented
- messy_main_control_c4.f90: SORBIT, SCOUT, VISO included
- messy_main_ppd_si.inc: new directive _RI_YZr_
- VISO: modified for generalised SMIL (messy_viso_si.f90)
- SCOUT: modified for generalised SMIL (messy_scout_si.f90)
- SORBIT: modified for generalised SMIL (messy_sorbit_si.f90)

Changes by Astrid Kerkweg:
- MMD: bugfix for waittime; waittime made to channel objects
- COSMO:
  - hori_diffusion, lmorg: updates for tracer transport
  - lmorg: split messy_global_end in two parts
- INT2LM:
  - external_data:
    - release file unit (nuchkdat)
    - bugfix for rootdp_mx
  - src_vert_inter_lm: skip code part setting tracers smaller than 10^-12
		       to zero
- CONTROL(for COSMO): split messy_global_end in two parts
- TRACER_PDEF: change tracer mass diagnostic for COSMO model (act allways
	       on xt (= nnew time level)
- TRACER: (tracer_bi): bugfix for COSMO memory allocation
- DATA: lrestreq added for convection variables and cvs
- CHANNEL: option "only one channel" for messy_channel_read_restart;
	   modified files: messy_main_channel_bi.f90, messy_main_channel_io.f90

Changes by Christine Froemming and Patrick Joeckel:
- TREXP: bug-fix: skip emission into non-TREXP tracers, if they do not exist

Changes by Patrick Joeckel:
- PSC: bug-fix for kinpar: representation SCALAR for r_kinpar
- MSBM:
  - submodel name in tracer structure corrected (for kinpar)
    (this is a minor bug-fix)
  - r_kinpar (for coupling to HETCHEM removed)

Changes by Hella Garny:
- TOOLS/STRATO3BUD: update to be consistent with gas_mim1.eqn of MECCA

******************************************************************************

messy_d2.41c (11 May 2011)

Changes by Patrick Joeckel:
- TOOLS (biogen,edgar2nc,jvpp,meteodiag,mpiom_grid,ncdx,prodloss,strato3bud):
  - use util/locate_f90.sh in Makefile.m to overwrite F90 with
    non-MPI wrapped compiler (to enable execution of non-parallelised tools
    on IBM-Power6 etc.)

Changes by Hella Garny:
- TOOLS/STRATO3BUD: new tool for calculating (post-processing) the
  stratospheric ozone budget

Changes by Volker Grewe:
- O3ORIG: update

Changes by Klaus-Dirk Gottschaldt:
- SCAV: (patch_2.41_01) bug-fix in new diagnostics
  (messy_scav.f90, SCAV_EASY_I3)

Changes by Volker Grewe, Rolf Sander:
- TOOLS/PRODLOSS: minor modifications and enabling for MECCA

Changes by Patrick Joeckel:
- messy/smcl/specific.mk: (patch_2.41_01) exclude messy_mecca.f90
  from array-bound checks on IBM architectures
- messy/util/update_switches.tcsh: new script to re-create all
  switch.nml from messy/nml/EXAMPLES/switch.nml

******************************************************************************

messy_d2.41b (13 Apr 2011)

Changes by Christine Froemmming:
- AIRTRAC: new submodel for aircraft emissions
- MECCA1: diagtrac.tex, tracdef.tex, gas.spc: new diagnostic
	  species for AIRTRAC
- MECCA: - diagtrac/airtrac.tex: new diagnostic species for AIRTRAC
	 - batch/airtrac.bat: new batch file for AIRTRAC meccanism

Changes by Patrick Joeckel:
- MECCA1: messy/mbm/mecca1/vector/xvector: bug-fixes
- A2O: bug-fix in messy_a2o_e5.f90; in case of MPIOM_13B the logical p_io
       is USEd twice, once from messy_main_mpi_bi and once from
       messy_mpiom_mem_e5 (via mo_parallel) due to missing ONLYs; in addition
       p_bcast cannot be resolved correctly
- config/mh-DEISA: updates for SX9

******************************************************************************

messy_d2.41 (05 Apr 2011)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh updated
- AUTHORS updated
- WARNINGS updated

Changes by Bastian Kern and Volker Grewe:
- E4CHEM: corrected sign for Br loss term

Changes by Volker Grewe:
- PRODLOSS: new tool to generate diagtrac.tex files for family based
  production/loss budgeting in MECCA1/KPP1

Changes by Nicole Thomas:
- configure(.in), mh-*: optional NETCDFLIBDIR and NETCDFLIBS for
  complete netcdf-4 libraries

******************************************************************************

messy_d2.40i (17 Mar 2011)

Changes by Patrick Joeckel:
- MECCA:
  - new CPL-namelist entries (c_pa_asm and i_pa_amode) to determine
    aerosol model (delivering properties as radius, sigma) and mode
    during run-time for pseudo-aerosol tracers (see gas.tex)
- WARNINGS, dau-ngrade.tcsh updated
- MADE: submodel and box-model adapted to cycle 2 infrastructure
- ONLEM: updated (OC/BC according to changes for 1.10f and ONEMIS)
- messy_main_mpi_bi.f90: subroutine distribute_character modified for
  arbitrary string lengths (as p_bcast_character_1d)
- PLUMEGAS: new submodel (see 1.9d) for cycle 2; modified for ECHAM5 and COSMO
  - modified files: messy_main_switch.f90
		    (messy/mbm/qbo/smcl/messy_main_switch.f90)
		    messy_main_switch_bi.f90
		    messy_main_control_e5.f90
		    messy_main_control_c4.f90
  - new files: messy_plumegas.f90
	       messy_plumegas_si.f90
	       plumegas.nml
- MSBM: updated according to bug-fixes in PSC

Changes by Holger Tost:
- SCAV: - updates for species structure
	- HNO3 - Ice interactions (alternative formulation added together
	  with Klaus Gottschaldt)
	- boxmodel updated
- GMXE: boxmodel updated
- ISORROPIA: Boxmodel added
- ONEMIS: OC and BC emissions modified / expanded
- GMXE update / reimplementation
- SATSIMS: new submodel (ISCCP simulator)
- RAD4ALL: additional diagnostic channel objects (for SATSIMS)
- AEROPT: new submodel (aerosol optical properties)
- MECCA:
  - definition of aerosol tracers completed / corrected
  - tracdef.awk: bug fix
  - gas.tex: pseudo aerosol tracers modified
- messy_cmn_gasaq.f90: update for pseudo soil solubility / dryreactivity for
  drydep
- messy_cmn_aqattr.f90: updates
- messy/nml/ATF/DEFAULT: new setup for gmxe aerosol

Changes by Rudolf Deckert (see 1.10e):
- PSC: bug-fixes for QCTM mode

Changes by Bastian Kern:
- OTPHYSC: bug-fix; missing preprocessor directive

Changes by Patrick Joeckel:
- xmessy_mmd: various updates
- messy/smcl/Makefile.m: compiler info treatment revised
- *.md5 (md5sum) files excluded in zip.sh
- configure.in, configure, Makefile.in:
  - checking for md5sum
- BLANK, QBO: basemodels repaired
  (renamed endfile_bi into messy_blather_endfile_bi)
- config/mh-DEISA updated
- dau-ngrade.tcsh updated

Changes by Patrick Joeckel (see 1.10e):
- modifications in ECHAM5 source code (echam5.3.01) transferred to echam5.3.02
- WARNINGS: updated
- MLOCEAN, messy_main_control_e5.f90: reduced to one entry point named
  messy_mixlo (calling mlocean_mixlo) in order to avoid naming conflicts
  with module messy_mlocean and subroutine mlocean_mlo

Changes by Markus Kunze (see 1.10e):
- MLOCEAN: new submodel
- changes necessary to implement submodel MLOCEAN
  - sicetemp.f90
    - added pre-processor directives
    - USE messy_main_switch, ONLY: USE_MLOCEAN
    - IF(USE_MLOCEAN) calculate sea ice temperature within submodel.
  - gpc.f90
    - added pre-processor directives;
    - USE messy_main_switch, ONLY: USE_MLOCEAN
    - IF (.NOT.USE_MLOCEAN) CALL clsst
  - physc.f90
    - added interface to MESSy submodel MLOCEAN: CALL messy_mlocean
    - USED from messy_main_data_bi: evapi, cvsi, ahfsw, ahfsi
    - zevapi declared as POINTER to evapi
    - zcvsi declared as POINTER to cvsi
    - zhfsw declared as POINTER to ahfsw
    - zhfsi declared as POINTER to ahfsi
    - zhflw declared as POINTER to ahflw (used from mo_memory_g3b)
    - zhfli declared as POINTER to ahfli (used from mo_memory_g3b)
  - mo_sst.f90
    - added: USE messy_main_switch, ONLY: USE_MLOCEAN
    - lmlo (ECHAM5 style) and USE_MLOCEAN (MESSy style) can be used
      alternatively.
  - messy_main_bmluse_bi.f90
    - added:
    - use nmw1, nmw2 from mo_interpo.f90
    - USE mo_sst,  ONLY: sst, aice
  - messy_main_data_bi.f90
    - use additional variables from mo_memory_g3b:
      ahfice, ahfli, ahflw, ahfres, ahfcon,
      amlcorr, amlcorac, amlheatac,
      fluxres, friac, qres,
      siced, soflw, sofli, trflw, trfli
    - added additional 2-dimensional POINTERS:
      ahfsw, ahfsi, cvsi, evapi, fsnet
    - added additional elements to messy stream:
      ahfsi, ahfsw, evapi, cvsi, fsnet
    - added as reference from g3b stream to messy stream:
      tsw, siced, fluxres, ahfli, ahflw, trfli, trflw,
      soflw, sofli, ahfice, amlcorr, qres
  - messy_main_constants_mem.f90
    - added additional parameters:
      M_O2, rho_sea, alv, als, clw, csw, ctfreez

Changes by Simone Dietmueller and Michael Ponater (see 1.10e):
- ml_ocean.f90
  - code for ECHAM5 mixed layer ocean included
- mo_sst.f90
  - check order of the latitudes and turn if necessary
- xmessy:
  - added switch USE_MLO
  - USE_MLO is used to initialise LMLO which is passed to the
    &RUNCTL namelist of ECHAM5.nml

Changes by Patrick Joeckel:
- init_restart_inst merged into and init_restart

Changes by Andrea Pozzer:
- MEGAN: new submodel for biogenic emissions

Changes by Astrid Kerkweg:
- xmessy_mmd:
  - bugfix YUDEBUG_i2cinc also moved during clean up
  - bugfix cleanup done for all instances before interruption
- xmessy_mmd.extra : script with 12 COSMO instances
- new script init_restart_inst (to be merged with init_restart later)
- COSMO:
  - src_radiation: bugfix
  - src_grids:  bugfix, avoid artifical stripes
  - lmorg:
    - re-name endfile_bi to messy_blather_endfile_bi
    - new entry point messy_init_loop for boundary data
  - src_advection_rk: provide local copies for INTENT(IN) variable (s)
  - src_allocation: re-name messy_create_cosmo_channel to
			    messy_COSMO_create_channel
			and messy_dealloc_meteofields to
			    messy_COSMO_dealloc_meteofields
  - src_setup: re-name reinit_COSMO_time to messy_timer_COSMO_reinit_time
- BLATHER: re-named endfile_bi to messy_blather_endfile_bi
- CHANNEL:
  - re-named messy_create_cosmo_channel to messy_COSMO_create_channel
    and messy_dealloc_meteofields to messy_COSMO_dealloc_meteofields
  - change channel_halt call string
- TRACER: new default for xt_bd
- TIMER/CHANNEL: re-name reinit_COSMO_time to messy_timer_COSMO_reinit_time

******************************************************************************

messy_d2.40h (22 Feb 2011)

Changes by Patrick Joeckel and Bastian Kern:
- configure, Makefile.in: detection of MPIOM version from mpiom/mpiom.vers
  file; this is translated into a preprocessor directive
- mpiom_2000/Makefile.in for stand-alone ocean model
  (does not work yet due to undefined references to cdi library routines;
  although the preprocessor option NOCDI is present)
- echam5.3.01/modules/mo_mpi.f90 is link to messy/bmil/mo_mpi.f90

Changes by Patrick Joeckel:
- CVTRANS (messy_cvtrans_si.f90):
  - bug-fix; correct initialisation of variables mu, md etc.
  - unused channel objects kbot, ktop, krain removed
- CAABA/E4CHEM: repaired; ozone diagnostic added, including output
- add compiler information to executable (log-output and global attributes)
  - configure, config/mh-*, Makefile.in:
    - F90VERS with compiler version information added
  - messy/smcl/Makefile.m:
    - rm messy_main_compilerinfo_mem.f90 with target distclean
    - new targets to update compiler setup
  - messy_main_compilerinfo_mem.f90.in: new file
    (compiler information inserted by gmake)
    Notes:
    - ./configure first copys the file to messy_main_compilerinfo_mem.f90
      in order to allow "gmake check" after configurtion, correct dependencies
      etc.
    - gmake then "updates" the information, because the user could change the
      compiler version etc. without re-configuration
  - dau-ngrade updated
  - CHANNEL (messy_main_channel_e5.inc, messy_main_channel_c4.inc):
    compiler information as global attributes
  - echam5/master.f90 (2x): output compiler version etc.
  - zip.sh: exclude messy/smcl/messy_main_compilerinfo_mem.f90

Changes by Bastian Kern:
- E4CHEM: Ozone budget (diagnostics)
- HAMOCC:
  - switch (L_SKIP_INT) for passive ocean tracer tests
- OTPHYSC:
  - switches for processes

Changes by Andrea Pozzer:
- MPIOM: new version included;
  - MPIOM_2000: new version
  - MPIOM_13b : old version
  updated files:
  - messy/bmil/mo_mpi.f90
  - messy_main_mpi_bi.f90
  - messy/echam5/smil/messy_mpiom_e5.f90
  - messy/echam5/smil/messy_mpiom_mem_e5.f90
  - messy/smcl/messy_mpiom.f90
- A2O, HAMOCC, OTPHYSC: updated for new ocean model

Changes by Patrick Joeckel:
- config/mh-linux-64, xmessy_mmd: new setup for JUROPA
- echam5.3.01: bug-fix in initialize.f90
- improved (in performance) grid-point gather (gather_field instead of
  gather_gp), courtesy of Joerg Behrens, DKRZ, developed within the
  SCALES project;
  new file (2x): echam5/modules/mo_tr_gather.f90 (modified !)
  modified files: messy_main_channel_bi.f90, messy_main_mpi_bi.f90,
		  messy_main_transform_bi.f90
- full model suite successfully compiled with g95 (v0.92) and
  openmpi (v1.4.3) on a 32-bit Linux PC
- config/mh-linux*: 32-bit Linux files merged
- config/mh-linux and config/mh-linux-64: compiler suite option added
  (currently only implemented for mpc* and lx*)
- COSMO: backslashes (\) at the end of comment lines deleted, since
	 the g95 compiler interprets them as continuation line (!)
	 modified files: src_obs_proc_cdf.f90, src_lheat_nudge.f90

Changes by Holger Tost:
- TIMER, ADVECT, A2O, HD, LGGP, LGVFLUX, O3ORIG, OTPHYSC, NCREGRID, CAM,
  M7, SCAV: INTEGER(I4) removed
- TRACER_FAMILY: workaround for g95
- ATTILA, RND: explixit integer type conversion
- GMXE: updates
- ONEMIS: additional separate OC/BC emissions

Changes by Sigrun Matthes and Patrick Joeckel:
- GWAVE:
  - "IMPLICIT NONE" added to subroutines
  - order of declaration changed (as workaround, since the intel compiler
    (ifort (IFORT) 10.1 20090817) requires a INTENT(IN) integer i to be
    declared BEFORE it is used, e.g., in a REAL(DP), INTENT(IN) :: a(i)
    declaration)
    modified files: messy_gwave_ad.f90, messy_gwave_hines.f90,
		    messy_gwave_hlm.f90, messy_gwave_mk.f90,
		    messy_gwave_rayleighbg.f90

Changes by Bastian Kern:
- E4CHEM (messy_e4chem.f90):
  - zdeltao3_brv initialised and correctly set at night
  - warning if H2O is lower than -1.e12

Changes by Patrick Joeckel:
- MECCA (messy_mecca_si.f90): gas_eqn_file, rplfile, wanted and diagtracfile as
  global channel attributes added
- E4CHEM: philat(ilat(:,:)) replaced by philat_2d(:,:)

******************************************************************************

messy_d2.40g (13 Dec 2010)

Changes by Patrick Joeckel:
- CAABA (messy_e4chem_box.f90): bug-fixes for updated SMCL file

Changes by Andreas Baumgaertner:
- E4CHEM: update with bug-fixes

Changes by Astrid Kerkweg:
- COSMO: lmorg: usage of xt_bd in initialise_loop changed
- TRACER: bi: initialise xt_bd by -999._dp

Changes by Patrick Joeckel:
- DATA: coslon_2d and coslat_2d as channel objects
- RAD4ALL_ORBIT: important bug-fix for MESSYTIMER usage; integer->real(dp)
  for orbit and solar zenith angle calculation
- ORBIT: new submodel (orbit calculation as in ECHAM5 radiation scheme,
	 including solar zenith angle calculation); at the moment purely
	 diagnostic
- IMPORT (messy_main_import_rgt_bi.f90): SAVE added
- ONEMIS (messy_onemis_si.f90): bug-fix in NO emission, ncl_yl95
- SCAV (messy_scav_si.f90): bug-fix; uninitialised variables initialised with 0.
- xmessy_mmd: bug-fix, feature to allow user-defined specific namelist-files,
  e.g., resolution dependent
- BUFLY: bug-fix (temperature tendency)
- messy/smil/specific.mk: modifications for messy_scav_si.f90 (rs6000)

******************************************************************************

messy_d2.40f (29 Nov 2010)

Changes by Andreas Baumgaertner:
- GWAVE: all e5 modules merged to si module
- mbm/spe: Makefile bugfixes
- SPE, SPACENOX: modified for import_ts (instead of import_tseries)
- MAIN_TSERIES removed
- RADJIMT: new submodel (not yet called from messy_main_control_e5.f90)
- messy_cmn_photol_mem.f90: added items

Changes by Patrick Joeckel:
- BUFLY:
  - some "bug fixes" in comments (message_e5 replaced by message_bi)
- messy_main_constants_mem.f90: new placeholder for dau-ngrading options
- mo_mpi.f90
   - moved from echam5.3.02/modules to messy/bmil
   - link in echam5.3.02/modules to messy/bmil/mo_mpi.f90
   - link messy/mbm/cmat/bmil/mo_mpi.f90 corrected
- dau-ngrade.tcsh updated
- xconfig: extended for dau-ngrading
- all MBMs that create the _<ARCH> subdirectory for compilation
  (GWAVE, QBO, SPE, CMAT, BLANK)
  now create the __<ARCH> subdirectory to allow zip of _* files;
  for consistency this has also been changed for legacy basemodels

Changes by Rolf Sander:
- confopt "--disable-MPI" added for bromine in messy/util/xconfig
- messy_cmn_gasaq.f90: updates

******************************************************************************

messy_d2.40e (22 Nov 2010)

Changes by Patrick Joeckel:
- WARNINGS updated
- several fixes for dau-ngrading
- xecham renamed to xconfig (since it is not longer used for echam only,
  but rather for the configuration of the code); minor modifications

Changes by Christiane Hofmann:
- DATA: channel object and calculation for sea level pressure added for ECHAM
- INT2COSMO:
    - src_2d_fields: bugfix: w_so calculation added "+1" to 2 do-loops

Changes by Astrid Kerkweg:
- all files:
  - mz_ak_20[08,09,10]* replaced by um_ak_20[08,09,10]*
  - mz_gg_* replaced by um_gg_*
- BLATHER (messy_main_blather_bi.f90): bug-fix for optional parameter substr
- CHANNEL (messy_main_channel_tracer.f90):
  optional parameter added to create_tracer_channels to force extendend
  tracer memory to restart file (required for boundary fields)
- TIMER: ltrigrestart_ori removed
- DATA/CONTROL: subroutine  main_data_set_physc (COSMO only) removed
- CHANNEL_C4: lon_tot, lat_tot removed
- MMDSERV:
  - NCPL renamed to NEXCH
  - CPLTIMER renamed to CPL_EVENT
  - remove ltrigrestart_ori
- MMDCLNT:
  - cleaned up
  - NCPL renamed to NEXCH
  - BREAKTIMER renamed to BREAK_EVENT
  - CPLTIMER renamed to CPL_EVENT
  - MMD_C_Set_DataArray_Name (LastEntry) reorganized to
    MMD_C_Set_DataArray_EndList
  - flag_fields moved to / rewritten for application in move-routines
- COSMO cleaned up
   - organize_data: force lbdclim to be TRUE for on-line coupling
- INT2COSMO cleaned up
   - src_grids, src_vert_interpol, src_lm_fields; bugfix: calculation of
     longitudes and latitudes from startlon_tot/startlat_tot
   - src_namelist: lbdclim  now also set by COSMO (and forced to TRUE)
- MMD lib:
   - cleaned up
   - MAX_MODEL renamed to MMD_MAX_MODEL in Fortran95 and C part
   - mmd_client:
     - MMD_C_Set_DataArray_Name (LastEntry) reorganized to
       MMD_C_Set_DataArray_EndList
     - ME renamed to Me
   - mmd_server: DIMLEN renamed to DimLen

Changes by Bastian Kern:
- CHANNEL
  - messy_main_channel_netcdf.f90: bug-fix in ch_netcdf_finish_io
  - messy_main_channel_pnetcdf.f90: bug-fix in ch_pnetcdf_finish_io

Changes by Andreas Baumgaertner:
- CMAT: see messy/mbm/cmat/CHANGELOG
- DATA: For ECHAM5 Added positive=eastward/northward to um1/vm1
- GWAVE: new submodel for gravity wave parameterisation(s)
- CHANNEL: using DIMID_cmat_lat/lon for REPRID_cmat3D (otherwise flipped
	  lat grid). Bugfix: CMAT dims+reps only created if USE_CMAT=T
- E4CHEM: bug fix for kproma.ne.nproma
- MPI: boundary exchange routines updated
- DECOMP: bugfixes for CMAT, diagonal neighbors implemented
- UTIL: antimessy heavily updated
- xmessy_mmd: cmat included
- NML: E5CMAT for ECHAM5/MESSy with CMAT, CMAT for mbm/cmat
- patches/lf95_tracer_compile_speedup.patch: bug fix

Changes by Patrick Joeckel:
- WARNINGS updated
- eddiff renamed to mddiff
- libsrc/isorropia/Makefile.m: bug-fix (Fortran77 !)
- dau-ngrade.tcsh updated
- messy/nml/MBM/caaba added to be able to run CAABA with xmessy_mmd
- xmessy_mmd: some "workarounds" to enable running CAABA from xmessy_mmd
- xecham:
  - showing currently active meccanism selection string fixed for kp4 usage
  - added same functionality for SCAV and MECCA1
- MECCA  (xmecca) : allow negative diagnostic products in diagtrac/*.tex
- MECCA_AERO (messy_mecca_aero_si.f90):
  - call to cmn_gasaq_initialize added
- messy_cmn_gasaq.f90 and messy_cmn_aqattr.f90:
  - logical added to prevent multiple processing in *_initialize

Changes by Hella Riede:
- TOOLS (messy_main_tools.f90):
  - new functions relhum2mr and relhumwmo2mr: convert relative humidity to
    mixing ratio; generic, but right now only needed in CAABA
    since all humidity via relhum or relhumwmo
  - corrected all functions involving spechum, relhum, psat to account for
    press being pressure of HUMID atmosphere
  - noticed that psat < 0 between roughly 211.4 K and 187 K, which is
    reached in UTLS; now using recommended functions from Murphy and
    Koop, QJRMS, 2005: psat_mk (ice below 273.15, analogous to tlucua
    from init_convect_tables) and psat_mk(l_liquid=T) (above liquid
    water, analogous to tlucuaw; both converge to zero with decreasing
    temperature, always > 0
  - l_psat_emac: switch for alternative to psat_ice and psat_liq: use
    look-up tables from init_convect_tables in messy_main_tools.f90 to
    be consistent with EMAC; standard: psat_mk; init_convect_tables
    called from caaba.f90 is switch true
  - if simulation under supercooling effects wished when using
    spec2relhum and similar functions: always use psat_mk(l_liquid=T),
    analogous to tlucuaw
- TIMER: eval_time_str updated
  - both date formats, YYYY-MM-DD and DD-MONTH-YYYY accepted
  - string comparisons more secure by using ucase
  - (uncomfortable) flexibility for time origin in output:
    ![uni] label for lines to be active when time string is wished to be
    unified to the format YYYY-MM-DD hh:mm:ss; ![sam] label for lines
    that should be active when time string should be written out as read in

Changes by Rolf Sander:
- smv: "show messy version" to determine on which version code is based
- xecham:
  - mpc01 added
  - show chemical mechanism from messy_mecca_kpp_global.f90
- eddiff is available now in messy/util/
- Makefile.in: "all" is a PHONY target now
- CAABA: update to 2.7f
- MECCA: (for details, see messy/mbm/caaba/CHANGELOG)
  - messy_mecca_aero_si.f90: "CALL mecca_aero_trans_coeff" and "CALL
    mecca_aero_henry" removed because this is all in "CALL
    mecca_aero_calc_k_ex".
  - messy/util/zip.sh: traject input files added (even though they are
    *.nc files) when executing "gmake zip"
  - messy_cmn_gasaq.f90: new module that defines physicochemical constants
    (Henry's law coefficients, accommodation coefficients) that can be
    used by all MESSy submodels (e.g. MECCA, MECCA1, SCAV).

Changes by Holger Tost (from 1.10_atf):
- libsrc/isorropia: new library for aerosol thermodynamics model
- configure.in (condifure): libsrc/isorropia added
- GMXE: new submodel
- MECCA1: aqueous.spc: new diagnostic species added
- messy_cmn_aqattr.f90, messy_cmn_gasaq.f90: new "common" modules for
  aqueous phase species definitions
- messy_main_constants_mem.f90: HUGE_DP, STRLEN_KPPSPECIES, cemiss added
- CLOUD: update
- SCAV: bug-fixes
  - diagnostic fluxes for budgeting corrected
- JVAL, JVNEW, MECCA1: H2SO4 photolysis
- M7: dryrad for mode 5-7 added
- HETCHEM (update):
  - loss_n2o5 removed
  - unit for aerosol surface climatology changed to m2/m3

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: GMXE, isorropia added

******************************************************************************

messy_d2.40d (16 Nov 2010)

Changes by Patrick Joeckel:
- IMPORT_TS:
   - bug-fix (in import_ts.f90 (mbm) and messy_main_import_ts_bi.f90)
   - new messy/util/jnl/import_ts.jnl to check mbm input/output
   - new messy/util/check_import_ts.tcsh to check consistency w.r.t.
     import_ts namelist entries of a NML setup
     (to be called from within a NML-setup directory)
- RAD4ALL_FUBRAD:
  - modified for import_ts (instead of import_tseries)
- JVAL, JVNEW:
  - modified for import_ts (instead of import_tseries)
  - mbm/jval: import_ts removed
  - mbm/caaba: import_ts removed

******************************************************************************

messy_d2.40c (04 Nov 2010)

Changes by Bastian Kern:
- A2O (mbm): bug-fixes and update

Changes by Bastian Kern and Patrick Joeckel:
- xmessy_mmd: expanded for MPIOM as legacy basemodel
- xmessy_mmd and all ECHAM5*nml: automatic L_COUPLE=T, if submodel
  mpiom is switched on

Changes by Andreas Baumgaertner:
- E4CHEM: bug-fixes in messy_e4chem_e5.f90

Changes by Volker Grewe (see 1.10c):
- O3ORIG: update

Changes by Patrick Joeckel:
- MSBM: bug-fix for QCTM mode as in PSC (see below)

Changes by Rudolf Deckert (see 1.10c):
- PSC: bug-fix for QCTM mode

Changes by Patrick Joeckel:
- zip.sh: $DIR/'messy/mbm/*/_*' excluded from zip
- xmessy_mmd:
  - option blank replaced by option for all submodels; recipe:
     . NML_SETUP=MBM/<mbm> and put namelists in MBM/<mbm>
     . INSTANCE[1]=<mbm>
     . SERIALMODE=.TRUE. and NPY[1]=NPX[1]=1 (if no MPI enabled MBM)
     . start xmessy_mmd from workdir
- QBO:
  - modified for import_ts (instead of import_tseries)
  - mbm/qbo revised
- BLANK:
  - includes now (almost) all available generic submodels
  - nml/BLANK moved to nml/MBM/blank

******************************************************************************

messy_d2.40b (14 Oct 10)

Changes by Sabine Brinkop:
- LGHPM: new submodel (Hamiltonian Parcel Mesh method)
- LGFMM: revised
- ATTILA:
  - bug fix for saving LGFMM relevant quantities in ATTILA_RKO4

******************************************************************************

messy_d2.40 (12 Oct 2010)

Changes by Astrid Kerkweg:
- COSMO:
  - src_advection_rk.f90: modification of tracer handling
  - slow_tendencies.f90: mass flux correction removed

Changes by Patrick Joeckel:
- for forcheck (to make it work for MESSYMMD):
  - efchk: modified to include more than 1 library
  - mh-*: forcheck library 'mpi' added to FCKLIBS (must be present!)
  - cosmo/Makefile.in, echam5*/Makefile.in: include mmd-library path in LIBSRC,
    for MESSYMMD
- MSBM: bug fix as in PSC

Changes by Klaus-Dirk Gottschaldt and Patrick Joeckel (see 1.10b):
- PSC: bug-fix for alternative r_ice calculation

******************************************************************************

messy_2.3zz (26 Aug 2010)

Changes by Patrick Joeckel (according to Michael Ponater, see 1.9i):
- rrtm_rrtm_140gp.f90 (2x), messy_rad4all_long.f90:
  set negative optical depths to zero

Changes by Patrick Joeckel:
- IMPORT_TS: new sub-submodel (including mbm) to import time series
  from ASCII or netCDF files and to provide them via channel objects;
  this sub-submodel should ultimately replace the IMPORT_TSERIES after the
  submodels (JVNEW, JVAL, SPACENOX, SPE, RAD4ALL_FUBRAD and QBO) have
  been modified;
  The model provides the channel (import_ts) objects 'name' and 'name_flg'.
  The latter is to flag the result with 0, if it is out of the specified
  valid range (1, if inside).
  Note: a possibility to retrieve the dimension variables is NOT YET
	implemented!
- NCREGRID (messy_ncregrid_netcdf.f90): bug fix in IMPORT_NCATT
- TIMER (messy_main_timer.f90): eval_time_str string length corrected

Changes by Andreas Baumgaertner:
- NCREGRID (messy_ncregrid_tools.f90): new conversion routine
  RGTOOL_CONVERT_DAT2VAR
- QBO: typo fix in mbm (qbo.f90)
- MPI: updates to exchg_boundaries_cg and exchg_boundaries_tracer_cg
- TOOLS: new subroutine fliparray: (1,2,3,4) --> (4,3,2,1)
- SPE:
  - read in AIMOS ionization rates
  - (oversimplified) HNO3 production parametrization
  - now also as mbm (columnmodel)
- CMAT:
  - changed global_start to global_end
  - for all other changes see messy/mbm/cmat/CHANGELOG
- METEODIAG: new tool for meteorology diagnostics
- MECCA: new mim1 rpl heppa.rpl
- NML Setup E5E4CHEM: fix of tracer.nml

Changes by Astrid Kerkweg:
- messy_ddep_si.f90, messy_main_ppd_si.inc: _RI_YlocIc_ renamed to
  _RI_YlocC_ and for rank identifier _RI_YlocVM_  and in ddep_si all jmod
  renamed to jm.
- COSMO:
  - changes for tracer handling:
    - lmorg.f90; slow_tendencies.f90; src_relaxation.f90;
      src_slow_tendencies_rk.f90;
    - TRACER bmil: default for  xt_bd now 0._dp
    - TRACER smcl: default for I_RELAX now ON, I_HDIFF is OFF
  - MPI: my_cart_id added
- MMDCLNT: bug fixes
  - name for ptr_i2c channel objects (of rank < 4)
  - tracer access for boundary x002, x003 => x001, x002
  - difference for l2tls deleted (do loop over time levels instead)
  - LEN=4 for C_INTERPOL
  - open file for unit noutput (for I2CINC)
  - MAX (0._dp, xt) after vertical interpolation for posdef fields

Changes by Andrea Pozzer:
- xmessy_mmd: updates for planck at CYI
- AIRSEA: changed one parameter from 0.39 to 0.31 (Wanninkhof,1992)
- mo_albedo.f90: added values for T42
- messy_main_gridtrafo_scrip.f90:
  - modified
- A2O:
  - added namelist parameters to control the transformations

Changes by Patrick Joeckel (see 1.9i and 1.9j):
- xmessy_mmd: bug-fix in f_diagout
- MSBM: bug-fix in r_ice calculation (as in PSC)
- MECCA1: diagtrac.tex, enable UBP diagnostic also, if UBP is ON

Changes by Klaus-Dirk Gottschaldt and Patrick Joeckel (see 1.9i):
- PSC: bug-fix in r_ice calculation

Changes by Patrick Joeckel:
- LNOX: cloud bottom height (cbh) added to channel

Changes according to Klaus-Dirk Gottschaldt (see 1.9h):
- MECCA1:
  - L41_ubp.rpl: bug-fix

******************************************************************************

messy_2.3zy (09 Aug 2010)

Changes according to Klaus-Dirk Gottschaldt (see 1.9h):
- MECCA1:
  - messy_mecca1_ubp_op.inc: bug-fix
  - tracdef.tex: switches for UBP-reservoirs corrected

Changes by Patrick Joeckel:
- messy/util/dau-ngrade.tcsh updated
- messy/cosmo/nml removed
- messy/echam5/nml removed
- messy/util/old removed
- xmessy_mmd:
  - f_help_message updated
  - DIRSTRUCT updated
  - some bug-fixes
  - mpisx environment reactivated (for NEC-SX9 at HLRS (DEISA))
  - NQSII scheduler commands updated (for NEC-SX9 at HLRS (DEISA))
- TOOLS: modified string lengths of temporary variables in str2chob

Changes by Astrid Kerkweg:
- MMD:
  - messy_main_ppd_si.inc: new include file with unified rank-identifiers
  - (almost) all files in messy/smil #include 'messy_main_ppd_si.inc'
MPI:
  - messy_main_mpi_bi.f90: re-ordered into consistent blocks
TRACER:
  - messy_main_tracer_bi.f90: COSMO tracer instances dependent on l2tls
  - messy_main_tracer_mem_bi.f90: new pointer xt_diff
- COSMO:
  - src_slow_tendencies_rk.f90: xt_diff not used anymore

Changes by Patrick Joeckel (due to a special wish by Astrid kerkweg):
- xmessy_mmd: start/submit post-processing script, if available in $WORKDIR
- messy_mmdclnt_c4.f90: bug fix, variable was used (and renamed) twice
- messy_main_switch.f90: bug-fix
- messy_msbm_e5.f90:  initialise khet* with zero to clear from previous time
		      step (thanks to Holger Tost)
- messy_mecca_khet_si.f90: directive _RI_XYZ_ for stratopshere flagging
- MESSy.nml renamed to switch.nml (with all consequences)

Changes by Astrid Kerkweg:
- COSMO:
    -lmorg.f90: entry point messy_global_end moved before final integration
     (i.e. organize_dynamics).
- INT2LM: treatment of t_so_lm changed
- TIMER: messy_main_timer_bi.f90:
   - test event commented out
   - event_print in time loop commented out
- CONTROL_C4: submodel global_end entry points commented out (only lagrange)
- MMDCLNT/MMDSERV: rerun event exchange deleted
- MMDCLNT: marker 'XXX' changed to '#XXX'
- EC2COSMO: calculation of um1/vm1 added

Changes by Patrick Joeckel:
- config/mh-linux-64, xmessy_mmd: updated for mpc* cluster at RZG
- ONLEM, ONEMIS: added lrestreq=.TRUE. to objects zprecipinsoil and prectot

******************************************************************************

messy_2.3zx (27 Jul 2010)

Changes by Sabine Brinkop:
- ATTILA: additional channel objects for LGFMM
- LGFMM: new submodel (Lagrangian finite mass method)

Changes according to Klaus-Dirk Gottschaldt (in 1.9f, including bug-fix
  in 1.9g):
- MECCA1: complete revision of upper boundary parameterisation (UBP) for L41

Changes according to Volker Grewe (in 1.9f):
- MECCA1 (diagtrac.tex, gas.spc, tracdef.tex, TS2000/tracer.nml): new ozone
  budget diagnostic

Changes by Patrick Joeckel (thanks to Francois Benduhn):
- xmessy_mmd: bug-fix (typo) in f_setup_cosmo
- CMAT (messy_cmat_cco2gr.f90, messy_cmat_climatologies.f90):
  syntax correction in nested do-loops
- config/mh-DEISA: update (for different architectures)
- SEDI, PSC, MSBM:
  - bug fixes in first order sedimentation schemes

Changes by Hella Riede:
- s4d_sample.jnl: update

Changes by Bastian Kern, Hella Riede and Patrick Joeckel:
- nc2mc: update

Changes by Patrick Joeckel:
- messy/smil/specific.mk and messy/echam5/smil/specific.mk:
  - updated (according to moved _e5 -> _si)
- TRACER:
  - messy_main_tracer_bi.f90: calculate tracer mass with dry air mass in box
    (tracer_pdef_gp)
- DATA:
  - new channel object grmassdry (mass of dry air (in kg) in grid box)
    (for ECHAM5 and COSMO)
- xmessy_mmd: bug fix, select correct shell variable (instance number)
  for namelist copy
- NCREGIRD:
  - messy_ncregrid_tools.f90: NCCNTMAXNLEN increased from 20 to 40

Changes by Astrid Kerkweg:
- ONEMIS: bug-fixes for noslflux(_diag)
- MMDCLNT: cleaned up, date coupling changed
- MMSERV: dlat new calculation

Changes by Andreas Baumgaertner:
- NCREGRID: bug fix in messy_ncregrid_tools.f90 (subroutine RGTOOL_G2C);
  rank corrections for latm, lati, lonm, loni

Changes by Patrick Joeckel:
- ONLEM (messy_onlem.f90): bug fixes
  - in NO_emissions and NOemis_yl95sl10;
    OPTIONAL attribute removed from noslflux_diag*, since they are used, even if
    they are not present
  - create channel objects for noslflux and noslflux_diag
- ONEMIS (messy_onemis.f90): bug fixes
  - in NO_emissions and NOemis_yl95sl10;
    OPTIONAL attribute removed from noslflux_diag*, since they are used, even if
    they are not present
- mo_nmi.f90 (5.3.01): same correction as for 5.3.02 (see below)

Changes by Astrid Kerkweg and Patrick Joeckel:
- CHANNEL: bug fix for MIN and MAX calculations

Changes by Astrid Kerkweg:
- mo_nmi.f90 (5.3.02): initialise 3 arrays
- messy_main_channel_bi.f90: in initialize_restart_attributes for COSMO
  now test of resume_date instead of start_date
- DATA: calculation of ppm1_3d added
- MMDCLNT:  if lstart initialise start_date with Server resume_date
- MMD and xmessy_mmd: mmd namelist file renamed to MMD_layout.nml
- xmessy_mmd: enable individual restart cycles for all instances
- ONLEM:
  - adopted to changes of Joerg Steinkamp (for YL95_NOsl10)
  - CTRL namelist activated for additional YL95_NOsl10-specific switches
- ONEMIS:
  - adopted to changes of Joerg Steinkamp (for YL95_NOsl10)
  - CTRL_NOsl10 namelist included for additional YL95_NOsl10-specific switches
- MMDCLNT:
  - bugfix in interpret_namelist
- xmessy_mmd: pathes to external data adopted to vip (more used than DEISA)

Changes by Patrick Joeckel:
- MECCA  (xmecca) : allow negative diagnostic products in diagtrac/*.tex
- MECCA1 (xmecca1): allow negative diagnostic products in diagtrac.tex

Changes according to Volker Grewe (and Eleni Tsati) in 1.9e:
- MECCA1: O3 diagnostic, modified files: gas.spc, diagtac.tex, tracdef.tex
- MECCA1: additional diagnostic tracers for TAGGING,
	  modified files: gas.spc, diagtac.tex, tracdef.tex

******************************************************************************

messy_2.3zw (11 Jun 10)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh updated
- configure.in/configure: library convivs (ifs) included for COSMO

Changes by Astrid Kerkweg:
- xmessy_mmd: bug fixes for COSMO and MMD
- TIMER (messy_main_timer_bi.f90): test event implemented
- CONTROL: changes according to changes in OFFEMIS
- OFFEMIS: offemis_init_memory moved to offemis_init_coupling
- MMD/MMDCLNT/MMDSERV
  - consistent renaming of subroutines/moduls
    - all c routines and modules now start with mmdc_ ...
    - all (f90) client routines begin with MMD_C_*
    - all (f90) server routines begin with MMD_S_*
    - the test routines are now labeld by the calling side i.e.
      mmd_testC_* for Client or mmd_testS_* for Server
  - MMD_cpl_layout => MMD_cpl_layout.nml
  - mmd_client.f90: all pointers 4d pointer (3d removed)
- MMDCLNT/MMDSERV
  - namelist marker ALLTRACER removed
  - namelist marker 'UNKNOWN' renamed to '#UNKNOWN'
- MMDCLNT:
  - cleaned up
  - C_INTERPOL: interpolation flags adjusted to INT2COSMO meaning
  - copy routines ('move_..') heavily revised (all fields are now copied via
    CPLDATA struct) + additional changes  in other subroutines
  - namelist markers now start with '#...'
  - ptr_in always 4D  => ptr4d_in removed
  - ptr_i2c always 4D => ptr4d_i2c removed
  - namelist allow for wildcards in Client Objects
    => new subroutine interpret_namelist
  - copy logic for additional arrays simplified
  - src_read_coarse_grid is called now, compute_fi_in deleted
- TRANSPOSE: locate_in_decomp added for COSMO
- TREXP: moved to smil
  - new_tracer_old  => new_tracer
  - finish, message => error_bi, info_bi
  - XPOINT(i)%ierr cycling of POINT not in model domain
- DATA: bug fixes for COSMO, new variables added
- CHANNEL:
  - messy_main_channel_c4.inc: bugfix
  - messy_main_channel_c4.inc: lon_tot and lat_tot added
- INT2LM:
  - NEW version int2lm_1.10
- COSMO:
  - NEW version cosmo_4.8_clm12
  - bugfix in src_advection_rk.f90, src_soil_multlay.f90
  - calculation of lat_tot and lon_tot added for locate_in_decomp

Changes by Andreas Baumgaertner:
- NCREGRID: new file messy_ncregrid_tools_si.f90
- CAABA:
  - improved compiler options for IBM/AIX in Makefile
  - ADDEFS = $(DEFOPT)E4CHEM added to Makefile
  - messy_mecca_box.f90: x0_strato10 selected for "STRATO" setup
- OFFLEM: preparation for CMAT tracers
- TRANSFORM (messy_main_transform_bi.f90): bug-fix in trp_cgdc_cggl_3d
- MPI (messy_main_mpi_bi.f90):
  - updates for exchg_boundaries_cg (for CMAT)
  - new subroutine exchg_boundaries_tracer_cg (for CMAT)
- IMPORT (messy_main_import_rgt_bi.f90): modifications for CMAT
- DECOMP (messy_main_decomp_bi.f90, messy_main_decomp.f90): update
- TOOLS: new function remap_bounds (moved here from
	 messy_main_channel_repr.f90)
- CHANNEL:
  - messy_main_channel_repr.f90 (repr_getptr): use new function
    remap_bounds from TOOLS
  - messy_main_channel.f90 (get_channel_object): bug fix for objects
    with boundaries
  - messy_main_channel_bi.f90 (bi_decompose): take into account boundaries
- TRACER:
  - messy_main_tracer_bi.f90: CMAT tracer set now with boundaries
  - messy_main_tracer.f90: added bounds capability for tracers
  - messy_main_tracer_family_bi.f90: tracer families for CMAT tracer set
- TIMER: converted JULIAN_DATE_START from INTEGER to REAL. Julian dates are
	 xxx.5 for 0 UTC, therefore problems occured when comparing to
	 julian_day which returns the correct REAL value
- CMAT: lots of bug fixes

Changes by Andrea Pozzer:
- AIRSEA (airsea_calc_schmidt_sea): temperature limitied to [0,40] deg C

Changes by Patrick Joeckel:
- TNUDGE: tnudge now terminates if channel object for tracer-nudging is not
	  available
- tools/edgar2nc: globalscale now in global netCDF attribute 'namelist'

******************************************************************************

messy_2.3zv (06 May 10)

Changes by Patrick Joeckel:
- dau-ngrade.tcsh: special case for cmaso removed
- xmessy_mmd: new special mode SERIALMODE for runs without MPI, e.g., if
  configured with --disable-MPI

Changes by Andreas Baumgaertner:
- CMAT:
  - added EXTERNAL statement for cmatutils library calls
  - merged messy/mbm/cmat/smil/messy_cmat_si.f90 and
    messy/echam5/smil/essy_cmat_e5.f90 to messy/smil/messy_cmat_si.f90
  - updates of
    - messy_cmat.f90,
    - messy_cmat_grid.f90,
    - messy_cmat_planet.f90,
    - messy_cmat_mutualdiffusion.f90,
    - messy_cmat_minordiffusion.f90,
- E4CHEM:
  - added Bromine parameterisation by Andrea Stenke / Markus Rex, this
    includes the new nml switch l_brparam
  - E5E4CHEM namelist setup: removed superfluous tracer inits in tracer.nml
- messy_main_control_e5.f90: modified for CMAT changes
- nml/*/MESSy.nml: removed CMASO and VGLUE

Changes by Andreas Baumgaertner and Patrick Joeckel:
- TRACER: preprocessor directive BOX renamed to MBM_TRACER
- preprocessor directive MPIOM removed

Changes by Andreas Baumgaertner:
- QBO: new MBM
- ECHAM5 (5.3.02, 5.3.01):
  - mo_mpi.f90 (2x):
    - mo_kind, mo_doctor excluded for MESSY
    - application of support-library excluded with MBM_CMAT
      preprocessor directive
  - initialize.f90 (2x): call init_decomposition via messy_main_decomp_setup
- CHANNEL (messy_main_channel.f90, messy_main_channel_repr.f90):
  - get_channel_object added option "linner". If nbounds is specified
    for the representation, this returns only the inner part. If
    linner == false then the returned array has the bounds e.g. (-1:,...).
    This feature is useful because then you can still use
    INTENT(IN/OUT) when using the variable, otherwise POINTER
    attribute is always essential when passing the variable.
  - messy_main_channel_bi.f90:
    - added DC_CG incl appropriate gather_cg/scatter_cg calls
    - added MBM_CMAT preprocessor option and adapted other preprocessor
      statements as necessary
    - added CMAT DIMIDs
    - added REPRID_cmat3d_BND
    - added messy_main_channel_cm.inc
- DATA:
  - messy_main_data_bi.f90: added MBM_CMAT block
  - messy_main_constants_mem.f90: nerr=6 for use in mo_mpi.f90
- messy_main_mpi_bi.f90:
  - added MBM_CMAT preprocessor option and adapted other preprocessor
    statements as necessary
  - added subroutine exchg_boundaries
  - added subroutine reorder for MBM_CMAT
- TRACER:
  - messy_main_tracer_bi.f90:
    - added MBM_CMAT preprocessor option and corrected other preprocessor
      statements as necessary
    - updates for CMAT
  - messy_main_tracer_mem_bi.f90:
    - corrected preprocessor option
- messy_main_transform_bi.f90:
  - added MBM_CMAT preprocessor option and corrected other preprocessor
    statements as necessary
  - added gather/ scatter/boundary exchange for cg. They work for cg vars
    with or without bounds (passed local pointer has to be ioptr)
- MAIN_DECOMP:
  - new infrastructure submodel for generic parallel decompositions
- CMASO removed
- VGLUE removed (it's now a sub-submodel of CMAT)
- CMAT:
  - mbm now compiles in parallel

******************************************************************************

messy_2.3zu (03 May 10)

Changes by Andrea Pozzer:
- modify_restart_date: updated
- mh-linux-64: updates for planck at Cyprus Institute
- OTPHYS:
  - corrected first ocean thickness
- A2O:
  - added GP_3D_1LEV pointer for scavenging
- AIRSEA
  - messy_airsea_e5.f90: range of param_kw changed
  - airsea.f90 (mbm): update
- AIRSEA/DRYDEP:
  - corrected land-sea mask: ice coverage effect included in airsea
- HAMOCC:
  - initialisation file reading improved
- RAD4ALL/CLOUD:
  - energy balance parameter corrected

******************************************************************************

messy_2.3zt (22 Apr 10)

Changes by Astrid Kerkweg:
- IMPORT: bugfix for rgtevent
- CHANNEL_C4: bugfix for channel object representation of staggered grid.
- SCAV: moved to smil
  - finish, message replaced by info_bi, error_bi
  - some minor changes (do-loop instead of colon, USE of vct, nclev) for
    COSMO necessary
- DRYDEP: finish, message -> error_bi, info_bi
- DDEP:  new submodel DDEP: as DRYDEP but data fields are imported from IMPORT
- IMPORT:
   - itype = 4 for index regridding added
   - IXF label in namelist string added
   - cleaned up
- ONLEM:
   - finish, message -> error_bi, warning_bi, info_bi
- ONEMIS: new online emission submodel without its own data import (in smil)
- TNUDGE: moved to smil
   - message, finish replaced by error_bi and info_bi
   - rank identifyer introduced
- COSMO
  - environment.f90:   icomm_world added
  - src_output.f90:    initialisze pexp, fexp, kint
  - src_radiation.f90: rescue cossza_2d
  - src_memory.f90, src_grids.f90:  bugs fixed
- DATA:
  - for COSMO part lots of POINTERs, calculation etc added in order to
    include online emissions and dry deposition of MESSy
  - bug fix (for "hard nudging" in TNUDGE): set time_step_len already
    in initialize
- LNOX: moved from echam5/smil to smil
   - named from messy_lnox_e5 -> messy_lnox_si
   - finish replaced by error_bi

Changes by Gregor Glaeser:
- ECHAM5:
   - mo_o3clim.f90: initialise ozone3 if allocated
- DATA:
   - additional variables used from mo_physc2 and mo_memory_g3b
   - channel references added
- M7:
  - m7_local_end added
  - switches included to switch of specific constituents (SO4, OCBC, DUST, SS)
  - column mass diagnostic included
  - aod calculation included
- ONLEM:
  - DU_tegen added

Changes by Patrick Joeckel:
- xmessy_mmd: allow more file names for sst and sea-ice data
	      (amip2 replaced by *)
- tools/biogen: update to 0.6 (minor modifications)
- echam5/modules/mo_transpose.f90 (2x):
  - avoid async_gather also for __INTEL_COMPILER

******************************************************************************

messy_2.3zs (29 Mar 10)

Changes by Holger Tost:
- SCAV:
  - elimination of jrow in the smcl layer (except for Lagrangian
    parts), no interference with COSMO
  - update of aerosol nucleation scavenging

Changes by Patrick Joeckel:
- TRACER:
  - bug fix: container I_TAG_REG_IDT per default filled with tracer-ID
	     (now at correct position)

******************************************************************************

messy_2.3zr (25 Mar 10)

Changes by Patrick Joeckel:
- TRACER:
  - container I_TAG_REG_IDT per default filled with tracer-ID
  - get_tracer additionally overloaded to retrieve container contents
    (sytax as set_tracer)
- DRYDEP: test of I_TAG_REG_IDT container contents removed

Changes by Astrid Kerkweg:
- QTIMER: L_TRIGGER_RESTART disabled if L_IS_CLIENT = .TRUE.
- DATA: L_IS_SERVER removed (not needed)
- MMDSERV: L_IS_SERVER removed (not needed)
- MMDCLNT:
  - CPLTIMER and READEXT in CPL namelist
  - test tracer testGP removed
  - cleaned up
  - un_undef renamed to round_off_ext
- MMDCLNT/MMDSERV:
  - exchange CPLTIMER not in units of steps but in units of seconds
  - delete re-send of coupling interval
- MMD: remove broadcast from clnt_channel and clnt_object in
       set/get_DataArray_name
- COSMO/INT2COSMO: cleaned up

******************************************************************************

messy_2.3zq (22 Mar 10)

Changes by Sergey Gromov, Astrid Kerkweg and Patrick Joeckel:
- SCAV: non-MESSy-conform USEs and CALLs to MECCA_TAG as comments
	for further development
- DRYDEP:
  - special case for FO17H2SO4 added
  - special treatment for "tagged tracers"; reference via
    I_TAG_REG_IDT to corresponding regular tracer name and molar mass

Changes by Patrick Joeckel:
- xmessy*: (except mmd) moved to subdirectory 'old' for cleanup
- xmessy_mmd:
  - nudge.nml is now obsolete; needs to be appended to
    ECHAM5302_${ECHAM5_HRES}${ECHAM5_VRES}; the latter needs to be available
  - check two standard directories for INPUTDIR_ECHAM5_SPEC (if not set)
  - terminate immediately, if correct initial file is not available
  - new variable QWCH to set max. wall-clock hours for QTIMER
    (can later be set automatically)
- TRACER:
  - new integer containers I_TAG_REG_IDT and I_TAG_SPECIFIC
- species renamed in
  - messy/mbm/caaba/mecca/rpl/mim1/tagdbl_rb_eval.rpl
  - messy/mbm/caaba/mecca/tag/*
  - messy/mbm/caaba/mecca/dbl/*
  - messy/tools/tagdbl/*
  - messy/echam5/nml/ISO/*

Changes by Sergey Gromov:
- messy/echam/nml/ISO updated
- tools/tagdbl updated
- MECCA:
  - meccanism.tex: number of isotope exchange reactions added
  - xmecca updated
  - update of MECCA_TAG and MECCA_DBL
  - new rpl/mim1/tagdbl_rb_eval.rpl

Changes by Sergey Gromov and Astrid Kerkweg:
- ONLEM: new emission type terr13C added

Changes by Astrid Kerkweg:
- CHANNEL (messy_main_channel.f90, fixate_channels): option for wild_card
	  in source channel object names added
- xmessy_mmd: bug fixes for COSMO setup and MMD runs

Changes by Patrick Joeckel:
- MECCA (gas.tex):
  - MIM1-only substances restored: NACA, LHOC3H6OOH, ISOOH, MVKOOH, ISON,
				   LHOC3H6O2, ISO2, MVKO2
  - bug-fix: dp added to C5H8 R_dryreac_sf

Changes by Rolf Sander:
- MECCA: MIM2 implemented (for details, see messy/mbm/caaba/CHANGELOG)
- Makefile.in: new target "list"; *.jnl added to target "TAGS"
- messy/echam5/nml/rs/* and messy/util/xmessy_echam5.rs updated
- messy_jval_e5.f90: name='A' changed to name='jval' for RGT event
- messy_jvnew_e5.f90: name='A1' changed to name='jvnew' for RGT event
- *.jnl added to emg2 and gmake TAGS in Makefile.in
- kp4.sh: fixing yet another if condition in sh syntax

Changes by Patrick Joeckel:
- CLOUD: test for psc region revised to allow dau-ngrading

Changes by Andreas Baumgaertner:
- E4CHEM:
  - now uses ice (xi) from ECHAM
- CLOUD:
  - flt_pscreg taken from E4CHEM if active

Changes by Holger Tost:
- SCAV:
  - removed expensive use of TRIM function

******************************************************************************

messy_2.3zp (05 Feb 10)

Changes by Patrick Joeckel:
- MECCA:
  - G4403: bugfix: yield of CH3CHO is 0.28 instead of 0.84 (as in MECCA1)
  - renaming of species as in MECCA1:
    gas.spc, gas. eqn, gas.tex, aqueous.spc, aqueous.eqn, aqueous.tex,
    graphviz/*.spc
  - "St"-label added to J(BrO)
- JVNEW:
  - modifications as for JVAL
    - messy_jval_jvpp.inc
- JVPP:
  - jvpp_step2.f90, references_jvpp.tex, spectra_lit/PAA.nml,
    spectra_m17/CH3COCHO.nml, spectra_m17/PAA.nml, split_sig_eff.f90,
    xcheck
- changes according to echam5.3.01_messy_1.9b (03 Mar 2010):
  - Changes by Patrick Joeckel:
    - WARNINGS updated
    - MECCA1:
      - gas.eqn renamed to gas_mim1.eqn
      - new gas.eqn renamed to gas_mim2.eqn
      - news subdirectories mim1 and mim2 in rpl for specific replacement files
      - existing replacement files moved to rpl/mim1
      - xmecca1:
	- additional selection of equation file
	- selection of replacement files consistent with selected eqn-file
	- NOTE: tracdef.tex, gas.spc, aqueous.spc, aqueous.eqn are
		shared between MIM1 and MIM2
  - Changes by Domenico Taraborrelli and Rolf Sander:
    - MIM2 included in MECCA1:
    - new isoprene oxidation from ACP, 9, 2751-2777, 2009
    - implementation based on gas_MIM2_20080816_dt.eqn,
      gas_MIM2_20080816_dt.spc, gas-v1.1_labeled.eqn (2009-06-22 22:28),
      and complex_k_MCM.txt (2009-03-10 17:42)
    - new parameterization for RO2 + R'O2 reactions
    - new oxidation scheme for acetone
    - new oxidation scheme for C2H4 (oxidation by OH and O3)
    - C1-chemistry not copied from MIM2 (but RO2+R'O2 adjusted to new
      parameterization)
    - obsolete species (kept for MIM1):
      NACA, ISON, ISO2, ISOOH, LHOC3H6O2, LHOC3H6OOH, MVKO2, MVKOOH
    - lumped species now all start with "L"
    - reaction numbers changed because MPAN is C4, not C3:
      G4318 --> G4418
      G4319 --> G4419
      J4305 --> J4407
    - some reactions were already included in MECCA1. In these cases, the
      products were updated to MIM2 but the MECCA1 rate coefficient was
      kept (instead of using the MCM value)
    - product ONIT neglected in G4415
    - J-values for MIM2 reactions are now based on available J-values from JVAL:
       0.074*JX(ip_CHOH)                for ACETOL, CO2H3CO3H, and HO12CO3C4
       0.074*JX(IP_CHOH)+JX(IP_CH3OOH)  for C59OOH and LMVKOHABOOH
       0.5*JX(ip_CH3COCHO)              for BIACETOH
       0.5*JX(ip_MVK)                   for HCOC5
       3.7*JX(ip_PAN)                   for ISOPBNO3, ISOPDNO3, and LISOPACNO3
       3.7*JX(ip_PAN)+0.074*JX(ip_CHOH) for NOA
       JX(ip_CH3COCHO)                  for HCOCO2H, HOCH2COCO2H, and HOCH2COCHO
       JX(ip_CH3OOH)                    for many ROOH
       JX(ip_CH3OOH)+0.074*JX(ip_CHOH)  for HYPERACET
       JX(IP_CH3OOH)+JX(IP_HOCH2CHO)    for HCOCO3H
       JX(ip_GLYOX)                     for GLYOX
       JX(ip_HOCH2CHO)                  for HOCH2CHO, MACROOH, and MACROH
       JX(ip_MACR)                      for MACR, NC4CHO, and LHC4ACCHO
       JX(ip_MVK)                       for MVK and MVKOH
     - tracdef.tex:
       - new species added
       - MPAN corrected (C4 not C3)
     - reaction numbers assigned to new reactions

- changes according to echam5.3.01_messy_1.9b (03 Mar 2010)
  - Changes by Patrick Joeckel:
    - MECCA1:
      - gas_1.1.eqn removed
      - renaming of species completed in other submodels:
	- JVAL:
	  - messy_jval_e5.f90, messy_jval.f90
	- ONLEM:
	  - onlem.nml
	- PHOTO:
	  - messy_photo_e5.f90, messy_photo.f90
	- MECCA1:
	  - diagtrac.tex, rpl/*.rpl, tracdef.tex
	- SCAV:
	  - ice2.eqn, ice.eqn, ice.spc, messy_scav_box.f90, scav.nml,
	    messy_scav_ice.f90, messy_scav_liq.f90
	- OFFLEM:
	  - offlem.nml, offlem/c4h10_2000.nml, offlem/ch3cooh_2000.nml,
	     GFED ...
	- TRACER:
	  - tracer.nml
  - Changes by Domenico Taraborrelli and Rolf Sander:
    - MECCA1:
    - G4403: bugfix: yield of CH3CHO is 0.28 instead of 0.84
    - messy_mecca1_box.f90: added JX(ip_GLYOX), JX(ip_MACR), JX(ip_MVK),
      and JX(ip_HOCH2CHO)
  - Changes by Rolf Sander:
    - MECCA1:
      - xmecca1: "setenv LC_COLLATE C" added before all gawk calls
      - tracdef.tex: new species for MIM2
      - "St"-label added to J(BrO)
      - species renamd according to MCM:
	PAA        -->  CH3CO3H
	CH3COCHO   -->  MGLYOX
	EtO2       -->  C2H5O2
	EtOOH      -->  C2H5OOH
	PA         -->  CH3CO3
	CH3COOH    -->  CH3CO2H        (primary emissions !)
	PrO2       -->  IC3H7O2
	ONIT       -->  LC4H9NO3
	PrOOH      -->  IC3H7OOH
	PrONO2     -->  IC3H7NO3
	ACETO2     -->  CH3COCH2O2
	ACETP      -->  HYPERACET
	C4H10      -->  NC4H10         (primary emissions !)
	C4H9O2     -->  LC4H9O2
	C4H9OOH    -->  LC4H9OOH
	MEKO2      -->  LMEKO2
	MEKOOH     -->  LMEKOOH
	MeCOCO     -->  BIACET
	ISOP       -->  C5H8
	C3H6O2     --> LHOC3H6O2
	C3H6OOH    --> LHOC3H6OOH
      - modified files: gas.spc, gas.eqn, aqueous.spc, aqueous.eqn

******************************************************************************

messy_2.3zo (25 Feb 10)

Changes by Rolf Sander:
- CAABA, MECCA, kpp: (for details, see messy/mbm/caaba/CHANGELOG)

Changes by Patrick Joeckel:
- kp4.sh: if condition in sh-Syntax
- MSBM:
  - updated according to PSC changes from 1.8 to 1.9
- ONLEM:
  - updates according to changes from 1.8 to 1.9 (by Susannah Burrows):
    - bio-aerosol emissions included
- PSC:
  - updates according to changes from 1.8 to 1.9
    (by Ole Kirner, Klaus-Dirk Gottschaldt, Rudolf Deckert,
     Christoph Bruehl, Patrick Joeckel):
    - kinetic PSC parameterisation for NAT and ice with 9 size bins;
      psc.nml (CTRL): new switch KinPar to activate kinetic parameterisation
    - boundaries of psc-region now in namelist
    - new mode for decoupled simulations implemented (via CPL-namelist
      switch l_feedback in psc.nml)
    - messy_psc_e5.f9: new entry point psc_init_coupling for import of
      HNO3 climatology via offlem
    - bug fixes for calculation of lower boundary of psc region in
      messy_psc_e5.f90 (wrong units in call of T_ice and T_nat corrected)
    - additional diagnostic output
- MECCA1:
  - updates according to changes from 1.8 to 1.9
    (by Klaus-Dirk Gottschaldt, Volker Grewe and Patrick Joeckel):
    - upper boundary parameterisation for L41DLR
      - modified files (active):
	 messy_mecca1_e5.f90, gas.eqn, gas.spc, tracdef.tex, mecca1.nml,
	 messy_mecca1.f90,
	 vector/sedsolve_ros2, vector/sedsolve_ros3,
	 vector/smcl/messy_mecca1_vec.f90, vector/smil/messy_mecca1_vec_e5.f90,
	 vector/xvector,
    - modified files (comments):
       diagtrac.tex
    - new files:
       rpl/L41_ubp.rpl, messy_mecca1_ubp_dec.inc, messy_mecca1_ubp_op.inc,
       vector/smcl/messy_mecca1_vec_ubp_dec.inc,
       vector/smcl/messy_mecca1_vec_ubp_op.inc
    - new links:
       boxmodel/messy_mecca1_ubp_dec.inc,
       boxmodel/messy_mecca1_ubp_op.inc
HETCHEM:
  - updates according to changes from 1.8 to 1.9 (by Ole Kirner):
   - channel object N_s0_3d renamed to N_solid
   - optional differentiation between NAT and ice particles
     (This option is automatically selected, if KinPar=T in PSC,
     the coupling is established via the existence of the channel object
     r_solid in PSC.)
   - hetchem.nml:
     - Psc_numdens renamed to Psc_dens_solid
     - Psc_rad renamed to Psc_rad_solid
     - new parameters (CPL): Psc_dens_ice,
			     Psc_rad_ice, Psc_dens_NAT, Psc_rad_NAT
   - modified files: messy_hetchem_e5.f90, hetchem.nml

- dau-ngrade.tcsh: updates
- messy_main_channel_bi.f90 (messy_channel_write_output):
  bug fix; l2tls instead of #ifdef MESSYTIMER

******************************************************************************

messy_2.3zn (11 Feb 10)

Changes by Astrid Kerkweg:
- DRYDEP: clean-up of base model
- INT2COSMO:
  - setup_int2lm.f90,
- COSMO: some updates in
  data_soil.f90, organize_satellites.f90, src_output.f90, src_soil.f90,
  src_soil_multlay.f90
- rttov7_synsat_vector library:
  - Makefile.m : $(F90R8) added to F90FLAGS
  - modifications in RTTOV7_INTRADOV.f90, RTTOV7_RTINT.f90,
- CHANNEL:
  - messy_main_channel_bi.f90: SAT8 and SAT32 (DIMS AND GP_3D-repr.) added
  - messy_main_channel_c4.inc: additions for luse_rttov
- messy_main_data_bi.f90:
  - COSMO new channel object referencees U_10M and V_10M
	  new channel objects cvw, rco_leaf
	  new subroutine main_data_set_physc
  - COSMO philon_2d and philat_2d corrected
- messy_main_control_c4.f90:
  - call main_data_set_physc before call of mmdserv_global_start
- MECCA (messy_mecca_si.f90): fill_khet (LG) moved into lkhet if-statement
- MMD:
  - DA_Chanlen and DA_NameLen replaced by STRLEN_CHANNEL and STRLEN_OBJECT
  - MMD_MPI_REAL replaced by MPI_DOUBLE_PRECISION
  - file mmd_defs.h removed
  - C-code: struct ArrayDef and PeDef completely removed. mmd_c_server.c
    reorganized from individual array lengths to buffer length
  - new file mmd_c_util.c
- BLANK: update
- xmessy_mmd: new basemodel BLANK included

Changes by Astrid Kerkweg and Sergey Gromov:
- MECCA_TAG, MECCA_DBL: scripts and config-files updated for e5->si

Changes by Patrick Joeckel:
- xmessy_mmd:
  - updates for LRZ
  - f_setup_cosmo: links to satellite data-files  (RTTOV) added as comment
- SEDI, MECCA, MECCA_KHET, DRADON, CVTRANS, OFFEMIS, TREXP, OFFLEM, ONLEM,
  LNOX, JVAL, JVNEW, H2O, DRYDEP, D14CO, SCAV, AIRSEA:
  - added additional directives "!!# attila +/-" for dau-ngrading without
    ATTILA; namelists must not be changed, however, switches related
    to Lagrangian representation have no effect
- xmessy_mmd: updated for dau-ngrad'ing
- xmessy_echam5: TIN_ namelist switches removed, updates for dau-ngrad'ing
- mh-linux: updated
- configure.in, configure: improved test for PNCREGRID
- BLANK: ptrac and submod3 included
- configure.in, configure, Makefile.in: several additional tests to make
  configure work after downgrading
- WARNINGS updated
- messy/util/dau-ngrade.tcsh

******************************************************************************

messy_2.3zm (29 Jan 10)

Changes by Patrick Joeckel:
- BLANK: directory structure, Makefile, Makefile.m, main.mk
- configure,in, configure: perl-scripts only processed, if present
- NCREGRID, TRACER:
  bug fix in messy_ncregrid_control.f90 for special case of
  ntrac > 1, L_TRACER_INIT = T and no &regrid-namelist present in tracer.nml

Changes by Astrid Kerkweg:
- CMASO, CMAT: some bug-fixes (for g95 compiler)
- HAMOCC (messy_hamocc.f90): some bug-fixes (for g95 compiler)
- BLANK:
  - new MESSy base-model, combining the infrastructure as basemodel
    prototype
  - modified files (with preprocessor dirctive BLANK):
    messy_main_channel_bi.f90, messy_main_mpi_bi.f90,
    messy_main_tracer_mem_bi.f90, messy_main_tracer_pdef_bi.f90,
    messy_main_switch.f90
  - modified files (without preprocessor dirctive BLANK):
    messy_main_switch_bi.f90, messy_main_tracer_bi.f90,
- TRACER:
  - messy_main_tracer_bi.f90: tracer sets CMAT and EC only for ECHAM5 and/or
    MPIOM (preprocessor directives) and only active, if corresponding
    representations defined by CMAT / CMASO

Changes by Andreas Baumgaertner:
- VGLUE:
  - update
- CMAT:
  - bug fixes
- CMASO:
  - bug fixes
  - update
- messy_main_channel_repr.f90: added orders 3214 and 2134 in FAST_REORDER
- messy/util/yam.tcsh: bug fixes

******************************************************************************

messy_2.3zl (27 Jan 10)

Changes by Patrick Joeckel:
- configure.in, configure, Makefile.in: bug-fix, cmatutils is required
  for all basemodels, since it is used by the SMCL
- CHANNEL:
  - messy_main_channel.f90: FTYPE_NETCDF=2; FTYPE_PNETCDF=3
  - messy_main_channel_repr.f90 (subroutine FAST_REORDER; 3142 implemented)
  - bug-fix in messy_main_channel_pnetcdf.f90 (ch_pnetcdf_write_header);
    missing DEALLOCATE added

Changes by Andreas Baumgaertner:
- CHANNEL:
  - bug-fix in messy_main_channel_netcdf.f90 (ch_netcdf_write_header);
    missing DEALLOCATE added

******************************************************************************

messy_2.3zk (22 Jan 10)

Changes by Sabine Brinkop and Patrick Joeckel:
- CONVECT: cprcon is now pointer (SCALAR channel object) for MESSy-conform
  coupling of LGMC; modified files: messy_convect_tiedtke_param.f90,
  messy_convect_e5.f90
- LGMC: MESSy-conform coupling to ATTILA and CONVECT

Changes by Patrick Joeckel:
- messy/mbm/mecca1/specific.mk new, boxmodel/Makefile.m modified for
  gmake mbm (with run-time checks) on IBM-Power6
- messy/mbm/cmaso/specific.mk new, Makefile.m, main.mk modified for
  gmake mbm on IBM-Power6
- messy/smcl/specific.mk updated
- WARNINGS updated
- DISTRUCT updated
- new subdirectory patches for temporary patches (see patches/HOWTO)

Changes by Andreas Baumgaertner and Patrick Joeckel:
- patches/lf95_tracer_compile_speedup.patch:
  non-standard-conform (!) workaround for Lahey/Fujitsu compiler (8.1);
  compilation speedup for messy_main_tracer_family.f90; this patch modifies
  messy_main_tracer_family.f90 and messy_main_tracer.f90;
  NOTE: production simulations should be perfomed WITHOUT this patch

Changes by Andreas Baumgaertner:
- messy/smcl/specific.mk: added special option for CMAT
- VGLUE: new submodel for "glueing" CMAT and ECHAM5 in the vertical
    domain
- CMASO: new submodel and basemodel (mbm), equivalent to CMAT2 on a
    single CPU. Indexing convention as in original CMAT2 code.
- CMAT:
  - base model removed
  - update
- TRACER:
  - messy/bmil/messy_main_tracer_bi.f90 and messy_main_tracer_mem_bi.f90:
    new tracer-sets CMATTRSTR and ECTRSTR
- CHANNEL:
  - added grids with boundaries on PEs
    modified files: messy_main_channel.f90, messy_main_channel_io.f90,
    messy_main_channel_repr.f90
  - mbm: new example for gridpoint representation with boundary
  - messy/bmil/messy_main_channel_bi.f90: new representations for CMAT2
  - messy/mbm/messy_main_channel_bi.f90: bug fix
- libsrcs/cmatutils: new library with CMAT2 utilities
- configure.in, configure: new library cmatutils
- E4CHEM: bug fixes
- MECCA:
  - scout.rpl and scout_funke.rpl added
  - chem_eval2.3.bat and e4chem.bat added
  - messy_mecca_box.f90: x0_e4chem updated
- CAABA:
  - messy_e4chem_box.f90 updated
- SPE: paramterization improvements and bug fixes
- messy/util/antimessy.tcsh: This script betrays the MESSy idea,
	      so therefore DO NOT USE. Useful for making compilation
	      of messy_main_control_e5 faster during development.
- messy/util/yam.tcsh: (yet another messy, creates a second directory
	      where all files are linked to the original version; useful for
	      e.g. compiling the same version simultaneously at O0 and O3)
	      type yam.tcsh for more information

Changes by Patrick Joeckel:
- PTRAC: first aerosol (medium!) tracer determines RADIUS, SIGMA, and DENSITY
  of corresponding mode
- TRACER:
  - update of mbm
  - new switch l_tracer_init in CPL namelist to switch ON/OFF tracer
    initialisation
- messy/util/st2ch[.tcsh,gawk]: scripts to convert
  calls of add_stream_element into calls of new_channel_object
- xmessy_echam5, xmessy_mmd: path to "measure" at DKRZ corrected
- configure.in, configure: test for parallel-netCDF library improved
- MECCA1: bug-fixes in substitute.awk and replace1.awk
- MECCA: bug-fixes in substitute.awk and replace.awk

******************************************************************************

messy_2.3zj (07 Dec 09)

Changes by Sabine Brinkop:
- ATTILA:
  - new channel object "rlg_conv" to transport information to LGMC that
   lg-convection was switched ON
- CONVECT:
  - messy_convect.f90: parameter zcpen for CALL tiedtke_cuflx
  - messy_convect_mem.f90: - pointers for additional diagnostic
			   - new switch l_lgmc_diag for additional diagnostic
  - messy_convect_tiedtke.f90: new diagnostic
  - messy_convect_e5.f90: - new subroutine convect_read_nml_cpl
			    incl. call in convect_initialize
			  - new switch/coupling to LGMC
  - convect.nml: new CPL namelist with switch l_lgmc_diag
- H20:
  - Lagrangian H20 cycle revised
- LGMC: new submodel for Lagrangian moist convection

Changes by Patrick Joeckel:
- WARNINGS: updated
- H2O, MECCA, MECCA1, E4CHEM: *_init_tracer modified
- PSC, MSBM, O3ORIG: entry point *_init_tracer removed
- PTRAC: *_init_tracer kept for COSMO tests
- DRADON: l_initrac switch removed from CPL namelist
- D14CO: l_initrac switch removed from CPL namelist
- TRACER: all tracers are now initialsed via &REGRID namelists in
  tracer.nml
  - modified files: messy_main_tracer_bi.f90
		    messy_main_control_e5.f90
		    messy_main_control_c4.f90
- CHANNEL, PNETCDF:
  - new namelist CTRL_PNETCDF for performance tuning of parallel-netCDF I/O
- new subdirectory messy/nml/* for MMD conform setups
  with a DEFAULT setup
- xmessy_mmd: new runscript to run one or more than one model instance(s)
  - lost features:
    - special case NCPUS=0 for ECHAM5 without MPI
    - single column mode for ECHAM5
    - automatic restart with reduced time step after crash
    - *_t.nml are NOT COPIED, it is planned to do the entire tracer-
      initialisation via tracer.nml ... (see above)
- init_restart: modofied slightly to handle ESH_NO and MSH_NO

Changes by Astrid Kerkweg:
- MECCA:   messy_mecca_si.f90:  mv fill_khet into lkhet if-statement
- MMDCLNT: include check for ntrac_gp dimensions if ALLTRACER requested

******************************************************************************

messy_2.3zi (17 Nov 09)

Changes by Klaus Ketelsen:
- mmd_test.f90: bugfix
- MMD: get_timing routine added

Changes by Astrid Kerkweg:
- MECCA:
  - moved from echam5/smil to smil for application in different basemodels
- COSMO:
  - environment.f90: CALL to MMD_FreeMem_communicator added
  - lmorg.f90: initialisize xt_array(nnew) dependent on boundary data
  - src_advection_rk.f90, src_gscp.f90, src_output.f90:
	  bugfix for uninitialised variables
  - mo_io.f90: call to timer_get_lresume removed
  - src_relaxation.f90: test for xt_bd initialised added
  - organize_physics.f90: bugfix ke1 in call exchg_boundaries for tkvm, tkvh
- INT2COSMO:
  - external_data.f90: switch added to avoid reading of external data in
		       each time step
  - src_memory.f90:    axis_ids added
  - src_2d_fields.f90:  bugfix for uninitialised variables
- ECHAM5:
  - mo_mpi.f90: - CALL to MMD_FreeMem_communicator added
		- bugfix: initialise buffer in most routines
- MMD/MMDCLNT/MMDSERV:  totaly rewritten
   - one get Buffer Call on client side
   - most of the array reodering/ management is done in MMD-library in f90-CODE
   - exchange of full fields during the simulation (e.g. emissions)
   - exchange of 4D-fields possible
   - exchange of tracer (single or complete field)
   - exchange no_cycles; do not exchange ev_adjust (is allways next_date)
   - bugfixes
- OFFEMIS:
  - new submodel for OFFLINE EMISSIONS COUPLING TO CHANNEL OBJECTS
- IMPORT:
  - first part of generic submodel IMPORT for ncregridding added
    (read part of OFFLEM)
- MESSy:
  - messy_main_bmluse_bi.f90: time_intern added for timer synchronisation
  - messy_main_channel_bi.f90:
      - DIMID_* and DC_* moved to core layer
      - bugfix for timer dates in case of rerun
  - messy_main_channel_c4.inc, : axis_ids added
- TIMER:
     - YearDay, DAYOFYEAR added
     - renaming of some FUNCTIONS and SUBROUTINES for consistency reasons
     - remove manager_state calls in global_start (already done in timer_reset)
     - changed time_step_len setting in init_BM_time
     - add option for event_state test for previous_date
- DATA:
     - variables: geopot, geopoti added
     - variables: t_so_ini added (needed for COSMO-COSMO online coupling)
     - bugfixes:  w_so_3d
     - diagnostic output decomp_gp_ie, decomp_gp_je, decomp_gp_pe added
     - YearDay moved to TIMER
- TRACER: initialise value for xt_bd is now negative (-999._dp) consistent
	   to new initialise_loop in lm_org.f90
  - TRACER_PDEF: corrected for models with overlapping boundaries
- CONTROL: OFFEMIS and IMPORT added
- CMAT / SPACENOX: dayofyear usage changed according to changes in TIMER / DATA
- CHANNEL:
   - CHANNEL_DIMENSIONS:
      - dimension ids (DIMID_*) moved into core
      - subroutine get_dimension_info added
   - CHANNEL_REPR:
      - Axis-String added in representation
      - decomposition types moved to core
      - new subroutine get_representation_info
      - determination of axis string added in new_representation
   - CHANNEL_ERROR: one error string (2027) added
   - messy_main_channel_c4.inc: make TKE to channel object in all cases
- SWITCH: OFFEMIS and IMPORT added
- CVTRANS: bugfix initialisation of mass fluxes
- CLOUD: bugfix for uninitialised variables: zhmixtau, ztvm1, invb, zbetaa,
	 zbetab and zbetass

******************************************************************************

messy_2.3zh (17 Nov 09)

Changes by Holger Tost (thanks to Simone Dietmueller, see changes for 1.8.1b):
- SCAV: bug fix in messy_scav.f90, subroutine SCAV_EASY_L3

Changes by Patrick Joeckel:
- CHANNEL: update in main.mk
- mh-aix, mh-DEISA: updates for pnetcdf 1.1.0
- BUFLY: update
- config/config.guess,config.sub,install-sh: update for IBM pSeries, AIX 6.1
- kpp1, kpp: Makefile.defs.AIX: changed gcc to xlc_r
  (gcc does not work any longer after update to AIX 6.1)
- messy/util/efchk: updates
- libsrc/dwdlibgrib1/include/fortran_c.h: special rule for Power6/Linux (SARA)
  with IBMR2Fortran
- libsrc/dwdlibgrib1/source/Makefile.m: update for rs6000/Linux (DEISA at SARA)
- Makefile.in (MPIOM, COSMO, ECHAM5 (2x)) updats for target "check"
- efchk: update

******************************************************************************

messy_2.3zg (26 Oct 09)

Changes by Patrick Joeckel:
- MECCA1/kpp1: enable creation of mechanisms on IBM Power6 (AIX);
  modified files: replace1.awk, substitute.awk, xmecca1
- MECCA/kpp/kp4: enable creation of mechanisms on IBM Power6 (AIX);
  modified files: replace.awk, substitute.awk, xmecca, kp4.tcsh
- xecham: set echo_sytel=both

Changes by Andrea Pozzer:
- MPIOM (messy_mpiom_e5.f90): UDO, VOE for restart

Changes by Patrick Joeckel (according to changes by Christoph Bruehl for 1.8b):
- JVAL: alternative subroutine jval_cal_cl2o2_new based on Burkholder 90
  Chen 2009 (currently commented out)
  modified files: messy_jval_jvpp.inc (!!!)
- MECCA1 (gas.eqn): comment to remove factor 1.4 on Cl2O2 photolysis channel
  in case alternative jval_cal_cl2o2_new is used

Changes by Patrick Joeckel:
- messy/util/xecham: extensions for IBM AIX
- update of messy/tools/kpp1/Makefile.defs.AIX to allow compilation on AIX
- update of messy/tools/kpp/Makefile.defs.AIX to allow compilation on AIX
- MECCA (gas.eqn): comment to remove factor 1.4 on Cl2O2 photolysis channel
  in case alternative jval_cal_cl2o2_new is used
- SCAV:
  - xdecomp*: remove always if-statements
  - xscav*: remove indirect indexing as default
- MECCA1:
  - rpl/scout*.rpl: SF6AGE removed
  - xdecomp: remove always if-statements
  - xmecca1: remove indirect indexing as default
- HETCHEM (messy_main_hetchem_e5.f90): het_n2o5 reduced from rank 5 to rank 3
  (ngpblks,1 dimensions not required, since only used in hetchem_physc)
- MSBM:
  - lower boundary of PSC region [hPa] as CPL-namelist parameter r_lb
- PSC:
  - lower boundary of PSC region [hPa] as CPL-namelist parameter r_lb
  - bug fix (potential division by zero removed)
- BUFLY (messy_bufly_e5.f90): bug-fix
- mh-aix: updates for blizzard at DKRZ
- mh-linux: updates for lx* at DLR
- mh-linux-64: updates for LRZ (hlrb2)
- xmessy_echam5:
  - copynml: remove also spaces before closing parentheses
  - updates for blizzard at DKRZ
  - updates for lx* at DLR
  - upates for LRZ (hlrb2)
- mchlog: update
- ECHAM5.3.02: updates for L41DLR;
  - mo_time_control.f90            - set_delta_time
  - RAD4ALL (messy_rad4all_e5.f90) - zinpar, zinhomi for E5302
    (subroutine rad4all_set_param)
  - CLOUD:  messy_cloud_ori.f90    - cauloc (in sucloud_1 for E5302)
  Note: NO changes in code, which is already replaced by MESSy-submodels:
  - CONVECT: messy_convect_iedtke_param.f90
	     (mo_cumulus_flux.f90) - cmfctop, cprcon
  - RAD4ALL: messy_rad4all_e5.f90
	     (rad_int.f90)         - zinpar, zinhomi
  Note: NO changes in
  - mo_gwspectrum.f90, setgws.f90  - emiss_press instead of emiss_lev
  (because already done!)

******************************************************************************

messy_2.3zf (14 Sep 09)

Changes by Astrid Kerkweg:
-TIMER: bug fix, modified files: mo_io.f90 (2x), messy_main_bmluse_bi.f90,
 messy_main_channel_bi.f90,

Changes by Patrick Joeckel:
- CLOUD (messy_cloud_e5.f90): bug fix or compiler workaround; (xlf95_r);
  deallocate allocatable arrays
- new submodel BUFLY to illustrate the "butterfly effect"
- messy_main_channel_e5.inc (associate_streams_to_channels): bug fix;
  in T63 resolution with 16 x 32 CPUs, the stream element su0 (and probably
  others are wrongly considered to be in SP_2D_HORIZONTAL representation on
  CPU 240, because SIZE(.,2) of the respective pointer is 2 ... but this is not
  the COMPLEX dimension; now the number of levels must be 1 as additional
  criterion
- xmessy_echam5: revised; data directory structure revised
  (master directory structure is on vip)

Changes by Sergey Gromov (thanks to Astrid Kerkweg):
- MECCA (messy_mecca_e5.f90): bug-fix (p_bcast of l_dbl and l_tag)

Changes by Sergey Gromov and Patrick Joeckel:
- KP4 (expand_decomp.C): bug fix for small Jacobians which are not split
  (in the Fortran-Code) into parts, e.g., LU_DIAG_0, LU_DIAG_1, etc. but
  simply LU_DIAG

Changes by Bastian Kern:
- A2O: bug fix

******************************************************************************

messy_2.3ze (30 Jul 09)

Changes by Sergey Gromov:
- MECCA:
  - updates for TAG and DBL
  - xmecca updated
  - messy_mecca_e5.f90: new entry points for DBL (3D now)
- new directory tools/tagdbl with pascal source code for taggin and doubling
  tools (availability of fpc (free pascal compiler) automatically checked)

******************************************************************************

messy_2.3zd (30 Jul 09)

Changes by Patrick Joeckel:
- MPIOM_GRID:
  open(...,convert='BIG_ENDIAN',...) encapsulated in preprocessor directive
  (#ifndef NOENDIANCONVERT), because this is not Fortran95 standard and not
  all compilers allow that

Changes by Andrea Pozzer:
- physc.f90: solar fluxes not masked from rad4all
- AIRSEA, DRYDEP:
  - messy_airsea_e5, messy_drydep_e5: land sea mask corrected
- HAMMOC:
  - messy_hamocc_e5.f90: CH3I production in water added
  - silica input from dust
- HD:
  - hd_e5 : - event(time step) define from namelist for :
	      - soil runoff
	      - glacier runoff
	   - namelist definition moved at the beginning (needed with aix)
	   - added output (discharge in m3/s) for later use in otphysc submodel
- MPIOM:
  - messy_mpiom_e5 : possible to use different ocean grids
		    (dimensions defined in mpiom.nml)
- OTPHYSC (messy_otphysc_e5.f90): simple parametrisazion for tracer input
	  from rivers
- RAD4ALL (messy_rad4all_e5.f90): modified (see physc.f90)
- CLOUD:
  - messy_cloud_ori, messy_convect_tiedke, messy_rad4all:
    value for radiation in coupled case equal to standard run
- MECCA (gas.eqn): heterogenous reaction of HNO3 --> NO3m_cs + Hp_cs removed
- MPIOM_GRID: new tool for creation of MPIOM grids

******************************************************************************

messy_2.3zc (29 Jul 09)

Changes by Astrid Kerkweg and Patrick Joeckel:
- messy/mbm/*: updates according to IMPORT_TSERIES for
  CAABA, JVAL, TSERIES
- JVAL, JVNEW, QBO, SPE, SPACENOX, RAD4ALL_FUBRAD: USE statements changed
  for IMPORT_TSERIES
- IMPORT_TSERIES:
  - new (sub)submodel for the import of time series data from
    standardised ASCII-Files
  - all corresponding routines moved from TIMER to here
  - t_time_control renamed to t_tseries_ctrl
  - t_time_series renamed to t_tseries_data

Changes by Astrid Kerkweg:
- SEDI:
  - messy/echam5/smil/messy_sedi_e5.f90 moved to
    messy/smil/messy_sedi_si.f90
  - implementation of rank flipping for different basemodels
- DRADON
  - messy/echam5/smil/messy_dradon_e5.f90 moved to
    messy/smil/messy_dradon_si.f90
  - implementation of rank flipping for different basemodels
- COSMO (data_soil.f90):
  - snow cover (xf_snow) saved for messy_main_data_bi.f90
  - messy_main_control_c4.f90: tracer_local_start called in every 'local'
    subroutine
- DATA: additional variables
- TIMER:
  - bug fix
- ECHAM5 (5.3.01):
  - initialize.f90:
    - new call to messy_setup
    - move call to messy_initialize before init_events
  - mo_time_control.f90: bugfix for sofar unaccounted rewind_manager calls
  - time control now via TIMER
    modified files: mo_io.f90, mo_time_control.f90, initialize.f90, stepon.f90

Changes by Bastian Kern:
- A2O: new messy basemodel (mbm) for the ocean-to-atmosphere (and vice versa)
  grid transforamtions; parts of the infrastructure are based on NCREGRID,
  the respective modules are linked
- NCREGIRD (messy_ncregrid_geohyb.f90): extensions for curvilinear ocean grids
  (encapsulated in pre-processor directive _A2O)

Changes by Astrid Kerkweg:
- MMD:
  - messy_mmdclnt_c4: rename mmdclnt_initialize to mmdclnt_setup
- MESSy:
  - messy_main_channel_bi.f90: add irefatm, nfltvc as attributes for COSMO
  - messy_main_channel_c4.inc: add channel_elements svc1, svc2
- DATA: messy_main_data_bi.f90, messy_mmdserv_c4.f90, messy_mmdserv_e5.f90:
	introduce logicals IS_SERVER / IS_CLIENT
- QTIMER (messy_main_qtimer_bi.f90):
    renamed main_qtimer_initialize to main_qtimer_setup
- SWITCH (messy_main_switch_bi.f90):
    renamed main_switch_initialize to main_switch_setup
- TRACER (messy_main_tracer_bi.f90, messy_main_tracer.f90):
    added new integer container I_MMD_INIT et al.
- CONTROL (messy_main_control_c4.f90, messy_main_control_e5.f90):
    added subroutine messy_setup
- TIMER:
    - rewind_manager renamed to timer_rewind_manager
    - get_time_step renamed to timer_get_time_step for consistency
    - write_date => PRIVATE
    - simulation time (start, stop, restart event, calendar, delta_time,
      lresume) controlled via timer.nml (obsolete in base-model namelists !!!)
- CHANNEL (messy_main_channel_bi.f90):
    - get_time_step renamed to timer_get_time_step
- COSMO:
  - data_io.f90, lmorg.f90, organize_data.f90, src_input.f90, src_setup.f90:
    replaced luse_I2CINC by IS_SERVER / IS_CLIENT in messy_main_data_bi
  - data_modelconfig.f90: define svc1, svc2 as pointer
  - time control now via TIMER
- INT2COSMO:
  - src_memory.f90: bug-fix vcoord
- HD (messy_hd_e5): get_time_step renamed to timer_get_time_step
- ECHAM5 (5.3.02):
  - initialize.f90:
    - new call to messy_setup
    - move call to messy_initialize before init_events
  - mo_time_control.f90: bugfix for sofar unaccounted rewind_manager calls
  - time control now via TIMER
    modified files: mo_io.f90, mo_time_control.f90, initialize.f90, stepon.f90

Changes by Patrick Joeckel:
- echam5.2.02a removed from distribution

******************************************************************************

messy_2.3zb (23 Jul 09)

Changes by Astrid Kerkweg:
- COSMO (src_conv_tiedtke.f90): bug-fix
- messy_main_data_bi.f90: bug fix for calculation of pressi_3d (COSMO)

Changes by Andrea Pozzer:
- new script messy/util/modify_restart_date to change the restart data ad time
  of MESSy restart files (to be executed after init_restart)

******************************************************************************

messy_2.3za (21 Jul 09)

Changes by Thomas Kaschka:
- COSMO (src_setup.f90): bug fix for tracer transport

Changes by Astrid Kerkweg:
- COSMO: coupling of CVTRANS; modified files: src_conv_tiedtke.f90,
	 messy_main_data_bi.f90, messy_main_control_c4.f90,
	 organize_physics.f90
- CVTRANS:
  - messy/echam5/smil/messy_cvtrans_e5.f90 moved to
    messy/smil/messy_cvtrans_si.f90
  - prototype implementation of rank flipping for different basemodels
  - pointer declaration and assignment of channel objects
    cumassf, cdmassf, cuentr, cudetr, cdentr, cddetr moved from
    SMCL to SMIL (required to enable rank-flipping)
- messy_main_control_e5.f90: modified for changes in CVTRANS

******************************************************************************

messy_2.3z (09 Jul 09)

Changes by Rolf Sander:
- CAABA: (for details, see messy/mbm/caaba/CHANGELOG)
  - current CAABA/MECCA version is now 2.5j
  - Holger's new NHx chemistry (<G3209>-<G3224>) moved from eval2.3.rpl
    to gas.eqn

Changes by Andreas Baumgaertner:
- E4CHEM: new submodel with chemistry solver of ECHAM4/CHEM
- CAABA: E4CHEM as alternative solver
- mh-linux-64: new entries for air-esm-humankapital1 and ab-suse-laptop
- messy_main_tools.f90: new function rel2spechum

Changes by Patrick Joeckel:
- CAABA:
  - new reaction G6412 excluded in eval2.3.rpl for consistency to M2E23_exp??
- config/mh-linux64, xmessy_echam5: updates for mpc01.opt

******************************************************************************

messy_2.3y (26 Jun 09)

Changes by Andrea Pozzer:
- mbm/tools/biogen: update to version 0.5

Changes by Rolf Sander:
- JVPP: bug fixes (kind) in jvpp_step2.f90 and messy_main_spline.f90

Changes by Patrick Joeckel:
- configure.in, echam5*/Makefile.in (3x), cosmo/Makefile.in, mpiom/Makefile.in,
  mh-linux, mh-linux-64, mh-alpha, efchk:
  - update of forcheck analysis tools:
    - echam5/cosmo include paths, compiler and pre-processed forcheck
      libraries are now passed to efchk
    - mh-* contains new variable FCKLIBS for pre-processed forcheck libraries
  NOTE: forcheck (efchk) does currently not work with COSMO and/or MMD.
- CHANNEL (messy_main_channel_bi.f90, messy_main_channel_e5.inc):
  workaround for ifort-v11 compiler bugs removed (__INTEL_v11)
- NCREGRID (messy_ncregrid_control.f90): workaround for ifort-v11 compiler bugs
  removed (__INTEL_v11)
- mh-linux-64, xmessy_echam5: updates for lc2master1.zdv.uni-mainz.de
  (now with self-compiled OpenMPI-1.3.2)
- messy_main_timer.f90: bug-fix (status was declared two times)
- messy_cmat.f90: bug.fix (real-overflow in implicit type-cast)

******************************************************************************

messy_2.3x (29 May 09)

Changes by Astrid Kerkweg:
- COSMO:
  - organize_data.f90, src_input.f90: introduced switch luse_I2CINC
- MMD:
  - messy_mmdclnt_c4.f90, messy_mmdserv_c4.f90, messy_mmdserv_e5.f90:
	updates for COSMO2COSMO coupling
  - messy_mmdclnt_c4.f90: move_initial/boundary_arrays_to_COSMO:
	youtlist (i2c output) changed to yvarini (COSMO input)
  - messy_main_control_c4.f90: move call of mmdclnt_initialize to lmorg.f90
  - time control completely revised (incl. restart)
- TIMER:
  - messy_main_timer_bi.f90: new subroutine timer_get_rerun_event
- messy_main_data_bi.f90: additional pointers / channel objects / references
    for prognostic variables

Changes by Andrea Pozzer:
- HAMOCC:
  - isoprene bug fixed
  - dust from channel/object or climatology from file
  - read input files via namelist instead of link to WORKDIR
- xmessy_echam5: special treatment (links) for HAMOCC removed

Changes by Andreas Baumgaertner:
- CMAT: new submodel (upper atmosphere extension)
- mh-aix: use gxlc++ instead of g++
- messy_main_constants_mem.f90: new parameters added

******************************************************************************

messy_2.3w (20 May 09)

Changes by Sergey Gromov:
- MECCA:
  - messy_mecca_e5.f90: call of fill_press

Changes by Patrick Joeckel:
- NCREGRID (messy_ncregrid_interface.f90):
  - time_span_s replaced by time_span_d
- TREXP: modified to use time_span_d instead of time_span_s
- TIMER (messy_main_timer.f90):
  - new subroutine time_span_d to calculate the time difference in days
    as REAL(DP);
  - messy_main_channel_c4.inc: time_span_s replaced by time_span_d
- CHANNEL (messy_main_channel_bi.f90):
  - use subroutine time_span_d for netCDF time axis
    Note: Due to rounding / conversion errors (between INTEGER and DP)
    INTEGER is insufficient for delta_T > 24855 days

Changes by Andrea Pozzer:
- A2O:
  - masking land/ocean values during transformation
  - bug in vector transformation fixed
- HAMOCC: option for snow/detritus aggregation added
- MPIOM:
  - time-step selectable from namelist
  - velocity field output corrected
- HD:
  - time step of glacier model selectable from namelist
  - water cycle correction added (zcorr), optional from namelist
  - new field for awfre and aifre accumulation
- messy_main_data_bi.f90: new variable for HD
- messy_main_constants_mem.f90: new thermodynamic parameters included
- messy_main_gridtrafo_scrip.f90: bug fixed (see WARNINGS: A2O)
- physc.f90:
  - apmebco_2d variables introduced (needed in HD)
  - mask of collected data for ocean coupling
  - solar radiation MASKED over land from rad4all
    (TRFLWAC_post_rad4all,SOFLWAC_post_rad4all)
- RAD4ALL:
  - messy_rad4all_e5.f90: use standard value of zinhomi also for coupled setup
  - messy_rad4all.f90:
- CLOUD (messy_cloud_cover.f90):
  - use standard value of zsecfrw also for coupled setup

Changes by Astrid Kerkweg:
- messy_main_control_c4.f90: call to main_qtimer_init_memory

Changes by Patrick Joeckel:
- xecham: avoid "gmake tools" if cross compiled for SX
- locate_f90.sh(.in): update

******************************************************************************

messy_2.3v (08 May 09)

Changes by Astrid Kerkweg:
ECHAM5:
 - scan1.f90: CALL initemp additionally before messy_global_start in
   case of MESSYMMD
COSMO:
  - data_io.f90: special directive removed
  - src_input.f90: code partly switched off for 'initial' and 'boundary'
		 , bugfix
  - organize_physics.f90: set ntke to nnow for l2tls and restart in 'init'
INT2COSMO:
 - data_fields_lm.f90, io_utilities.f90, src_gribtabs.f90, src_namelists.f90
	, src_read_ext.f90, utilities.f90:
    => updates B. Rockel: lake and date zone crossing
 - data_grid_in.f90, data_grid_lm.f90, external_data.f90, meteo_utilities.f90,
	 src_lm_output.f90, src_namelists.f90, src_read_coarse_grid.f90,
	 src_read_ext.f90, src_vert_inter_lm.f90:
    => updates reference atmosphere
 - src_cleanup.f90, src_lm_fields.f90, src_namelists.f90
	, src_read_coarse_grid.f90:
    => I2CINC update
 - src_coarse_interpol.f90: t_so_in defined from 1:ke_soil+2
 - src_memory.f90: new representations for W_SO and T_SO(_IN)
 - src_vert_interpol.f90: exchg_boundaries nboundlines=1
MESSY:
 - messy_mmdclnt_c4.f90: updated (e.g. exchg_boundaries, flag fields)
 - messy_main_channel_c4.inc: split channel objects with representation
	 GP_3D_HORIZ_T into timelevels, 4D-channel-elemente, update restart
 - messy_main_mpi_bi.f90: scatter routines removed p_pe == p_io
 - messy_main_data_bi.f90: sso-elements used from COSMO
 - messy_main_tracer_bi.f90: setup_tracer_set_gp l2tls specific
ONLEM:
 - messy_onlem_e5.f90: Joerg Steinkamps updates implemented

Changes by Patrick Joeckel:
- messy_mecca1_vec_e5.f90: bug-fixes
- locate_f90.sh(.in): extension for OpenMPI environments
- TRACER:
  - messy_main_tracer.f90: subroutine get_tracer overloaded to retrieve
    tracer information either by tracer name (as before) or by tracer id (new)

Changes by Kirsty Pringle (see changes for 1.7.1d):
- SCAV:
  - specifik.mk and messy/src/specific.mk: updates for NEC-SX6

Changes by Holger Tost:
- SCAV:
  - xscav_i: option for vectorized code deactivated
  - messy/src/specific.mk updates for scav-code on NEC-SX6

******************************************************************************

messy_2.3u (06 May 09)

NOTE: this distribution is supposed to be equivalent to MESSy-1.7.1c(_a1)

Changes by Rolf Sander:
- MECCA1: updated G2105 and G2108abc

Changes by Benedikt Steil (see changes for 1.7.1c):
- xmecca1, xscav_i, xscav_l: set KPP_HOME to relative path to workaround
  C (getenv) string length limitation for long paths

Changes by Holger Tost (see changes for 1.7.1c):
- SCAV
  - messy_scav_ice.f90, messy_scav_liq.f90, messy_scav.f90:
    (case sensitive) correction of SCAV_VECTOR preprocessor directive
  - messy_scav_ice.f90, messy_scav_liq.f90: bug-fixes for vector code

Changes by Joerg Steinkamp (see changes for 1.7.1c):
- ONLEM:
  - set l_veg_mlay = .false.
    NOTE: this change alters the total soil-NOx emissions
- mh-linux.i, xmessy: updates for GWDG environment
- nudge.nml: optional settings for L31ECMWF
- messy_ncregrid_control.f90, mo_transpose.f90: intel (version 11) compiler
  bug workarounds (in __INTEL_v11 preprocesor directive)

Changes by Rolf Sander and Patrick Joeckel:
- MECCA (messy_mecca_e5.f90): terminate model in mecca_initialize if meccanism
  was not created with kp4

Changes by Patrick Joeckel:
- QTIMER: (p)netCDF output of time information
- ATTILA: optional velocity diagnostic (namelist switch LVDIAG) implemented

Changes by Astrid Kerkweg and Patrick Joeckel:
- TIMER:
  - cyclic dependency (introduced through t2tls) removed
  - new subroutine timer_set_time_step_len to set integration time step
    length dpendent on integration scheme
- messy_main_data_bi.f90 (main_data_global_start): call timer_set_time_step_len

******************************************************************************

messy_2.3t (17 Mar 09)

Changes by Astrid Kerkweg, Thomas Kaschka and Patrick Joeckel:
- config/mh-linux-64, xmessy_cosmo: updates for Linux-Cluster at Uni Bonn
- xmessy_cosmo: updates from recent xmessy_echam5

Changes by Astrid Kerkweg:
- COSMO
  - lmorg.f90: xtf -> xtm1 in initialise_loop for RK
  - src_runge_kutta.f90, src_advection_rk.f90, src_slow_tendencies_rk.f90:
    clipping and filling routines for tracer deactivated
  - src_setup.f90: r_earth set to ECHAM5/MESSy value for consistency; this
    needs to be checked!
  - messy_main_data_bi.f90: grmass and grvol calculated
- TIMER:
  - messy_main_timer_bi.f90: set time_step_len to delta_time for l2tls
- TRACER:
  - messy_main_tracer_bi.f90: activate global_end for COSMO
- TRACER_PDEF:
  - additional optional parameter l2tls for two-time-level-schemes

Changes by Patrick Joeckel:
- CHANNEL: output of channel / object names in case of errors removed;
	   Note: in most of the cases, channel and object names have
		 been misleading!

******************************************************************************

messy_2.3s (03 Mar 09)

Changes by Patrick Joeckel:
- JVNEW: bug fixes
- xmessy_echam5:
  - updated for use of OpenMPI-1.3 on grand (!!!), which is required for MMD;
    MPICH2-1.0.8 turned out to be not stable enough on that old machine ...
  (Note: This introduces an incompatibility on grand (!!!) to MESSy1.*.
   Make sure to set up your environment on grand correctly!)

******************************************************************************

messy_2.3r (25 Feb 09)

Changes by Rolf Sander:
- CAABA: updates, see messy/mbm/caaba/CHANGELOG
- new submodel JVNEW (for comparison with JVAL)
- scripts for doubling and for removing a MESSy submodel:
  - messy/util/duplicate_submodel.tcsh
  - messy/util/remove_submodel.tcsh
- JVAL: The subroutines jval_cal and jval_cal_* were moved from
  messy_jval.f90 into the include file messy_jval_jvpp.inc. Currently,
  these subroutines are identical to those in MESSy-1.7, except for
  cosmetic changes. Later, messy_jval_jvpp.inc will be generated
  automatically by jvpp.

******************************************************************************

messy_2.3q (06 Feb 09)

Changes by Patrick Joeckel:
- configure.in, configure: removed wrong usage of hamocc library
- config/mh-linux, xmessy_echam5:
  - updated for use of MPICH2-1.0.8 on grand (!!!), which is required for MMD
  (Note: This introduces an incompatibility on grand (!!!) to MESSy1.*. Make
	 sure to set up your environment on grand correctly!)

Changes by Andrea Pozzer:
- HAMOCC:
  - new tracer ISOP (Isoprene) production in the ocean
- messy_main_gridtrafo_scrip.f90: new file containing the scrip library
  for grid transformations; usage and copyrights in file;
- A2O:
  - messy_a2o_tools_e5.f90 removed

******************************************************************************

messy_2.3p (30 Jan 09)

Changes by Rolf Sander:
- zip.sh: modified (/bin/pwd)
- JVAL: cosmetic changes
- CAABA: (for details, see caaba/CHANGELOG)
  - xmecca: special characters modified
  - tag and dbl updates
- all tcsh-scripts: modified to use /bin/tcsh

Changes by Astrid Kerkweg:
- M7:  messy_m7_e5.f90: update for MECCA-AERO coupling
- MECCA-AERO: messy_mecca_aero_e5.f90 update for Brsalt and Brorg for
	      diagnostic reasons
- MECCA: messy_mecca_e5.f90: error output and diag of MECCA-AERO
- MMD:
  - inclusion of CPLDATA-STRUCT, namelist-control of client-server coupling

Changes by Patrick Joeckel:
- TREXP:
  - allow reaction partners with unit 1/s (e.g., photolysis rates)
- ATTILA_TOOLS:
  - bug fixes in lg2gp transformation for LG2GP_STD and LG2GP_AVEGT0

******************************************************************************

messy_2.3o (26 Jan 09)

Changes by Astrid Kerkweg:
- MMD:
  - messy_mmdclnt_c4.f90: revised

Changes by Patrick Joeckel:
- LGGP:
  - new transformation method LG2GP_AVEGT0 implemented
- ATTILA_TOOLS:
  - new transformation method LG2GP_AVEGT0 implemented
- TNUDGE:
  - fluxes renamed (from <channel_object>_flx to <tracer>_flx)
- LGVFLUX:
  - bug fix
- LGTMIX:
  - (LG)-tracer specific scaling of regional mixing strength implemented
  - lgtmix_global_start moved to lgtmix_global_end (tp_i is not yet available
    in first step at start or restart ...)
- messy_main_channel.f90:
  - set (always) FTYPE_DEFAULT = FTYPE_NETCDF
    Note: The default-filetype will be overwritten by OUT_DEFAULT in
	  channel.nml with one exception: The 'master'-restart file
	  (e.g., in ECHAM5 restart_g1a) is read before the namelists,
	  thus FTYPE_DEFAULT is used as filetype. Setting the default
	  alternatively to FTYPE_PNETCDF (as before, in case parallel-netCDF
	  was present) always triggered the use of parallel-netCDF for the
	  master restart initialistion.

Changes by Andrea Pozzer:
- messy_mpiom_e5: bug fix

******************************************************************************

messy_2.3n (21 Jan 09)

Changes by Astrid Kerkweg:
- messy_main_mpi_bi.f90 (COSMO): new subroutine switch_par_utilities to
  switch between COSMO and INT2COSMO decomposition tables
  (for gather / scatter)
- CHANNEL:
  - messy_main_channel_bi.f90:
    - new decomposition types DC_I2C and DC_I2C_IN
  - messy_main_channel_io.f90:
    - allow nullified pointers to skip output of representations without
      implemented I/O routines or scatter / gather routines
- MMD:
  - clean up
- INT2COSMO:
  - CHANNEL interface implemented

Changes by Patrick Joeckel:
- xmecca: correct LaTeX names for diagnostic tracers and accumulated
  reaction rates

******************************************************************************

messy_2.3m (16 Jan 09)

Changes by Patrick Joeckel:
- MMD:
  - some variables renamed (ECHAM->server, COSMO->Client, Name->Object,
    ... etc.) to underline the independence from the specific models.

Changes by Astrid Kerkweg:
- COSMO, int2cosmo:
  - setup_int2cosmo_in_cosmo.f90, int2lm_in_cosmo.f90 removed and merged into
    setup_int2lm.f90 and messy_mmdclnt_c4.f90, respectively; this incudes the
    move of additional routines to messy_mmdclnt_c4.f90
  - int2cosmo now uses COSMO parallel decomposition, internal parameters are
    switched accordingly
  - slow_tendencies.f9: bug-fix for TRACER
  - namelist read partially disabled in case I2CINC, specifically
    those which are defined by COSMO and should NOT be overwritten by
    int2cosmo
- MMD:
  - messy_mmdclnt_c4.f90:
    - modified to use int2cosmo vartabs
    - parallel decomposition adapted

******************************************************************************

messy_2.3l (16 Jan 09)

Changes by Klaus Ketelsen:
- MMD:
  - timing between client and server implemented
  - run-time analysis implemented (to tune load-balancing)

Changes by Patrick Joeckel:
- messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90:
  add netCDF library version to channel attributes (channel_netcdf_lib)
  in ch_(p)netcdf_write_header
- messy_ncregrid_netcdf.f90: INQUIRE removed from import routines to allow
  for usage of OPeNDAP-client library (urls cannot be inquired ...);
  for netCDF files, the status of nf90_open is tested anyway
- mh-linux-64: highly experimental setup (g95_64) for using OPeNDAP-client
  software as replacement for netCDF
- configure.in / configure: bug fixes for automatic netcd-fortran90 extension
- empty include-subdirectory added for library *.mod files
  (e.g. from internally copiled netcd-fortran90 extension)

******************************************************************************

messy_2.3k (13 Jan 09)

Changes by Patrick Joeckel and Rolf Sander:
- config/mh-linux-64: g95_64 added for mars and air-bromine

Changes by Rolf Sander:
- Makefile.in: target TAGS changed from shell argument to xargs
- CAABA (for details, see caaba/CHANGELOG):
  - messy_cmn_photol_mem.f90: common declarations for photolysis submodels
  - Monte-Carlo simulations
- messy_main_rnd*.f90: new files for random number generation (based on
  code in attila)
- TOOLS, TIMER:
  - all time related routines (TYPE T_TIME_CONTROL, T_TIME_SERIES, etc.)
    moved from TOOLS to TIMER
- TOOLS:
  - new TYPE PTR_1D_ARRAY_INT for INTEGER
- Makefile.in: awk files (*.awk) and MECCA batch files (*.bat) added to
  gmake TAGS
- JVAL box model: improved Makefile
- messy_attila.f90: comment added that mti = 625 may be necessary
- kp4/src/*.C: #include <stdlib.h> added where necessary

Changes by Holger Tost:
- SCAV (messy_scav_liq.f90): HS0(KPP_O3) for ozone scavenging added

Changes by Patrick Joeckel:
- cosmo_071205_4.2 removed
- CHANNEL:
  - new MESSy base model (mbm) channel

******************************************************************************

messy_2.3j (19 Dec 2008)

Changes by Klaus Ketelsen:
- MMD: update for additional, optional fields
- int2lm_in_cosmo.f90: interpolation of additional fields

******************************************************************************

messy_2.3i (16 Dec 2008)

Changes by Klaus Ketelsen:
- MMD (messy_mmdclnt_c4.f90): update
- INT2COSMO, COSMO: read external data

Changes by Patrick Joeckel:
- MMD (mmd_handle_communicator.f90): modifications to enable uncoupled
      simulations with executables configures with --enable-MESSYMMD; this mode
      is triggered if the MMD control file (currently MMD_couple_layout)
      does not exist in the $WORKDIR (generated by the run-script)
- HAMOCC: bug fix in messy_hamocc.f90
- messy/smcl/specifik.mk: compile messy_cloud_ori.f90 with -qnohot on IBM

******************************************************************************

messy_2.3h (12 Dec 2008)

Changes by Klaus Ketelsen:
- MMD:
  - several updates and bug-fixes
  - internal consistency check (mmd_test.f90)
  - server for COSMO (messy_mmdserv_c4.f90)

Changes by Astrid Kerkweg:
- EC2COSMO: local_end -> global_start
- ONLEM: updates according to Joerg Steinkamps modifications from 1.6 to 1.7
  (so far only as comments !)

Changes by Andrea Pozzer:
- HAMOCC:
  - Hp and CO3mm added as tracers
  - rerun and mass conservation (air-sea exchange) tested
  - CO photoproduction added
- A2O:
  - time_step_len replaced by delta_time
  - modifications in grid transformation
- OTPHYSC: bug fix

******************************************************************************

messy_2.3g (04 Dec 08)

Changes by Astrid Kerkweg:
- COSMO:
  - organize_data.f90: rerun event moved
  - src_output.f90: bug fix for outpt trigger (l_COSMO_now)
  - src_setup.f90: set lresume
  -
- CHANNEL:
  - messy_main_channel_bi.f90: event initialisation partly moved from
    initialize to init_coupling
  - messy_main_channel_c4.inc: u is now channel object
- TRACER:
  - messy_main_tracer_bi.f90: bug fix on local_start
    (set reduced rank pointers)
- TIMER:
  - messy_main_timer.f90: new subroutine timer_set_lresume

******************************************************************************

messy_2.3f (04 Dec 08)

Changes by Klaus Ketelsen:
- INT2COSMO:
  - data_int2lm_parallel.f90: nboundlines always 2 ???
  - src_decomposition.f90: coupling to cosmo
  - src_lm_fields.f90: debug print statements
  - src_namelists.f90: coupling to cosmo
  - src_vert_interpol.f90, src_lm_fields.f90:
    use nboundlines instead of 1 in call to subroutine exchg_boundaries
- MMD: updates

Changes by Patrick Joeckel:
- CHANNEL (messy_main_channel_io.f90, messy_main_channel.f90):
  - bug fixes for parallel netCDF output
  - bug fix for 'new file trigger'
- TREXP: additional first order reaction coefficient with dependency on
  concentration of air: k = ka + c_air*kb
- messy_main_channel.f90, messy_main_channel_io.f90:
  - effect of preprocessor directive PNETCDF changed
    (see file-type in channel.nml):
    if compiled WITH parallel-netCDF:
       file-type = 2 for parallel-netCDF; file-type = 3 for serial netCDF
    if compiled WITHOUT parallel-netCDF:
       file-type = 2 and 3 are both for serial netCDF
- messy_main_channel_pnetcdf.f90: special additional initialisation for
  GPFS on __ibm__ (set BM_largeblock_io to true) added and commented out
  (tests indicate a very bad performance)

******************************************************************************

messy_2.3e (21 Nov 08)

Changes by Andrea Pozzer:
- A2O: SCRIP library corrected (now indipendent on decomposition and nproma)

Changes by Astrid Kerkweg:
- EC2COSMO: attributes for int2cosmo added
- int2cosmo_1.8: link to messy_main_constants_mem.f90
- messy_mmdclnt_c4.f90: bug fix
- messy_main_channel_c4.inc: bug fixes

Changes by Patrick Joeckel:
- MMD: mmd/include directory removed, *.mod files remain in src
- messy_main_channel_e5.inc: bug fix in parallel decomposition for spectral
  representations (for parallel-netcdf)
- config/mh-DEISA: update
- messy/mbm/caaba/mecca/diagtrac/eval2.3_budget.tex:
  bug fix (<G4504a>,ProdRO2)
- new setup EVAL2.3HR (start 200501 from M2E23_exp07)
- messy_main_channel_pnetcdf.f90: bug fix

******************************************************************************

messy_2.3d (20 Nov 08)

Changes by Klaus Ketelsen:
- MMD: update

******************************************************************************

Changes by Patrick Joeckel:
- configure.in:
  - messages corrected
  - option --enable-MMD renamed to --enable-MESSYMMD
- LGVFLUX: special case for age-of-air analysis, triggered by
  minimum residence time < 0 in lgvflux.nml

Changes by Klaus Ketelsen:
- bug-fix in cosmo/src_i2c/src_namelists.f90
- preprocessor directive MMD renamed by MESSYMMD, due to conflicts with
  variable names

******************************************************************************

messy_2.3c (07 Nov 08)

Changes by Astrid Kerkweg and Patrick Joeckel:
- update to int2cosmo_1.8, old version removed
- new configure option --enable-MMD
- new configure option --enable-I2CINC to include int2cosmo in cosmo
- COSMO
  - version 080716_4.4 removed
  - new directory cosmo/src_i2c with links/files to include int2cosmo in cosmo
  - preprocessor directive IN_COSMO renamed to I2CINC

Changes by Klaus Ketelsen:
- int2cosmo optionally included in COSMO
  - preprocessor directive IN_COSMO
  - new subdirectory cosmo/src_i2c
    - links to ../../messy/mbm/int2cosmo_1.8
    - new files int2lm_in_cosmo.f90, setup_int2lm_in_cosmo.f90
- new library mmd (multi model driver in libsrc/mmd
- new submodels MMDCLNT, MMDSERV

******************************************************************************

messy_2.3b (07 Nov 08)

Changes by Astrid Kerkweg:
- COSMO: several bug-fixes for uninitialized variables
- messy_main_channel_bi.f90: read CPL namelist moved from init_coupling to
  initialize
- messy_main_channel_c4.inc, messy_main_data_bi.f90:
  2 variables added for COSMO_4.6
- new submodel EC2COSMO to provide output for COSMO offline
- messy_main_timer_bi.f90: bug-fix
- int2cosmo_1.8: bug fixes

******************************************************************************

messy_2.3 (07 Nov 08)

Changes by Astrid Kerkweg:
- mbm/int2clm1 removed

Changes by Andrea Pozzer:
- OTPHYSC: scavenging influences on ocean tracers added
- A2O: SCRIP library included (all transformation methods work)
- MPIOM/HAMOCC: corrections  of output
- AIRSEA:
  - !!! ATTENTION: the changes introduce a namelist-incompatibility to
	previous versions !!!
  - implementation of different transfer velocities
  - Improvements in the box model

Changes by Klaus Dirk Gottschaldt (for 1.7):
- xmessy: ESH_PENV=mpiexec_hlrb2 for hlrb2

Changes by Joerg Steinkamp (for 1.7):
- ONLEM: alternative NO soil emission algorithm (untested) only as commented
  code

******************************************************************************

messy_2.2zzf (30 Oct 08)

Changes by Astrid Kerkweg:
- mbm/int2cosmo_1.8 added
- mbm/int2clm1      added
- COSMO:
  - cosmo/specific.mk: IBM -noqcheck for dfi_initialization
  - Makefile.in:   COSMO4_X to DEFS added
  - CHANGED FILES:
	data_fields, data_io, data_lheat_nudge, data_lhn_diag,
	data_modelconfig,
	data_parameters, data_runcontrol, dfi_initialization, environment
	hori_diffusion, lmorg, organize_assimilation, organize_data,
	organize_satellites, slow_tendencies, src_advection_rk, src_allocation,
	src_artifdata, src_gscp, src_input, src_integrals, src_leapfrog,
	src_meanvalues, src_obs_processing, src_output, src_relaxation,
	src_runge_kutta, src_setup, src_setup_vartab, src_slow_tendencies_rk
   bugfixes: src_soil_multlay, src_conv_tiedke, mpe_io, src_advection_rk
   - dummy_netcdf.f90 => dummy_netcdf.f90.org
     dummy_mpi.f90    => dummy_mpi.f90.org
     lmorg.F90        => lmorg.f90
- MESSY:
  - messy_main_blather_bi: extended for COSMO
  - messy_main_channel_bi: subroutine set_channel_output added, logic changed
    accordingly
  - messy_main_channel_c4, messy_main_data_bi:
    update for new COSMO versions, and new COSMO variable edr
  - messy_main_timer_bi  output reduced (switch LDEBUG)
  - messy_main_tracer_bi:
    - fields xt_bd and xt_diff for COSMO added
    - tracer_global_start splitted
      into tracer_global_start and  main_tracer_beforeadv
  - messy_main_tracer_family_bi:   main_tracer_family_global_start renamed to
    main_tracer_family_beforeadv
  - messy_main_tracer_mem_bi, messy_main_tracer:
    I_HDIFF and I_RELAX as new tracer processes added
  - messy_main_tracer_pdef_bi: missing event now introduced for COSMO
  - messy_main_control_c4:
    LOCAL loops introduced to imitate ECHAM local loop
  - messy_main_control_e5, PTRAC:
    PTRAC moved from messy/echam5/smil to messy/smil _e5 renamed to _si
  - messy_m7_e5.f90: Input of aerosol tracers H2SO4, HSO4m and enabled for
    sulfate coupling
ECHAM5:
   - Makefile.in: messy/smil added
   - scan1: call of main_tracer_beforeadv

******************************************************************************

messy_2.2zze (13 Oct 08)

Changes by Rolf Sander:
- config/mh-linux-64:
  - update for biomodel
- messy/util/kpp1to2 and messy/util/kpp2to1 updates
- CAABA is now at version 2.5e:
  - for details, see caaba/CHANGELOG
  - xmecca automatically adds "reaction-rate-species" and
    "diagnostic-tracer-species" as tracers to *.inc files
- JVAL: references for spectra in comments

Changes by Mauro Dall'Amico and Winfried Beer:
- xmessy_echam5: bug fix in test for core-files

Changes by Patrick Joeckel:
- xmessy_echam5:
  - improved autodetection of #CPUs for LL
  - prepared for LL-multi-step jobs
  - update for power6 (Linux) at SARA
- cosmo/Makefile.in updated

Changes by Patrick Joeckel and Rolf Sander:
- MECCA (gas.tex):
  - I_SCAV=OFF for Hg
  - I_DRYDEP=OFF for Hg
- MECCA_KHET:
  - gamma_Hg = 0
  - bug fix; pressure now in Pa

******************************************************************************

messy_2.2zzd (24 Sep 08)

Changes by Patrick Joeckel:
- configure.in, configure: special check of DEISA environment
  ($DEISA_HOME) to use config/mh-DEISA

Changes by Holger Tost:
- SCAV:
  - modified Hg scavenging
  - 2 bug fixes

Changes by Patrick Joeckel:
- CHANNEL: new feature to trigger new output files by timer events (as
	   alternative to counting output time steps per file)
- ATTILA: alternative single-PE initialisation implemented; the default
	  parallel initialisation has the drawback that it is dependent
	  on the number of CPUs and results in inhomogeneous cell
	  distributions for #CPUs > 1
- messy_main_transform_bi.f90: bux fix (typo in ALLOCATE statement corrected)
- MECCA (gas.eqn): reaction rate of Hg + O3 changed from
		   8.43E-17*EXP(-1407./temp) to 3.0E-20 according to ref2374

******************************************************************************

messy_2.2zzc (20 Aug 08)

Changes by Holger Tost:
- SCAV: bug fix for correct calculation of dry air density (rho)

Changes by Patrick Joeckel:
- MECCA (gas.eqn): O3s, LO3s, k_O3s diagnostic completed
- RAD4ALL_FUBRAD: put altsw into restart file
- messy_jval.f90 (jval_read_nml_ctrl): interval check corrected
- messy_ncregrid_netcdf.f90 (EXPORT_NCATT): allow character attributes of
  length 1

******************************************************************************

messy_2.2zzb (13 Aug 08)

Changes by Andrea Pozzer:
- A2O: update, now scrip-library used
       (flux conserving transformation is still under development)

Changes by Patrick Joeckel:
- SEDI, DRYDEP: corrected unit and conversion factors for fluxes and
  accumulated fluxes (NUMBERDENSITY and AMOUNTFRACTION)
- WARNINGS updated
- MECCA (gas.eqn): O3s, LO3s, k_O3s diagnostic completed
- messy/smcl/specifik.mk: special rule for messy_mecca_kpp.f90 to prevent
  kppdecomp from being inlined
- SWITCH: messy-timer-modstring and -version added to attributes
- TRACER (messy_main_tracer_bi.f90) and
  NCREGRID (messy_main_ncregrid_control.f90):
  bug-fix for parallel-NCREGRID tracer_init, re-set save variable for
  multiple calls
- messy_hetchem_e5.f90: bug-fix in hetchem_local_end; chech idt_* before
  operating on tracer tendencies
- messy_main_cchannel_netcf.f90,  messy_main_cchannel_pnetcf.f90:
  error output to file ERROR.<p>netcdf<.[p_pe]>
- MECCA_KHET: use MAX(0.0_dp, *) of wetradius and number density,
	      because both can be negative
- DRYDEP: bug fix for airsea-coupling; l_cpl_airsea(jt) only TRUE if
  DSET(i)%idt_vdbl(jt) /= 0 in addition to other requirements
- echam5.3.02/specific.mk: exclude mo_legendre from qcheck-option on AIX
- messy_sedi_e5.f90 (sedi_init_coupling): bug-fix in trset_loop (cycle, if
  undefined)
- messy_rad4all_long.f90, messy_rad4all_short.f90:
  preprocessor directives indicating the basemodel (e.g. ECHAM5, MPIOM, COMSO)
  must not be used in SMCL-Files, since they are not defined here
- MECCA_KHET: bug fix in channel-naming for aerosol model ('_gp')
	      wetradius and sigma
- NCREGRID (messy_ncregrid_base.f90, messy_ncregid_control.f90):
  write ERROR.ncregrid<.[rank]> file on error
- messy_main_transform_e5.f90:
  - trp_gpdc_gpgl (case -1) rewritten for performance increase
    (for testing with MPIPERF_BAD preprocessor directive)
- mo_mpi.f90 (3x): additional functions p_sum for 2 and 3-d fields
- Makefile.in, zip.sh: *.lst files excluded
- config/mh-aix: updated compiler switches, optional mpi-trace output
- xmessy_echam5: TPROFMODE for AIX implemented

Changes by Astrid Kerkweg:
- mo_time_control.f90 (3x):
  - bug fix (putrerun initialisation)
  - initialisation of next_date
- messy_main_timer_bi.f90 (timer_set_rerun_event):
  - bug fix for dt change after restart
  - stringlength is *

Changes by Sergey Gromov and Patrick Joeckel:
- CAABA (including changes in MECCA)
  - call to tagging procedures with subroutine parameters of C, cair, press
    and temp (instead of USE caaba_mem) as required for 3D / kp4

Changes by Rolf Sander and Sergey Gromov:
- CAABA (including changes in MECCA and KPP !!!):
  - update, see caaba/CHANGELOG
  - tagging/doubling introduced for CAABA

Changes by Rolf Sander, Holger Tost and Patrick Joeckel:
- SCAV:
  - Hg scavenging
  - modified files:
    messy_scav.f90, messy_scav_liq.f90, vector_exp/sedsolve_ros3,
    vector/sedsolve_ros3, xscav_l,
- MECCA1:
  - modifications for Hg scavenging
  - modified files:
    aqueous.spc, gas.spc, aqueous.eqn
  - xmecca1: bug fix for diagnostic tracers
- MECCA:
  - xmecca: bug fix for diagnostic tracers
  - MECCA_KHET:
    - gamma_Hg, gamma_RGM added
    - calculation of het. reate coeff. (kmt) for Hg added
  - gas.eqn: - 18 pseudo aerosol reactions for Hg species added
	     - iht_Hg, ihs_Hg added
	     - iht_RGM, ihs_RGM added
  - gas.tex:
    - RGM_cs added
    - dryreac_sf and henry coeff. for Hg species updated
- MSBM:
  - calculation of stratospheric heterogeneous rate coefficients
    (pseudo 1st order) for Hg and RGM; khet(31) ... khet(36);
    ihs_Hg, ihs_RGM

******************************************************************************

messy_2.2zza (09 Jul 08)

Changes by Astrid Kerkweg:
- all MESSy base models: link to messy_main_timer.f90, Makefile.m, main.mk
  modified accordingly
- COSMO: update of TIMER usage
  modified files: messy_main_channel_c4.inc, messy_main_timer_bi.f90
- BMLUSE, DATA, TRACER, ADVECT, ATTILA, HD, ONLEM:
  - consistent MESSy-TIMER usage with correct preprocessor directive
  - modified files: messy_main_bmluse_bi.f90, messy_main_data_bi.f90,
    messy_main_tracer_pdef_bi.f90, messy_advect_e5.f90, messy_attila_e5.f90,
    messy_hd_e5.f90, messy_onlem_e5.f90:
- TOOLS, TIMER:
  all time related routines moved from TOOLS to TIMER;
  modified files: messy_main_channel_bi.f90, messy_cam_e5.f90,
  messy_mmforce_e5.f90, messy_s4d_e5.f90, messy_timepos_e5.f90,
  messy_trexp_e5.f90, messy_viso_e5.f90, messy_ncregrid_interface_e5.f90,
  messy_main_qtimer.f90, messy_main_timer_event.f90, messy_main_timer.f90,
  messy_main_tools.f90
- RAD4ALL:
  - modified for MESSy-TIMER
  - finish/message replaced by error_bi/info_bi
  - change of USE statements for shifts from TOOLS to TIMER
  - modified files:
    messy_rad4all_e5.f90, messy_rad4all_orbit_e5.f90
- CAABA:
  - modified due to TOOLS->TIMER shifts
  - modified files: messy_main_control_cb.f90, messy_traject_box.f90

Changes by Patrick Joeckel:
- mo_io.f90 (3x): bug fix (status was declared twice)
- messy_scav_e5.f90: bug-fix (error in preprocessor directive)
- mo_time_control.f90 (3x): correct usage of L_TRIGGER_RESTART

******************************************************************************

messy_2.2zz (04 Jul 08)

Changes by Patrick Joeckel:
- DATA, TTRANSFORM: finish/message replaced by error_bi, info_bi
- locate_in_decomp moved from TOOLS to TRANSFORM
  (submodels TREXP, SCOUT, S4D changed accordingly)

Changes by Astrid Kerkweg, Rolf Sander and Patrick Joeckel:
- TOOLS: split into TOOLS and BLATHER to avoid cyclic dependencies
  - new files: messy_main_blather_bi.f90
  - messy_main_blather.f90:
     start_message, end_message, info, warning
  - messy_main_blather_bi.f90:
     start_message_bi (renamed from start_message_e5),
     end_message_bi (renamed from end_message_e5),
     info_bi, warning_bi, error_bi
  - find_next_free_unit moved to SMCL of TOOLS
- COMPLETE MESSy CODE
  - error renamed to error_bi (USE messy_main_blather_bi)
  - info  renamed to info_bi  (USE messy_main_blather_bi)
  - warnings renamed to warnings_bi (USE messy_main_blather_bi)
- ALL MBM:
  - link to messy_main_blather.f90 (messy_main_blather_bi.f90 in TRACER)
  - Makefile, Makefile.m, main.mk updated accordingly

Changes by Patrick Joeckel:
- WARNINGS updated
- movement of DECOMPOSITION and TRANSFORMATION USEs from
  messy_main_bmluse_bi.f90 to messy_main_mpi_bi.f90 completed:
  - modified files:
    - messy_main_mpi_bi.f90:    USE statements added
    - messy_main_bmluse_bi.f90  USE statements removed
    - USE statements changed accordingly in:
      - RAD4ALL (messy_rad4all_solang_e5.f90, messy_rad4all_o3clim_e5.f90,
	messy_rad4all_o3_lwb_e5.f90, messy_rad4all_aero_tanre_e5.f90):
      - HD (messy_hd_e5.f90)
      - ADVECT (messy_advect_e5.f90, messy_advect_diag_e5.f90)
      - NCREGRID (messy_ncregrid_tools_e5.f90)
      - TOOLS (messy_ncregrid_tools_e5.f90)
      - TRANSFORM (messy_main_transform_bi.f90)
    - SCAV (messy_scav_e5.f90): use of dcl replaced
    - CVTRANS (messy_cvtrans_e5.f90): use of dcl replaced

Changes by Holger Tost:
 - SCAV:
     - complete revision of the submodel (both e5 and several core files)
     - bug fix regarding aerosol nucleation scavenging (with ice
       sedimentation)

Changes by Astrid Kerkweg:
- A2O, HAMOCC: get_date_components removed / replaced
- SORBIT: (unused) USE of time_event deleted
- RAD4ALL (messy_rad4all_long.f90, messy_rad4all_short.f90):
  usage of external ECHAM5-routines when compiled with COSMO excluded
  (with preprocessor directive)
- TIMER: new generic MESSy-submodel:
  - new files:
    messy/bmil/messy_main_timer_bi.f90
    messy/smcl/messy_main_timer_event.f90
    messy/smcl/messy_main_timer_manager.f90
    messy/smcl/messy_main_timer.f90
  - modified SUBMODEL files:
    - messy_main_control_e5.f90: calls to main entry points of MESSy-TIMER
    - all echam5/smil/messy_*_e5.f90:
      - preprocessor directive introduced (#define MESSYTIMER) in echam5/smil
      - replace ECHAM5-TIMER by MESSy-TIMER
	NOTES:  1) RAD4ALL is the only MESSy submodel still working ONLY
		   with the ECHAM timer.
		2) messy_main_data_bi.f90
		    uses parts of the ECHAM5-timer, which are not
		   (yet) part of the MESSY timer (dayofyear etc.).
		3) The default is set to use the MESSy-timer in all submodels.
		   If this turns out to be stable, the preprocessor directive
		   and the alternative use of the ECHAM5 timer should be
		   removed (incl. option configure --disable-MESSYTIMER).
  - modified MESSY files:
    - configure.in,
      - support-lib linked also to COSMO (needed for qtimer)
      - new option --disable-MESSYTIMER
  - modified ECHAM5 files:
    - echam5*/Makefile.in (3x): new option MESSYTIMER set by configure
    - stepon.f90 (3x): new CALL messy_timer_reset_time
      (messy_main_timer_bi.f90)
    - mo_grib.f90 (3x): L_E5_STREAM_OUTPUT renamed to generic L_BM_OUTPUT
    - mo_io.f90 (3x): modified for MESSy-TIMER (sync with ECHAM5-timer)
    - mo_time_control.f90 (3x): modified for MESSy-TIMER
      (sync with ECHAM5-timer)
- TOOLS, SWITCH, TRACER, TRACER_FAMILY, TRACER_PDEF, QTIMER,
  CHANNEL, TRANSFORM:
  - finish replaced by error
  - message replcaed by info, warning
- messy_main_mpi_bi.f90:
  - for ECHAM5/MPIOM: added
    - USE mo_decomposition, USE mo_transpose  from messy_main_bmluse.f90
    - USE messy_mpiom_mem_e5 (from mo_parallel.f90)
  - for COSMO: new subroutines / functions
- TRACER:
  - messy/mbm/tracer/messy_main_tools_bi.f90: error function replacement
    added (in addition to finish)
- modifications required for COSMO basemodel:
  - TOOLS, SWITCH, DATA, TRACER, TRACER_FAMILY, TRACER_PDEF, TRACER_MEM,
    QTIMER, CHANNEL, TRANSFORM, MPI:
    - preprocessor directive for code parts used for ECHAM5 (and MIPOM) only
    - extended for COSMO
  - libsrc/dwdlibgrib1/source/Makefile.m: compile on ARCH=LINUX always with
    Lahey/Fujitsu without checks and with -O0
  - new files:
    messy/cosmo/nml/test/*.nml
    messy/cosmo/bmil/messy_main_control_c4.f90
  - CHANNEL
    - messy_main_channel_bi.f90 split into
      messy_main_channel_bi.f90, messy_main_channel_e5.inc
      messy_main_channel_c4.inc
    - some COSMO specific subroutines have been added:
       - messy_create_cosmo_channel and messy_dealloc_meteofields:
	 substituting src_allocation (i.e. the main COSMO memory allocation)
       - set_COSMO_ORI_attributes, set_cosmo_attributes:
	 automatically defining the attributes for COSMO channel elements
       - messy_channel_cosmo_output, make_cosmo_channel:
	 redirects the COSMO output into CHANNELs. This permits the users
	 to still use the GRIBOUT namelists of COSMO for COSMO variables.
       - main_channel_initialize_gatts
       - main_channel_initialize_dims
       - main_channel_initialize_reprs
       - reset_accu_cosmo_elements
    - L_E5_STREAM_OUTPUT renamed to L_BM_ORIG_OUTPUT
      (in case of COSMO this switch is defined within CHANNEL_BI)
    - e5_vector, e5_decompose renamed to bi_vector and bi_decompose
  - QTIMER: implemented for COSMO
- COSMO basemodel:
  - src/src_assimialtion/ src_lmorg
    default definition for luseobs=.FALSE. moved to main section of
    organize_assimilation('input',...)
  - src/src_output: modified for CHANNEL output to allow for calculations
    but inhibit netcdf output
  - src/organize_data:
    CALL of messy_init_memory included; modified for CHANNEL output
  - src/lmorg: MESSy CALLs included
    messy_initialize, messy_init_coupling, messy_global_start,
    messy_physc, messy_global_end ,  messy_free_memory
    messy_mpi_initialize, messy_timer_reset_time
    messy_timer_init_manager, messy_channel_init_restart, messy_write_output
  - src/src_relaxation:   zmys, zmyq
		   (:,:)    => (istartpar:iendpar,jstartpar:jendpar)
  - src/src_output:       initialization of ierror in write_nc_vdefs und
			   write_nc_gdefs
  - src/environment:      initialize meta_addr
  - src/src_conv_tiedtke: initialization of a ot of variables moved into
			  subroutine cu_tied
  - src/lmorg:            messy_initialize included

******************************************************************************

messy_2.2zy (12 Jun 08)

Changes by Rolf Sander:
- CAABA: update, see caaba/CHANGELOG
- messy/util/messy_check_06 repaired

Changes by Hella Riede:
- messy_main_tools.f90:
  new functions/subroutines psatf, ucase, spec2relhum, eval_time_str

Changes by Patrick Joeckel:
- xmessy_echam5: modified for Power6 "vip"

******************************************************************************

messy_2.2zx (04 Jun 08)

Changes by Rolf Sander:
- CAABA: see caaba/CHANGELOG (includes changes in MECCA and KP4)
- JVAL: set default solar timer to constant/170

Changes by Patrick Joeckel:
- SORBIT: improved satellite ground track geometry, latitude dependent
	  local solar time
	  NOTE: change in namelist syntax !
- mo_transpose.f90 (5.3.01, 5.3.02, 5.2.02a not required!),
  subroutine gather_gp32:
  bug fix: there was a wrong limitation to a special case;
  gl_size has rank 4 and gl_size(4) corresponds to the dimension at rank-3
  of gl (called by gather_gp432 ...)
- SEDI: Lagrangian representation (not yet working !!!)
- WARNINGS: updated

Changes by Holger Tost and Patrick Joeckel:
- MECCA: set zidt_h2o_gp,_lg correctly

... up to here it is supposed to be compatible to 1.5f(_a1) ...

Changes by Andreas Baumgaertner and Christoph Bruehl:
- MECCA1: replacement file for updated JPL2006 reaction rates for H2O included
- SPACENOX: now applied also in the NH

Changes by Andreas Baumgaertner
 - SPE: now also reads and applies externally calculated ionization rates
 - MECCA1: renamed scout replacement files
 - config/mh-aix: added jump@Juelich

Changes by Katja Matthes:
 - FUBRAD : bugfix messy_rad4all_fubrad.f90

Changes by Patrick Joeckel (thanks to Anne Kubin):
- messy_main_tools.f90: bug fix in interpolation of tseries
  (subroutine get_tseries_data_ipo)

Changes by Rolf Sander:
- MECCA1: check_conservation.pl(.in) renamed to check_conservation1.pl(.in)
- MECCA: check_conservation2.pl(.in) renamed to check_conservation.pl(.in)

******************************************************************************

messy_2.2zw (09 May 08)

Changes by Patrick Joeckel:
- new mbm "tseries"
- config/mh-linux-64: new entries for host mars
- xmessy_echam5: new entries for host mars
- messy/util/locate_f90.sh.in improved

Changes by Tim Butler:
- MECCA1: check_conservation.pl(.in), new perl script that analyzes
  the mass balance of the chemical reactions in gas.eqn
- MECCA: check_conservation2.pl(.in), new perl script that analyzes
  the mass balance of the chemical reactions in gas.eqn

Changes by Christoph Bruehl and Rolf Sander:
- MECCA1, MECCA (gas.eqn):
  - second pathway added for N2O5 and ClNO3 photolysis (see below)
  - troposphere label "Tr" added to J1000: O2 + hv (use JO2.rpl if you
    don't want this)
  - J4103: CH4 + hv
- JVAL:
  - JPL2006 update for NO3 and NO2
  - second pathway added:
    N2O5 + hv  --> NO2 + NO3
	       --> NO + O + NO3
    ClNO3 + hv --> Cl + NO3
	       --> ClO + NO2
  - new: MACR MVK GLYOX HOCH2CHO (not in MECCA yet)
  - new: Ly-alpha photolysis of CH4
  - Ly-alpha photolysis of CO2 reduced
  - obsolete (and already commented) line "vinit = 1.e-35" deleted

******************************************************************************

messy_2.2zv (27 Mar 08)

Changes by Astrid Kerkweg and Patrick Joeckel:
- TRACER: box model updated
- messy/util/messy_check_* update
- redefinition of BMIL (to be shared between ECHAM5 and COSMO !):
  - all _bi files moved to new subdirectory messy/bmil
  - mv messy_main_channel_e5.f90        messy_main_channel_bi.f90
    mv messy_main_data_e5.f90           messy_main_data_bi.f90
    mv messy_main_echam5_e5.f90         messy_main_bmluse_bi.f90
    mv messy_main_transform_e5.f90      messy_main_transform_bi.f90
    mv messy_main_qtimer_e5.f90         messy_main_qtimer_bi.f90
    mv messy_main_switch_e5.f90         messy_main_switch_bi.f90
    mv messy_main_tools_e5.f90          messy_main_tools_bi.f90
    mv messy_main_tracer_e5.f90         messy_main_tracer_bi.f90
    mv messy_main_tracer_family_e5.f90  messy_main_tracer_family_bi.f90
    mv messy_main_tracer_mem_e5.f90     messy_main_tracer_mem_bi.f90
    mv messy_main_tracer_pdef_e5.f90    messy_main_tracer_pdef_bi.f90
- messy_main_channel_e5.f90, messy_main_data_e5.f90,
  messy_attila_e5.f90, messy_cam_e5.f90,
  messy_trexp_e5.f90, messy_ncregrid_interface_e5.f90:
  - time/date related routines from echam5 replaced by MESSy routines and
    variables
- messy_main_tools_e5.f90, messy_main_tools.f90: time_span_s moved to SMCL and
  modified
- messy_main_echam5_e5.f90: removed unused routines/variables

******************************************************************************

messy_2.2zu (25 Mar 08)

Changes by Rolf Sander:
- CAABA: now compiles on IBM (see CAABA-CHANGELOG)

Changes by Astrid Kerkweg and Patrick Joeckel:
- messy_main_mpi_e5 renamed to messy_main_mpi_bi (BMIL) since now
  shared between basemodels ECHAM5 and COSMO

Changes by Astrid Kerkweg:
- COSMO:
  - bug-fixes due to compiler checks; modified files:
    io_utilities.f90, lmorg.f90, mpe_io.f90, numeric_utilities.f90,
    src_input.f90, src_leapfrog.f90, src_output.f90, src_setup.f90,
    src_soil_multlay.f90
  - namelist directory
  - runscript messy/util/xmessy_cosmo
- ONLEM: sea-salt emission threshold (sea, lake) modified
- messy_main_tools_e5.f90, messy_main_mpi_e5.f90: p_parallel, p_abort
- echam5*/Makefile.in (3x): preprocessor directive ECHAM5
- cosmo/Makefile.in: preprocessor directive COSMO
- TRACER_FAMILY, TRACER_PDEF, PTRAC:
  - preprocessor directives MESSYCHANNELS, BOX, ECHAM5 modified

Changes by Patrick Joeckel:
- SEDI:
  - forcheck analysis and cleanup; majour change: structures must not
    contain ALLOCATABLE arrays; changed to POINTERs
- DRYDEP:
  - forcheck analysis and cleanup; majour change: structures must not
    contain ALLOCATABLE arrays; changed to POINTERs
- messy/util/getomdefs.sh: script to extract MPIOM preprocesor directives for
  forcheck analysis
- echam5/Makefile.in (3x): import MPIOM preprocesor directives for forcheck
  analysis
- CONVECT: changes made for 2.2zr removed (coupling to H2O and humid. conv.)

Changes by Klaus Ketelsen and Patrick Joeckel:
- configure (configure.in): new option --disable-PNCREGRID
  (also: Makefile.in, echam5*/Makefile.in (3x))
- TRACER: parallel NCREGRID for tracer initialisation;
  - changed files: messy_main_tracer_e5.f90 (preprocessor directive PNCREGRID)
- NCREGRID (MPI parallelisation; distribute variables)
  - changed files: messy_ncregrid_control.f90, ncregrid.f90
    (preprocessor directive PNCREGRID)

******************************************************************************

messy_2.2zt (17 Mar 08)

Changes by Sabine Brinkop and Patrick Joeckel:
- ATTILA: complete revision of convection algorithm

Changes by Holger Tost:
- RAD4ALL: bug fix; O3_pre put to restart files for availability in photolysis
	   calculations

Changes by Astrid Kerkweg and Holger Tost:
- SEDI: bugfix in sedi_physc (NUMBERDENSITY)

Changes by Patrick Joeckel:
- xmessy_echam5: new option "-c"
- JVAL: bug fix in solar time control

Changes by Andrea Pozzer:
- MPIOM, HAMMOC:
  - bug-fixes
- A2O:
  - bug fixed in interpolation method
- AIRSEA:
  - bug fix (scaling factor corrected)

Changes by Astrid Kerkweg:
- DRYDEP: completely revised; Lagrangian representation completed
- SEDI: revised for multiple tracer sets;
	preparation for Lagrangian representation

Changes by Holger Tost, Astrid Kerkweg and Patrick Joeckel:
- MECCA_AERO: tracer set name appended to channel object for aerosol properties
- M7: channel renamed to modstr_gp = modstr//'_'//GPTRSTR

Changes by Holger Tost:
- SCAV:
    - ATTENTION: old namelist files are incompatible with these changes
    - elimination of namelist parameters for sigma and radius
      (standardisation as for other processes (Drydep, sedi)
    - dummy tracers are switched of in case of (.not. lscav_gas) or
      lscav_easy
    - coupling output revised
    - namelist changed accordingly
    - bug fix (evaporating ice melting)

******************************************************************************

messy_2.2zs (14 Feb 08)

Changes by Rolf Sander:
- CAABA: see caaba/CHANGELOG

Changes by Patrick Joeckel:
- PTRAC: modifications of the aerosol part
	 for different tracer sets in different representations

Changes by Holger Tost:
- CVTRANS:
  - loop index for transport limited to 2
  - min-statement replaced by max-statement
  - explicit array boundaries in subroutine call
- SCAV:
  - bug fix (evaporating ice melting)
  - bug fix (ice indices)

******************************************************************************

messy_2.2zr (08 Feb 08)

Changes by Holger Tost:
- SCAV: modifications for LG aerosol
- CONVECT: updated "tuning parameters" for ECMWF, ZH, EMANUEL (all T63L87MA)

Changes by Sabine Brinkop, Holger Tost and Patrick Joeckel:
- CONVECT:
  - new parameter for calculation of humidity convergence
  - coupling to H2O (LG)
- H2O: modified for Lagrangian H2O-Tracer and feedback

Changes by Holger Tost and Patrick Joeckel:
- SORBIT, S4D, TIMEPOS, SCOUT:
  - SMIL: global_end renamed to write_output
  - messy_main_control_e5.f90: write_output routines moved to new
    entry point messy_write_output
- messy_main_tracer_e5.f90: tracer_out_conv renamed
  to main_tracer_write_output for naming consistency
- stepon.f90 (3x): new entry point messy_write_output called
  right after stream-output; old direct entry points moved to
  messy_write_output (messy_main_control_e5.f90); tracer_out_conv renamed
  to main_tracer_write_output for naming consistency
- messy_main_control_e5.f90: new entry point messy_write_output called
  from stepon.f90 right after stream-output
- config/mh-linux-64, xmessy_echam5: updates for tornado with intel compiler
- mo_mpi.f90 (3x): new preprocessor directive OPENMPI for alternative
  call to MPI_ATTR_GET (currently required only on tornado)

Changes by Andrea Pozzer:
- MPIOM, HAMMOC: modifications

Changes by Holger Tost, Astrid Kerkweg and Patrick Joeckel:
- config/mh-linux-64: setup for tornado at dkrz with sun compiler

Changes by Astrid Kerkweg and Patrick Joeckel:
- messy/util/sfmakedep.pl.in: new option --modcase for how compiler generates
  module filenames (upper, lower, asis)-case
- config/mh-*, */Makefile.in, configure.in (configure):
  - optional setting EXTMODCASE=upper,lower,asis (see above)
  - optional setting LINKMODE=LIBS to link executable after
    packing objects into libraries
- echam5*/Makefile.in (3x): revised
- MPIOM: modifications for compiler workarounds and bug fixes
  ( messy_mpiom_e5.f90, boden.f90, coriol.f90, mo_ocice.f90, mo_octher.f90,
    mo_omip.f90); new preprocessor directive NOENDIANCONVERT for compilers
    that do not support (...,convert='big_endian')
- config/mh-linux-64: new settings for ZDV Uni Mainz with pathscale compiler
- new basemodel COSMO, new library (dwd)grib1
  - modified files: configure.in (configure), DIRSTRUCT, Makefile.in, zip.sh)
- new mbm int2cosmo (this will become a submodel and requires the (dwd)grib1
  library, therefore it is a mbm instead of a tool)
- CAM, D14CO, TRACER_FAMILY, OFFLEM, ONLEM
  - character pointer nullification revised
- echam5*/Makefile.in (3x): wildcard expression for removal of objects
  replaced by find command

Changes by Holger Tost, Andreas Baumgaertner:
- SCAV:
  - bug fixes for super vectorisation
  - (Note: bug fix for rain liquid water content as in 1.5+ already in 2.2zq)
  - bug fix for special case (as in 1.4f)

Changes by Holger Tost, Andreas Baumgaertner and Patrick Joeckel:
- mo_tpcore.f90 (3x):
  - SUBROUTINE update_ps modified to achieve decomposition independent
    results; add. preprocessor directive FAST_BUT_DECOMPDEP
  - bug fix (k>3) in mass-wind inconsistency fixer

Changes by Patrick Joeckel:
- config/mh-linux-64: entries for mpc01(.opt.rzg.mpg.de)
- messy/echam5/smil/specific.mk: bug fixes for SX6
- xmessy_echam5: LoadLeveler commands revised according to new filter
- CHANNEL: new feature: the precision of variables in output files
  (netcdf and pnetcdf) can be selected via namelist
- ATTILA:
  - time control for 'trajectory mode' revised (use messy_main_tools
    instead of ECHAM5 time manager)
  - random number usage in convection revised
  - random number arrays revised (pointer rank increased from 1 to 2)
    such that rank 1 is always the PE-specific index range
    (NCELL out of NGCELL) and rank 2 is the required number of random
    numbers per process; the old method gave decomposition (NCPUS)
    dependent results

Changes by Sabine Brinkop:
- ATTILA:
  - additional output (vertical positions) of Lagrangian convection
  - bug-fix in convection

******************************************************************************

messy_2.2zq (21 Dec 07)

Changes by Holger Tost:
- xecham: call of xscav updated
- config/mh-linux-64: updates for riologin
- messy_main_data_e5.f90: new channel objects xtecl, xteci
- SCAV update of ice scavenging for gases:
  changes in messy_scav_e5.f90, messy_scav.f90, messy_scav_inter.f90, xscav
  renaming of files and inclusion of new files
- CVTRANS: set negative mixing ratios to zero to calculate transport tendency
- CONVECT: update of stream elements for all convection schemes for the
	   new scavenging
- CLOUD: update for the routines from U. Lohmann for the indirect
	 aerosol effects

******************************************************************************

messy_2.2zp (21 Dec 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.5(_a1)

Changes by Holger Tost, Andreas Baumgaertner and Patrick Joeckel:
- CONVECT (messy_convect_tiedtke.f90): several bug fixes;
  goto-statements (for which the condition was dependent on the
  decomposition/vectorisation (nproma)) have been removed

Changes by Sabine Brinkop:
- ATTILA: convection completely revised

Changes by Patrick Joeckel:
- SCAV, MECCA1: seddecomp*: prepend locate_f90.sh with "./"
- CAABA: update to 2.3e
- JVAL: bug fix for box model ((de)allocate fhuv_3d, fhuvdna_3d)

Changes by Rolf Sander:
- JVAL: dp for time-series data

Changes by Astrid Kerkweg:
- MECCA1, MECCA: bugfix in replace(1).awk
- mo_memory_g3b.f90 (3x): lrerun=.FALSE. for new stream elements
			  (trfll, trflw, trfli, sofll, soflw, sofli)

******************************************************************************

messy_2.2zo (12 Dec 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1l(_a1)

Changes by Andrea Pozzer:
- physc.f90 (2x): bug-fix for array bounds (1:nproma)
- MPIOM:
  - coupling with HAMMOC implemented
- HD: update
  - revised input file handling
- HAMMOC:
  - preliminary version finished

Changes by Patrick Joeckel:
- WARNINGS updated
- KP4/MECCA: kp4.sh; error_output only in scalar mode

Changes by Rolf Sander:
- CAABA: new version 2.3e, see mecca/CHANGELOG
- messy_main_tools.f90: USE STRLEN_LONG from messy_main_constants_mem
  for the entire module (gfortran complained about it)

******************************************************************************

messy_2.2zn (06 Dec 2007)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1l(_a1)

Changes by Astrid Kerkweg:
- MECCA1:
  - bromo-carbons moved to aero.rpl
  - diagtrac.tex, gas.spc, tracdef.tex: new species
- MECCA:
  - bromo-carbons moved to aero.rpl
  - diagtrac.tex, gas.spc, tracdef.tex: new species
  - messy_mecca_e5.f90: kpp_integrate modified for debugging output
  - template_messy_mecca_kpp.f90: updated for debugging output
  - messy_mecca_aero_e5.f90: bug fix in fill-loops
  - messy_mecca_khet_e5.f90: bug fix for strat/trop flagging
  - messy_mecca.f90: rtol, atol modified
- KP4:
  - kpp_integrate modified for debugging output
-SCAV:
  - messy_scav_e5.f90: new aerosol names

******************************************************************************

messy_2.2zm (06 Dec 2007)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1k(_a1)

Changes by Andreas Baumgaertner and Patrick Joeckel:
- RAD4ALL: bug fix; local fields in physc.f90 need to be shared between
    ECHAM5 radiation (isw_rad4all=1) and RAD4ALL (isw_rad4all=2):
  - mo_memory_g3b.f90 (3x): new stream elements for trfll, trflw, trfli, sofll,
    soflw, sofli
  - physc.f90 (3x): use of new stream elements
  - messy_radall_e5.f90: references to new stream elements
- mo_constants.f90 (3x):
  - harmonisation of molar masses with messy_main_constants.f90
  - unused constants removed

Changes by Patrick Joeckel:
- JVAL:
   - bug fix: orbital parameter cdisse must be used to scale the solar
	      data; parameter used in jval_solar_time_control
   - box model updated accordingly (cdisse = 1.0)
- messy_main_control_e5.f90: jval_global_start is now called after
  rad4all_global_start
- messy_main_data_e5.f90:
  - new stream elements srfl_physc and zi0 used for
    the separation of RAD4ALL from the original ECHAM5 radiation
  - new orbit parameters cdisse and cdissem to be shared between RAD4ALL
    and the original ECHAM5 radiation
- RAD4ALL:
  - bug fix: iclw -> icli
  - no more direct connection to original ECHAM5 radiation
    - *_e5 pointers and stream elemnts of geoloc removed
    - zi0_2d and srfl_2d used from messy_main_data_e5.f90 and calculated
      as in the original ECHAM5 radiation
    - cdisse and cdissem now used via messy_main_data_e5.f90
  - use of orbital parameters (cdisse and cdissem) between RAD4ALL
    and RAD4ALL_fubrad harmonised
  - messy_rad4all_orbit_e5.f90: cdisse and cdissem used from
    messy_main_data_e5.f90
- RAD4ALL_FUBRAD:
  - new subroutine rad4all_fubrad_global_start to set orbital parameter
    (cdisse) for FUBRAD and to provide revised total solar irradiance
    (i.e., at 1 AU) from data file to RAD4ALL
  - unused code removed
  - new parameter cdisse_fubrad for internal use (set by
    fubrad_solar_time_control)
- ECHAM5 radiation decoupled from RAD4ALL (#ifdef MESSY ... #endif) (3x):
  - mo_tmp_buffer.f90: srfl converted to pointer
  - physc.f90:
    - srfl is now pointer to srfl_2d from messy_main_data_e5.f90
    - zi0 is now pointer to zi0_2d from messy_main_data_e5.f90
    - cdisse is now used from messy_main_data_e5.f90
    - lrad (from mo_param_switches.f90) used to switch on/off the
      radiation calulations (radiation + zi0,srfl, radheat) in case
      of RAD4ALL is used with isw_rad4all=1/2
    - initialisation of ztrfll etc. moved from radheat.f90 to physc.f90
      in case lrad=.false. (iswrad4all=2)
  - prerad.f90:
    - cdisse, cdissem are now used from messy_main_data_e5.f90
  - radheat.f90:
    - use of lrad removed (now in physc.f90)
    - initialisation of ptrfll etc. moved from radheat.f90 to physc.f90
  - radiation.f90:
    - cdisse is now used from messy_main_data_e5.f90
  - scan1.f90:
    - call of pread only for lrad=.true.

******************************************************************************

messy_2.2zl (03 Dec 2007)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1j(_a1)

Changes by Patrick Joeckel:
- physc.f90: bug-fix (lcouple)
- messy/util/locate.sh.in: de-wrap (mpi-wrapper) F90 compiler
- WARNINGS updated
- tools/kpp1: Makefile.m, Makefile, src/Makefile, Makefile.def.$(SYSTEM),
	      examples/Makefile
- mbm/onlem, mbm/tracer:
  - added $(F90FLAGS) in main.mk
  - added -D_alpha to CFLAGS for OSF1
- JVAL: bug fix in MAX-statement

Changes by Andreas Baumgaertner and Patrick Joeckel:
- RAD4ALL:
  - messy_rad4all_e5.f90, messy_rad4all_orbit_e5.f90: bug fix in time control

Changes by Patrick Joeckel:
- nml/DEFAULT/channel.nml: output of radiation fields in g3b switched off
- DRADON: bug fix in tracer setup
- messy_main_data_e5.f90, mo_midatm.f90 (3x):
  gravity wave drag componentes saved for output
- config/mh-linux.x: hosts lusaka and etosha included

Changes by Christoph Bruehl and Patrick Joeckel:
- JVAL: additional UV-B diagnostic stream element

******************************************************************************

messy_2.2zk (20 Nov 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1g(_a1)

Changes by Patrick Joeckel:
- QBO: write statements in add_mem removed
- MECCA1: bug fix in photolysis rate loop for super-vectorisation
- xecham:
  - hydra removed
  - allow cross compilation for SX6 on ds8

Changes by Patrick Joeckel:
- messy_d14co.f90, messy_main_tracer_family.f90, messy_offlem.f90,
  messy_onlem.f90, messy_cam.f90:
  added compiler directive _alpha (OSF)
  (like __ibm__) for alternative code (string array pointers)
- FUBRAD: modified for usage of external (ASCII) spectral data with
	  high resolution
	  - modified files: messy_rad4all_fubrad_e5.f90,
	    messy_rad4all_fubrad.f90, rad4all.nml
- RAD4ALL (another step towards MESSy conformity):
  - messy_rad4all_e5.f90: pass cdisse, cdissem via parameter list to FUBRAD

Changes by Andreas Baumgaertner:
- messy_d14co.f90, messy_main_tracer_family.f90, messy_offlem.f90,
  messy_onlem.f90, messy_cam.f90 (by Patrick Joeckel):
  added compiler directive __INTEL_COMPILER
  (like __ibm__) for alternative code (string array pointers)

******************************************************************************

messy_2.2zj (13 Nov 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4.1e

Changes by Benedikt Steil:
- ONLEM: limit DMS emission to 35 degC
- intera/mo_grib_handling.f90: GBUF_SIZE_ZSEC4 increased

Changes by Patrick Joeckel:
- TOOLS: I4, I8 removed
- D14CO: I4 removed

Changes by Jens-Olaf Beismann (NEC):
- messy_ncregrid_base.f90: revised alternative code for NEC-SX
- config/mh-nec, all specific.mk (SX): revised
- mo_transpose.f90 (2x): alternative code for better performance on NEC-SX
- mo_tpcore.f90 (2x): alternative code for better performance on NEC-SX
- mo_mpi.f90 (2x): alternative subroutine p_inc_request for _SX
- messy_ncregrid_tools_e5.f90: status checks of (DE)ALLOCATE statements removed
- correct initialisation ( => NULL() ) of several pointers in the following
  submodels: ONLEM, OFFLEM, TRACER_FAMILY, D14CO, SCAV, JVAL, DRYDEP,
	     CAM (added by P. Joeckel)
  NOTE: According to ISO/IEC 1539-1 standard ASSOCIATED(pointer) is undefined,
	if the pointer is neither nullified (NULL()), nor associated
	(ALLOCATE)!

Changes by Andreas Baumgaertner:
- SPACENOX: new submodel
- SPE: submodel revised

Changes by Holger Tost and Rolf Sander:
- MECCA1: new replacement files for OCS, ATF, NHx

Changes by Holger Tost:
- DRYDEP: bug fix for non-aerosol tracers defined by aerosol models
- SCAV: update in vector_exp

Changes by Patrick Joeckel:
- CAABA: status for utc2lt
- QBO: time_control, time series handling modified with use of new
       types/subroutines in tools
- JVAL: time_control, time series handling modified with use of new
	types/subroutines in tools
	- messy/mbm/jval/messy_jval_box.f90:
	  modifications for time series handling
	- messy_jval.f90: modifications for time series handling
- CAABA: time_control, time series handling modified with use of new
	 types/subroutines in tools
	- messy/mbm/caaba/messy_jval_box.f90:
	  modifications for time series handling
	- messy/mbm/caaba/main.mk: $(F90R8) added (JVAL is not with DP)
- TOOLS:
  - SMCL:
    - new type T_TIME_SERIES for the handling of time series data
      - subroutine read_tseries_data: read time series from ASCII file
      - subroutine clean_tseries_data: clean memory of time series structure
      - subroutine get_tseries_data: get current value of time series
    - type T_TIME_CONTROL modified
    - stop statement in utc2lt replaced by status
  - SMIL:
    - subroutine p_bcast_time_control for broadcasting time control data
    - subroutine read_tseries: read time series from ASCII file in parallel
      environment

******************************************************************************

messy_2.2zi (24 Oct 07)

Changes by Andrea Pozzer:
- new submodel HD (hydrological discharge)
- new submodel OTPHYSC (ocean tracer physics)
- MPIOM:
  - new representation for interface: om_column
- mo_memory_g3b.f90 (3x), mo_time_control.f90 (3x), control.f90 (3x),
  stepon.f90 (3x), labrun.f90 (2x, not 5.2.02a since no HD model present),
  phyc.f90 (3x):
  - calls with lhd deactivated if MESSy is used
  - time for ocean and HD deactivated if MESSy is used
- phyc.f90 (only 5.3.02): diagnostic fields from RAD4ALL used for
  diagnostic output, subject to change
- RAD4ALL: 2 pointers PUBLIC for (temporary) use in physc.f90
- messy_main_channel_e5.f90: new dimensions and representations for
  MPIOM grid
- messy_main_data_e5.f90: new channel objects for HD added
- AIRSEA: input units modified (nml/DEFAULT/offlem/airsea.nml updated
  accordingly !!!)
- A2O:
  - a2o transformation equal to o2a transformation
- messy_main_tracer_e5.f90, messy_main_tracer_mem_e5.f90:
  - new tracer set 'om' with MPIOM grid representation and only 1
    instance
  - bug fix for tracer sets with only one instance
- messy_main_tracer_pdef_e5.f90:
  - mass integration expanded for different media (AIR, AEROSOL, OCEAN)

Changes by Patrick Joeckel:
- TRACER: updates for box-model
- DRYDEP:
  - made consistent with 1.4.1 (removed some unused parameters)

Changes by Holger Tost:
- CVTRANS: bug fix

******************************************************************************

messy_2.2zh (14 Sep 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4h

Changes by Andrea Pozzer:
- new submodels MPIOM, HAMMOC:
  - two-way coupling to ECHAM5 via MESSy-interface now
    (technically) fully established;
  - new files: mpiom-1.3.0-beta/src/growth_coupled.f90
- new submodel A2O for atmosphere-to-ocean grid transformation
- ECHAM5 changed files for ocean-coupling (2x):
  Makefile.in, mo_mpi.f90, mo_time_control.f90, control.f90, physc.f90,
  stepon.f90, labrun.f90, vdiff.f90
- MESSy changed files for ocean coupling:
  - messy_main_channel_e5.f90, messy_main_data_e5.f90,
    messy_main_echam5_e5.f90, messy_main_tools_e5.f90, messy_main_tools.f90
  - configure.in, Makefile.in, xmessy_echam5
- CLOUD (messy_cloud_e5.f90, messy_cloud_cover.f90): pass lcouple to
  the SMCL in order to set some parameters correctly
- RAD4ALL (messy_rad4all_e5.f90, messy_rad4all.f90): pass lcouple to
  the SMCL in order to set some parameters correctly
- AIRSEA: bug fix

******************************************************************************

messy_2.2zg (11 Sep 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4g

Changes by Rolf Sander, Astrid Kerkweg and Patrick Joeckel:
- MECCA, KP4: istatus, xnacc, xnrej converted to integer

Changes by Rolf Sander:
- CAABA: version 2.3c with new directory structure, see mecca/CHANGELOG
- KP4:
  - kp4.tcsh, mecca_link.sh, Makefile.in, Makefile.m: changes necessary
    due to new directory structure of caaba/mecca
  - kp4/src/fortran_file.C: PUBLIC statements deleted; ip_* are already
    public
- JVAL:
  - some unused constants deleted
  - bug fixes as suggested by forcheck
- messy_main_tools.f90:
  - new function utc2lt
  - bug fixes as suggested by forcheck

******************************************************************************

messy_2.2zf (07 Sep 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4f

Changes by Andreas Baumgaertner:
- JVAL: bug fix for SF6 photolysis rate
- config/mh-linux.i: updates for GWDG
- xmessy_echam5: updates for LRZ and GWDG

Changes by Patrick Joeckel:
- messy_main_channel_netcdf.f90: OR() replaced by IOR()
- echam5/include/substeps_cl.f90 deleted (3x)

Changes by Holger Tost:
- messy_convect_tiedtke_param.f90: parameters for T42L31DLR setup
- xmessy: bug-fix in case-construct

******************************************************************************

messy_2.2ze (04 Sep 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4e

Changes by Holger Tost:
- CVTRANS: bug fixes for grid point transport
	   improvement for mapped lagrangian transport

Changes by Rolf Sander:
- CAABA: see mecca/CHANGELOG
- config/mh-linux.lf: F90FLAGS with --staticlink moved to
  bromine-specific block
- xmecca, messy_mecca_e5.f90: REQ_JVAL renamed to REQ_PHOTRAT
- messy_mecca_e5.f90, mecca.nml: Renamed "jval" to "photrat" (for
  "photolysis rate coefficients") to emphasize that there is no
  necessary connection to the JVAL submodel:
  jval_channel_gp --> photrat_channel_gp
  jval_gp --> photrat_gp
  jval_lg --> photrat_lg

Changes by Patrick Joeckel:
- xmecca: choice of replacement files, if present in rpl-subdirectory

Changes by Christian Kurz, Andreas Baumgaertner and Patrick Joeckel:
- config/mh-linux.i: case-constructions for RZG, LRZ, GWDG
- xmessy: LSF queuing system at LRZ

Changes by Christian Kurz:
  messy_convect_tiedtke_param.f90: cmfctop = 0.22_dp for T42L41DLR

Changes by Andreas Baumgaertner and Patrick Joeckel:
- xmecca1: choice of replacement files, if present in rpl subdirectory

Changes by Andreas Baumgaertner:
- new submodel VAHR for volcanic aerosol heating rates
- RAD4ALL: volcanic aerosol heating rates removed
- config/mh-linux.i: new settings for GWDG
- messy_main_tracer_mem_e5.f90: bug fix (declaration moved after IMPLICIT NONE)
- RAD4ALL_FUBRAD: bug-fix; no more undefined values of diagnostic fields
  (messy_rad4all_short.f90)
- JVAL: bug fix for SF6 photolysis rate
- xmessy: new queuing system LSF (at GWDG)

******************************************************************************

messy_2.2zd (03 Sep 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4d
      (exception: volcanic heating rates are not implemented in RAD4ALL)

Changes by Patrick Joeckel:
- messy_main_tools_kp4_compress.f90 (kco_finalize): range 1:kpoints added

Changes by Rolf Sander and Patrick Joeckel:
- messy/box renamed to messy/mbm
- CAABA: see mecca/CHANGELOG
- KP4/KPP: bug-fix for rosenbrock_vector (use rosenbrock_mz instead of
  rosenbrock for kpp)
- MECCA1: jname moved from messy_mecca1_e5.f90 to gas.eqn
- MECCA: jname moved from messy_mecca_e5.f90 to gas.eqn
- JVAL:
  - box model updated
  - j_*(:,:,:) replaced by jval_gp(ip_*)%ptr(:,:,:)

Changes by Rolf Sander and Hella Riede:
- MECCA update to version 2.3b:
  - the box model is now called CAABA
  - see mecca/CHANGELOG
- messy_sappho_box.f90: bug fix in FUNCTION UTC2local
- messy_main_constants_mem.f90: new parameter MM_eps

Changes by Rolf Sander:
- messy/tools/kpp-2.1_devel removed
- KP4 (kp4.sh): subroutine k_limited added to list
- messy_main_tools.f90: new function psat(T) for saturation pressure
- MECCA
  - messy_mecca_aero.f90: updates of coefficients
  - correction of molar masses (MEKO2, MEKOOH) in gas.spc, gas.tex
  - update of rate coefficients in gas.eqn and aqueous.eqn
    (backup in gas_2.2zc.eqn and aqueous_2.2zc.eqn)
- MECCA1:
  - correction of molar masses (MEKO2, MEKOOH) in gas.spc, tracdef.tex
- config/mh-linux.lf: new block for host bromine
- box/jval/Makefile: staticlink added as a comment
- box/mecca1/boxmodel/Makefile: staticlink added as a comment

Changes by Patrick Joeckel:
- new boxmodel wildcard for testing the wildcard (match_wild) functionality
  in messy_main_tools.f90

******************************************************************************

messy_2.2zc (24 Aug 07)

NOTE: this distribution is supposed to be equivalent to MESSy-1.4c
      (exception: volcanic heating rates are not implemented in RAD4ALL)

Changes by Rolf Sander and Patrick Joeckel:
- MECCA, MECCA1: update to new new_tracer/set_tracer
  (tracdef.awk, gas.tex, aqueous.tex, tracdef.tex, messy_mecca_e5.f90,
   messy_mecca1_[vec_]e5.f90)

Changes by Rolf Sander, Andreas Baumgaertner and Patrick Joeckel:
- MECCA1, MECCA:
  - extended sulfur chemistry as comments in gas.eqn
  - new sulfur species in gas.spc, tracdef.tex

Changes by Rolf Sander:
- MECCA1: replacement feature
- MECCA/KPP: update to kpp-2.2.1_rs

Changes by Andreas Baumgaertner, Christoph Bruehl and Benedikt Steil:
- JVAL: photolysis rate of SF6
- SPE: updated
- mo_io.f90: bug-fix, status was uninitialised
- MECCA1: ros2-log9.k integrator setup added
- RAD4ALL
  - messy_rad4all_e5.f90: volcanic heating rates
- xmessy: update

Changes by Andreas Baumgaertner and Patrick Joeckel:
- RAD4ALL_FUBRAD:
  - messy_rad4all_fubrad.f90: ascii-data input changed
    (now data format as in jval and qbo)

Changes by Patrick Joeckel:
- MECCA2 removed
- MECCA: script-based de-indexing (decomp) option re-introduced for
	 kpp (without kp4) code generation
- MECCA1, SCAV: minor changes for coordination with E5/M1-1.5pre
- TRACER: meta-information structure completely revised
- KP4: bug fix in generation of rank-2 fill_ routines

******************************************************************************

messy_2.2zb (15 Aug 07)

Changes by Patrick Joeckel:
- TRACER: bug-fix in box-model

Changes by Holger Tost:
- FIRE: new submodel for pyro-emissions
- vdiff.f90: new channel object for latent heat flux
- CVTRANS: - new implementation of the scheme (different tracer sets,
	     only one code for scalar and vector machines)
- CONVECT: - new scheme (Donner) implemented (not working properly yet)
	   - additional channel objects for convective cloud water and
	     precipitation formation
	   - modifications for the entrainment/detrainment rates of the
	     Emanuel scheme for coupling to CVTRANS
- CLOUD:   - additional routines from U. Lohmann for indirect aerosol
	     effects, implemented in parallel (not called, tested,
	     running yet)
- SCAV:    - complete revision of the SMIL
	   - implementation of ice phase uptake for gaseous compounds
	   - aerosol scavenging by ice corrected
	     (running and tested !!!)
	   - aqueous.eqn: 3 equations labeled with Sc
- MECCA1:  - NH3 gas phase chemistry implemented, but commented

******************************************************************************

messy_2.2za (15 Aug 07)

Changes by Patrick Joeckel and Astrid Kerkweg:
- TRACER_FAMILY: special case for replacement (xtm1->xtte) in f2t
  after first process removed

Changes by Patrick Joeckel (thanks to Tim Butler):
- mo_time_control.f90 (3x), stepon.f90 (3x):
  new event trigger for correct update of SST/ICE data in case of transient
  AMIP2 simulations

Changes by Sabine Brinkop and Patrick Joeckel:
- ATTILA and messy_attila_tools_e5:
  - new field SGNCBM1 for consistent ltm1 transformation

Changes by Patrick Joeckel:
- LGVFLUX: bug fix for 'surface' diagnostics without associated fluxes
- LGGP: transfer attribute 'molarmass' between representations
	(e.g., to be used for tracers in LGVFLUX); (thanks to Holger Tost)
- messy_main_data_e5.f90: output decomposition information to channel objects
- ATTILA:
  - convection separated from advection
  - initialisation procedure (for ICELL>NCELL) completely revised

Changes by Rolf Sander:
- MECCA: The boxmodel was made compatible with both KPP and KP4. See
  messy/box/mecca/CHANGELOG for details.
- messy_kpp_compress.f90 renamed to messy_main_tools_kp4_compress.f90
- config/mh-linux.lf: --staticlink added (as a comment) for lf95-6.2d

Changes by Astrid Kerkweg (thanks to Joerg Steinkamp):
- ONLEM (messy_onlem_e5.f90): bug fix for definition of 5 driest months

Changes by Patrick Joeckel (thanks to Rolf Sander):
- KP4:
  - pre-set status=0 for fill_ routines with rank 2,3

******************************************************************************

messy_2.2z (26 Jun 07)

Changes by Patrick Joeckel and Astrid Kerkweg:
- TRACER_FAMILY: concept completely revised and simplified
  (changes also in scan1.f90 (3x), stepon.f90 (3x) and
  messy_main_control_e5.f90)
- MECCA, KP4: printrates feature removed

Changes by Katrin Nissen:
- RAD4ALL_FUBRAD:
    - messy_rad4all_fubrad.f90
    - messy_rad4all_fubrad_e5.f90
  - modified files (!):
    - messy_rad4all_e5.f90
    - messy_rad4all.f90
    - messy_rad4all_short.f90

Changes by Patrick Joeckel:
- MECCA:
  - diagnostic tracers re-implemented
  - box model updated for status information in fill_ routines
- KP4:
  - kppdecomp: in scalar mode JVS now gets dimension LU_NONZERO instead of
    ':', which seems to speed up the code significantly ...
    Note: tests in vector mode with JVS(VL,LU_NONZERO) instead of JVS(:,:)
	  failed (wrong results) !
  - modified to allow different stages of de-indexing (kppdecomp):
     0: no de-indexing
     1: 'normal' de-indexing
     2: 'fast' de-indexing
     3: 'old' de-indexing (code equivalent to MECCA2 with sed-script)

Changes by Anne Kubin:
- mh-aix: added host berni1-en0

Changes by Patrick Joeckel:
- MECCA2_KHET: bug fix in mecca_khet_read_nml_cpl; xsm_cpl was undefined, if
	       asm_cpl was not set to a valid aerosol submodel number
	       (both in CPL_KHET)
- KP4:
  - initialize_kpp_ctrl_template.f90: improved diagnostic output to log-file
  - create_kpp_module.C:
    L_LU_DI and L_LU_DI_FAST created by kp4 for diagnostic output
- MECCA: reset numerically negative overshoots to zero
- LNOX: bug fix in lnox_physc (messy_lnox_e5.f90): index of temp could be 0
- MECCA_KHET: bug fix in mecca_khet_read_nml_cpl; xsm_cpl was undefined, if
	      asm_cpl was not set to a valid aerosol submodel number
	      (both in CPL_KHET)

******************************************************************************

messy_2.2y (22 Mar 07)

******************************************************************************

messy_2.2x (22 May 07)

Changes by Andrea Pozzer:
- new basemodel introduced (MPIOM-HAMOCC)
- configure.in: updated for new basemodels
- new sub-directories for MPIOM
- new run script for MPIOM present (xmessy_mpiom)

******************************************************************************

messy_2.2w (22 May 07)

Changes by Patrick Joeckel and Astrid Kerkweg:
- KP4:
  - IERR output
  - fill_ routines with status instead of call to abort
  - awi renamed to mz
  - kp4.sh script (replacing kp4.ksh)
  - kp4.tcsh modified (more error checks)
  - messy_kpp_compress.f90, rosenbrock_vec.f90, KP4: ierr status output
- MECCA:
  - IERR used in SMIL
  - LG-routines re-activated and corrected according to new interface to kpp
  - SMIL updated and activated: check_range etc.

Changes by Patrick Joeckel:
- boxmodel MECCA (kpp-1 + kp4) added to distribution
- new TOOL kp4 (=kpppp = kpp post-processor) added to distribution
- MECCA renamed to MECCA2
- MECCA1 renaming completed ...
- config/mh-linux, configure(.in): C++ compiler added
- locate_f90.sh.in moved to messy/util; links in MECCA, MECCA1 and SCAV updated
  accordingly; configure(.in), Makefile.in, zip.sh updated accordingly

******************************************************************************

messy_2.2v (15 May 07)

Changes by Patrick Joeckel:
- TROPOP: bug-fix in the (now default) FAST_BUT_UGLY branch
- LNOX: finding of tracers revised

Changes by Benedikt Steil:
- messy/echam5/smil/specific.mk, messy/smcl/specific.mk, config/mh-nec:
  updates for NEC-SX6 compiler
- MECCA:
  - messy/mecca/integr/ros3-autonom.k: new integrator,
     forcing the model to use the autonomous branch in subroutine ROS3
  - messy/mecca/vector/xvector: /ros3-autonom.k added
  - messy_mecca_kpp_ros3_vecc.f90: update to avoid a sum-operation

Changes by Benedikt Steil and Astrid Kerkweg:
- M7:
  - messy_m7.f90: preprocessor directives, in subroutine dgas minimum radius
    changed
  - messy_m7_e5.f90: case-construct for scaling factor moved outside loops

Changes by Benedikt Steil and Holger Tost:
- SCAV:
  - xscav: new option for hyper-vectorisation
  - new subdirectory vector_exp with experimental hyper-vectorisation
  - new intgrator ros3-autonom.k

******************************************************************************

messy_2.2u (02 May 07)

Changes by Patrick Joeckel:
- SPE: tracer coupling moved to (new) subroutine spe_init_coupling
       with new routine get_tracer_list
- TRACER: new subroutine get_tracer_list to get indices and (optionally)
	  subnames of all tracers with the same basename
- PSC: double code (FORALL/WHERE vs. DO/IF) removed
       NOTE: according to R. Hatzky, RZG, there was a F90-standard inconform
	     coding at the position WHERE(lCalcChemArray) ...; the standard
	     requires that all fields within the WHERE-construct need to
	     have the same shape as the logical array in the WHERE statement;
	     this was not the case, since the pointers were not associated
	     in case lCalcChem = .FALSE.; Since IF-statements are not allowed
	     within WHERE constructs, another doubling of the code would have
	     been the fix ...

Changes by Astrid Kerkweg:
- JVAL: H2O photolysis is also required, if no H2O tracer is present
	(specific humidity is then used for chemistry ...)

Changes by Andreas Baumgaertner:
 - new submodel SPE: messy_spe.f90, messy_spe_e5.f90, spe.nml

******************************************************************************

messy_2.2t (27 Apr 07)

Changes by Patrick Joeckel:
- xmessy_echam5: NML_SCENARIO renamed to NML_SETUP
- (3x) mo_tpcore.f90, runctl.inc, inictl.f90, mo_advection.f90, ECHAM5*.nml:
  new namelist (RUNCTL) parameter 'nmwicfi' for the number of mass-wind-
  inconsistency fixer iterations (default: 0 (as in original ECHAM5))

Changes by Klaus Ketelsen:
- mo_tpcore.f90: mass-wind-inconsistency fixer repaired for NPROCB > 1

******************************************************************************

messy_2.2s (12 Apr 07)

Changes by Patrick Joeckel:
- MECCA1, MECCA1_AERO, MECCA, MECCA_AERO, MECCA_KHET, CAM, CLOUD, DRADON,
  DRYDEP, H2O, HETCHEM, M7, O3ORIG, SCAV, SEDI, TNUDGE:
  - the SMIL of these submodels had to be slightly changed (changed USE
    statements), due to the changes in messy_main_tracer_mem_e5.f90:
- PTRAC:
  - ptrac_free_memory removed, since obsolete
    (also in messy_main_control_e5.f90)
  - ptrac.nml: switches for GP and LG tracer sets replaced by tracer set list
- TRACER
  - box model completely revised (it includes now also TRACER_FAMILY and
    TRACER_PDEF)
- messy_main_constants_mem.f90: new PARAMETER FLAGGED_BAD
- SORBIT: use new parameter FLAGGED_BAD
- CHANNEL:
  - messy_main_channel.f90: use new parameter FLAGGED_BAD
  - messy_main_channel_tracer.f90: updates according to memory management
    changes in TRACER
  - channel.nml: prevent output og tracer_*_x*
- TRACER_FAMILY, TRACER_PDEF, PTRAC:
  - first attempt to make the SMIL modules independent of the BML:
    this does currently involve the preprocessor directives BOX, ECHAM5
    and MESSYCHANNELS; with these, the _si files can be automaically
    generated from the _e5 files (by simply replacing all _e5 by _si)
- TRACER
  - messy_main_tracer.f90:
    - tracer set information/memory can now be get by name or id
    - tracer set can now be created in 'disabled' mode
      (no new tracers are accepted (without error !); this is useful, if
      the tracer set representation depends on a specific submodel,
      e.g., the Lagrangian tracer set representation depends on ATTILA, which
      is not always switched ON
    - new subroutine tracer_iniflag to set the initialisation flag of tracers
    - type t_trinfo_tp now located here
      (previously: messy_main_tracer_mem_e5.f90)
    - numbered (jt) meta-information is now part of structure
    - tracer setup can now create arbitrary number of (time-) instances;
      for PDEF and FAMILY there is an additional switch (l_tfstd),
      if instance 2 and 3 have the meaning of 'tendency' and 't-1',
      respectively;
      instance 1 is always present, instances >1 (l_tfstd=.FALSE.) or
      >3 (l_tfstd=.TRUE.) are treated as 'extended' memory
    - get_tracer_set has new parameters (numbered meta-information, etc.)
  - messy_main_tracer_e5.f90, tracer.nml:
    - l_force_pd renamed to l_pdef
    - l_diag_mass and corresponding subroutines removed, since they are
      redundant to sub-submodel TRACER_PDEF
  - messy_main_tracer_mem_e5.f90: COMPLETELY REVISED
    - removed all USEd variables etc. which are NOT used by the basemodel
      (some submodel SMILs had to be adapted, see above)
    - type t_trinfo_tp USEd from messy_main_tracer.f90
    - tracer sets renamed from 'gptrstr' and 'lgtrstr' to 'gp' and 'lg',
      respectively
- TRACER_FAMILY:
  - internal structure completely revised:
    - loops over all tracer sets
    - most calculations now in SMCL
    - namelist CPL_FAMILY is now CTRL_FAMILY
  - changed files:
      tracer.nml, messy_main_tracer_family_e5.f90, messy_main_tracer_family.f90
- TRACER_PDEF:
  - internal structure completely revised:
    - all tracer sets handled consistently
    - no more output for empty tracer sets
    - most calculations now in SMCL
    - namelist split into CPL_PDEF (timer) and CTRL_PDEF
    - optional output to the log-file
  - changed files:
      tracer.nml, messy_main_tracer_pdef_e5.f90, messy_main_tracer_pdef.f90

******************************************************************************

messy_2.2r (03 Apr 07)

Changes by Holger Tost:
- LNOX: bug-fix (undefined xupdr)

Changes by Patrick Joeckel:
- NCREGRID: bug-fix in messy_main_ncregrid_base.f90 (thanks to Holger Tost);
  the recursive sort-routines had been destroyed by previous changes
- Optimizations according to J. O. Beismann:
  - messy_main_tools.f90: iso2ind and ind2val overlayed for 1d (original) and
    2d (vector)
  - messy_tropop.f90: calc_PV and pblindex overlayed for 1d (orignal) and
    2d (vector)
  - messy_tropop_e5.f90: new preprocessor directive
    (#define FAST_BUT_UGLY) for usage of alternative vector-routines,
    which are not MESSy-standard conform, since they are NOT coded for the
    smallest possible entity (i.e. a column), and compilers are too stupid
    to inline/recognize this automatically

******************************************************************************

messy_2.2q (23 Feb 07)

Changes by Joerg Steinkamp (+ Astrid Kerkweg):
- ONLEM_ messy_onlem.f90: change calculations for tropical fraction (bug fix)

Changes by Holger Tost:
- CLOUD:
  - new cloud droplet parameterisation (ARG)
  - new boxmodel CLOUD (for ARG)
- SCAV:
  - code transmogrified (by B. Steil) and repaired (by H. Tost)
    for improved performance on NEC-SX6
  - repaired scav_cvdep
  - messy/smcl/specific.mk: inlining rules for NEC-SX6
  - messy/echam5/smil/specific.mk: inlining rules for NEC-SX6
- CONVECT: new scheme (Emanuel) implemented

Changes by Astrid Kerkweg and Patrick Joeckel:
- SEDI: fixing SEDI boxmodel after Benedikts changes
- MSBM: changes according to changes in PSC

Changes by Patrick Joeckel:
- MECCA:
   - automatic insertion of preprocessor directives and 'external'
     declarations for usage of optimised blas routines in
     messy_mecca_kpp_Integrator.f90 deactivated (xmecca)

Changes by Benedikt Steil:
- SEDI: code transmogrified for improved performance on NEC-SX6
  modified files: specific.mk, messy_sedi.f90, messy_sedi_e5.f90
- PSC: code transmogrified for improved performance on NEC-SX6
  modified files: specific.mk, messy_psc.f90, messy_psc_e5.f90

Changes by Patrick Joeckel:
- Optimizations according to J.O. Beismann:
  - messy_main_tracer_family_e5.f90: loop sequence changed
  - NCREGRID:
     - function QTYPE_NARRAY eliminated and replaced by
       additional type information in narray-structure
- Optimizations according to Klaus Ketelsen:
  - RAD4ALL:
    - messy_rad4all_long_e5.f90, messy_rad4all_long.f90,
      messy_rad4all_long_mem.f90
      modified: quick-and-dirty workaround for a bug in the NEC-SX6 compiler
  - messy/smil/specific.mk: special inlining rule for messy_convect_e5.f90 /
    messy_convect.f90
  - messy_convect_e5.f90:
    - additional pointer zpqtec
    - call to tiedtke_cumastr* changed for vectorisation with
      compiler problem workaround for rs6000
  - mh-config: alternative netCDF library (only as comment)
  - mo_netcdf.f90 (3x): increased initialsize and chunksize to 1MB
  - messy_main_channel_netcdf.f90: increased initialsize and chunksize to 1MB
  - config/mh-aix: -lmass added to SPEC_LIB
- MECCA_KHET:
  - coupling to STRAT_region (of strat_channel) and flagging of tropospheric
    khet's (otherwise reactions twice ...)

******************************************************************************

messy_2.2p (18 Feb 07)

Changes by Patrick Joeckel:
- CHANNEL: new switch L_FLUSH_IOBUFFER (default = .TRUE.); to increase
  performance it might be better to switch it to .FALSE.
  modified files: channel.nml, messy_main_channel.f90,
		  messy_main_channel_e5.f90,
		  messy_main_channel_netcdf.f90, messy_main_channel_pnetcdf.f90

Changes by Patrick Joeckel and Holger Tost:
- MECCA:
  - gas.eqn, gas.tex, gas.spc: NO3m_cs and Hp_cs added and equations
    commented for compatibility with MECCA1 (EVAL setup)

Changes by Patrick Joeckel:
- MSBM:
  - applied all changes to make MSBM equivalent to PSC+HETCHEM(strat)
  - Tropop_Channel, Tropop_Index from namelist

Changes by Andrea Pozzer:
- DRYDEP : LG code cleaned
- AIRSEA : LG code cleaned

Changes by Patrick Joeckel and Rolf Sander:
- MSBM: added comments to be changed to complete MSBM as PSC+HETCHEM(strat)

Changes by Holger Tost:
- CONVECT (messy_convect_e5.f90): potential memory leak fixed

Changes by Patrick Joeckel:
- benchmarking setup included: nml/BENCH, xmessy_echam5.bench
- SCAV (xscav): 'sed' replaced by 'cat >>'
- H2O: bug fixes for LG representation
- EVAL2 setup

******************************************************************************

messy_2.2o (01 Feb 07)

Changes by Patrick Joeckel:
- MSBM: new subroutine msbm_init_coupling terminates simulation, if PSC
	is also active
- CLOUD (messy_cloud_e5.f90): check first for PSC and then for MSBM
- SORBIT: new submodel for sampling along (local time) satellite orbits
- messy_main_channel_tracer (set_channel_or_tracer): bug fix
- JVAL, PHOTO: bug fix in jval_init_coupling for coupling to O3 tracer
	       (thanks to Jianzhong Ma and Rolf Sander)
- MECCA:
   - diagnostic output of 'number of substeps' added (messy_mecca_e5.f90)
   - lcheck_range switch added (mecca.nml (CPL), messy_mecca_e5.f90)
   - automatic insertion of preprocessor directives and 'external'
     declarations for usage of optimised blas routines in
     messy_mecca_kpp_Integrator.f90:
     - changed files: xmecca
     - new files    : use_blas.awk

Changes by Holger Tost and Patrick Joeckel:
- MECCA (seddecomp_ros-auto): automatically comment calls to Update_RCONST
	in messy_mecca_kpp_Integrator.f90 to improve performance
	considerably

Changes by Astrid Kerkweg:
- M7: SO4 coupling to MECCA1_AERO revised
- MECCA1_AERO: H+ deposition/emission
- MECCA1: Br explosion limiter
- nml/aero_eval: update of setup
- echam5.3.02/specific.mk, messy/echam5/smil/specific.mk,
  messy/smcl/specific.mk: optional 'workarounds' for '-qcheck -g' option on
  IBM p4/p5

Changes by Holger Tost:
- KPP:
  - modified solvers (ros3_mz and rodas3_mz)
- MECCA:
  - modified solvers (ros3_mz and rodas3_mz)
- LNOX:
  - two more parameterisations included
  - fractional land/sea mask used
  - optional diagnostic output of all parameterisation in one simulation
    (only one can be coupled to tracers, however)
  - coupling to convection schemes revised
- CONVECT (messy_convect_e5.f90): memory leak fixed
- mo_time_event.f90 (3x): workaround for intel-compiler issue on opteron
  (LINUX64); trailing spaces to string parameters added
- SCAV:
  - coupling to aerosol submodels revised
  - fix for evaporation in LG representation
- xmessy_echam5: update for rio (opteron cluster)
- mh-linux64: optional error checks (intel compiler)
- messy_convect_e5.f90: workaround for IBM-p4/p5 compiler (runtime error)

Changes by Patrick Joeckel:
- LGGP: lggp_init_coupling modified to be called twice
- ONLEM: bug fix in representation decomposition information
  (thanks to Astrid Kerkweg)
- ATTILA: bug fix for restart from previous simulation without ATTILA
  (attila_initialize_positions in messy_attila_e5.f90)

Changes by Astrid Kerkweg and Patrick Joeckel:
- CHANNEL: bug-fix to enable skipping the import from
  non-existent restart-files, if all opjects are set to be ignored in the
  namelist; modified files:
    messy_main_channel_io.f90, messy_main_channel_netcdf.f90,
    messy_main_channel_pnetcdf.f90

******************************************************************************

messy_2.2n (08 Dec 06)

Changes by Andrea Pozzer:
- DRYDEP:
  - new tendency calculation (option 4)
  - GP flux diagnostic for LG drydep (so far only for option 4)

Changes by Holger Tost:
- SCAV:
 - messy_scav_e5.f90:
    lagrangian scavenging in scav_global_end reformulated
      including required transformation routines
    bug fix for rain production rate
 - messy_scav.f90:
    easy scavenging completed (fixed coefficients, absolute and
      effective Henry's law, selectable by namelist switch)
 - scav.nml:
    new switch i_scav_easy for easy scavenging type
    actual cloud cover now used, and no longer precipitation cover for
    nucleation scavenging
- CONVECT:
 - messy_convect_e5.f90:
    bug fix for TOPMAX (ECHAM5)
    new output: cth = convective cloud top height (m)
- CVTRANS:
 - messy_cvtrans_e5.f90:
    negative values are no longer transported (set to zero only for this
      process)

Changes by Patrick Joeckel:
- LGTMIX: bug fix (wrong sign in tendency corrected)
- TREXP:
  - LG representation implemented
  - nml/trexp updated
- xmessy_echam5: "cp -fr $NMLDIR/* nml/." changed to "cp -frL $NMLDIR/* nml/."

******************************************************************************

messy_2.2m (05 Dec 06)

Changes by Patrick Joeckel, Andrea Pozzer and Holger Tost:
- messy_attila_tools_e5.f90: new transformation routine gpte2lgte_e5
  for the transformation of pseudo-Lagrangian tendencies calculated by
  processes in grid-point representation

Changes by Astrid Kerkweg:
- messy_drydep.f90, messy_drydep_e5.f90:
   -  bugfix for H2SO4
   -  do not generate ddepfluxsum for l_diagflux = F and l_fluxout = T

Changes by Patrick Joeckel:
- messy_main_tracer_e5.f90: xt_lggp(:,:,:,:) = 0.0_DP deactivated
- xmessy_echam5: "cp -fr $NMLDIR/* nml/." changed to "cp -f $NMLDIR/* nml/."
- D14CO: LG to GP transformations removed
- TNUDGE: Lagrangian representation added (namelist entries changed !!!)
- TRACER_PDEF: implementation for LG representation
- PTRAC:
  - process switches shared for LG and GP (namelist switches changed !!!)
- CHANNEL:
  - messy_main_channel_e5.f90: expanded decomposition information; now
    PIOTYPE_COL (collective mode) can be used for all present representations
  - messy_main_channel_repr.f90: non-GENERIC routine for faster reshaping
  - added PIOTYPE=PIOTYPE_COL in ATTILA, PTRAC, CAM, CVTRANS, DRYDEP
	    ONLEM, M7, SCOUT (all untested !!!)
  - PIOTYPE (SinGLe, INDependent, COLlective) added to representation
    decomposition information
    modified files: messy_main_channel_e5.f90,
		    messy_main_channel_repr.f90,
		    messy_main_channel_pnetcdf.f90

Changes by Holger Tost and Patrick Joeckel:
- mecca/decomp/seddecomp-ros*: bug fixes for dimension of fields

******************************************************************************

messy_2.2l (23 Nov 06):

Changes by Holger Tost:
- SCAV:
  - lagrangian scavenging in scav_global_end implemented
    including required transformation routines
  - renaming of scav_physc to scav_ls, scav_convec to scav_cv
  - new interface routines: scav_physc and scav_convec

Changes by Rolf Sander:
- JVAL: bug fix in boxmodel

Changes by Patrick Joeckel:
- efchk (for gmake check): update (path to pnetcdf-include file)
- messy_main_tracer_e5.f90:
  - update call of lg2gp_e5
- messy_attila_tools_e5.f90:
  - new SUBROUTINES gp2lg_xyzn_e5, lg2gp_xyzn_e5
- messy_attila_tools.f90:
  - new SUBROUTINES gp2lg_xzny, lg2gp_xzny (not as generic !)
  - alternative 'generic' and 'fast' transformtion routines
- CHANNEL, parallel-netCDF: revised preprocessor directives
- TIMEPOS: bug fix for time interval
- ONLEM: bug-fix in global_end_lg
- OFFLEM, ONLEM: moved vdiff_lg to global_end_lg
		 modified files: messy_offlem_e5.f90, messy_main_control_e5.f90
- mh-linux: update PNETCDFROOT

******************************************************************************

messy_2.2k (13 Nov 06):

Changes by Holger Tost:
- SCAV:
  - fix for solver time stepping control / skipping KPP box
- CLOUD:
  - interactive coupling of CDNC parameterisations
    activating cloud cpl namelist

Changes by Patrick Joeckel:
- CHANNEL: parallel-netCDF output
	   NOTE: There is a potential to increase the performance by
		 - using (per object) the PE for DC_BC - type objects
		   (S4D, SCOUT, ...);
		 - using collective calls for representations where
		   the number of segments is the same on all PEs
		   (GP_*).
   PART 11: mh-aix, mh-nec
   PART 10: set_representation_decomp in ATTILA, PTRAC, CAM, CVTRANS, DRYDEP
	    ONLEM, M7, S4D, SCOUT (all untested !!!)
   PART  9: implement parallel-netCDF output in
	    messy_main_channel_pnetcdf.f90
   PART  8: MPI information required for parallel I/O passed via
	    messy_main_mpi_e5.f90, messy_main_channel_e5.f90
	    and messy_main_channel_io.f90 to new module
	    messy_main_channel_pnetcdf.f90
   PART  7: detection of parallel-netCDF library during configure
	    modified files: configure.in (configure), Makefile.in, mh-linux,
	    messy/smcl/Makefile.m, echam5.3.02/Makefile.in
   PART  6: subroutine repr_reorder modified for non-parallel and parallel I/O
	    modified files: messy_main_channel_io.f90,
			    messy_main_channel_repr.f90
   PART  5: decomposition tables added;
	    modified files: messy_main_channel_e5.f90
   PART  4: new subroutine set_representation_decomp
	    new subroutine write_representation_dc
	    new TYPE t_repr_pdecomp
	    for handling of parallel decomposition information;
	    modified files: messy_main_channel_e5.f90,
			    messy_main_channel_repr.f90
   PART  3: new subroutine e5_vector for reshaping DC_GP (gridpoint) -type
	    fields;
	    modified files: messy_main_channel_e5.f90
   PART  2: data reshaping moved from messy_main_channel_netcdf.f90
	    to messy_main_channel_io.f90;
	    modified files: messy_main_channel_io.f90,
			    messy_main_channel_netcdf.f90
   PART  1: decision about dedicated I/O-PE or parallel output is now
	    in messy_main_channel_io.f90;
	    modified files: messy_main_channel_io.f90,
			    messy_main_channel_e5.f90

******************************************************************************

messy_2.2j (31 Oct 06):

Changes by Holger Tost:
- SCAV:
  - complete revision of the code
  - vectorisation of the code
  - solver ROS3 can used in vectorised form
  - box model revised
  - bugfix concerning solubility of aerosol tracers
  - correct use of cloud and precipitation cover (Thanks to Axel Lauer)
  - correct use of large-scale precipitation and snow formation rate
    (Thanks to Axel Lauer)
- CLOUD:
  - correction of large-scale precipitation and snow formation rate
    stream element description
  - addition of simple CDNC parameterisations using aerosol properties
    (diagnostic), no interactive coupling control yet
- CONVECT:
  - Changes caused by modified scavenging code

Changes by Astrid Kerkweg:
- MECCA1_AERO: (messy_mecca1_aero_e5.f90) bugfix for lwc calculation
- MECCA_AERO:  (messy_mecca_aero_e5.f90)  bugfix for lwc calculation
- M7:          (messy_m7_e5.f90)          bugfix for sulphate coupling

Changes by Andrea Pozzer:
- BIOGEN: update, 6 levels
- DRYDEP:
  - corrections for Lagrangian dry deposition (3 methods)
  - moved drydep_local_end (Lagrange) to drydep_global_end
- MECCA: moved mecca_physc (Lagrange) to mecca_global_end
- AIRSEA: moved airsea_vdiff (Lagrange) to airsea_global_end

Changes by Patrick Joeckel:
- ONLEM (nml/DEFAULT/onlem/NOemisclass2.nml): use noemclass1 from
  NOemisclass2.nc
- ATTILA: bug fix in attila_global_end
- messy/smcl/specific.mk: bug fix in ftrace-option (NEC-SX6)

******************************************************************************

messy_2.2i (16 Oct 06)

Changes by Holger Tost:
- MSBM: nwetdep=OFF, ndrydep=OFF, nscav=OFF for HNO3_nat
- PSC: nwetdep=OFF, ndrydep=OFF, nscav=OFF for HNO3_nat

Changes by Astrid Kerkweg:
- MECCA, MECCA1: submodel MBL renamed to AERO
- DRYDEP: new box model
- SEDI: new box model

Changes by Christian Kurz:
- messy_cloud_ori.f90: cauloc = 3.0_dp for T42, nlev > 31, lmidatm=.FALSE.

Changes by Patrick Joeckel:
- CHANNEL: bug fixes for I/O reorder (size/shape of fields)
- config/mh-linux-64: update for ds8 (tools can now be compiled on cross !)
- MECCA1: check of CTRL-namelist moved from xmecca1 to xbox
- JVAL (messy_jval.f90):
  - pointer assignment now f90 standard conform in assign_j_xyz_3d
  - lg transformations moved from physc to global_end
- LNOX:
  - converted to DP
  - lg calculations moved from physc to global_end
- D14CO:
  - tracers renamed
  - d14co_physc_lg converted to d14co_global_end_lg
- DRADON: dradon_vdiff_lg converted to dradon_global_end_lg
- PTRAC: mapping LG->GP removed, since the same feature is available in TRACER
- ATTILA: attila_vdiff converted to attila_global_end

Changes by Andrea Pozzer:
- new MESSy-TOOL 'biogen' for creating netCDF files with biogenic emissions

Changes by Patrick Joeckel:
- Including the radiation code from FUB as implemented by Katrin Nissen and
  Klaus Ketelsen into messy_1.1 ...
  - modified files: messy_rad4all_e5.f90, rad4all.nml, messy_rad4all_long.f90,
    messy_rad4all_short.f90,
  - new files: messy_rad4all_fubrad_e5.f90, messy_rad4all_fubrad.f90

******************************************************************************

messy_2.2h (02 Oct 06)

Changes by Patrick Joeckel and Andrea Pozzer:
- H2O: modified for Lagrangian representation
    NOTES: For consistency the feedback H2O -> q has been moved from
	   local_end to global_end, since in the Lagrangian case, this
	   feedback has to be applied after the local loop is completed.
	   Since with this change the following order
	     H2O feedback (local_end) -> TRACER_PDEF correction (local_end)
	   changed into
	     TRACER_PDEF correction (local_end) -> H2O feedback (global_end)
	   binary identical results compared to previous versions cannot
	   be expected, since now the H2O tracer is first corrected for
	   negatives (by TRACER_PDEF) before it is feed back into q of the
	   basemodel. This increases consistency.

Changes by Patrick Joeckel and Astrid Kerkweg:
- messy_main_channel_io.f90, messy_main_channel_netcdf.f90:
  bug fix: suppress error 4001 (I/O Error file ID) in case
  restart-file is not present and ALL lrestreq fields are ignored via
  channel-namelist

Changes by Patrick Joeckel:
- CHANNEL (messy_main_channel_repr.f90, messy_main_channel_netcdf.f90):
  output reshaping completely revised (and hopefully speed up)
- scan1.f90 (3x):
  - local (jrow) loop closed before timefilter (si1 ...)
  - messy_global_end moved after first local loop
  - timefilter (si1 ...) called after messy_global_end

Changes by Rolf Sander and Hella Riede:
- MECCA update (2.2d); see MECCA-CHANGELOG
- xmessy_echam5: cp -fr instead of -fR for namelist copy

Changes by Hella Riede:
- messy_main_tools.f90: gregor2julian, julian2gregor

******************************************************************************

messy_2.2g (11 Sep 06)

Changes by Patrick Joeckel:
- MECCA1 (messy_mecca1_e5.f90): bug-fix (KPP-skip count) for non-auto solvers
- JVAL: solar cycle data input skipped for 'constant'

Changes by Astrid Kerkweg:
- MECCA1_MBL (messy_mecca1_mbl_e5.f90): update

Changes by Astrid Kerkweg und Patrick Joeckel:
- MECCA1 (xbox): mecca replaced by mecca1

******************************************************************************

messy_2.2f (31 Aug 06)

Changes by Astrid Kerkweg und Patrick Joeckel:
- nml/QFY: setup updated
- SCAV (messy_scav.f90): info used from g_mem
- MECCA1: INFO used from g_mem; no more parameter of integrate
- KPP1:
  - local INFO(5) removed in rodas3.f90, ros3.f90, ros2-auto.f90, twostepj.f90
  - INFO(5) always declared in GDATA (g_mem)

******************************************************************************

messy_2.2e (30 Aug 06)

Changes by Astrid Kerkweg und Patrick Joeckel:
- messy_main_channel_repr.f90: calculate i/o indices in new_representation
  instead of repr_reorder (for performance reasons)
- vdiff.f90 (3x): rinum_3d/zri and fws/zsoil as copy instead of pointer
  (for performance reasons)
- DRYDEP: bug fix for particle number deposition flux
- messy_main_channel_e5.f90: bug fix for changed timestep length after restart
- SCAV:
  - messy_scav_inter.f90: bug fix for aerosol scavenging
  - messy_scav_e5.f90, messy_scav.f90, messy_scav_mem.f90:
    optional zero tendency after reaching maximum
    number of rejected KPP substeps (including diagnostic output)
- KPP1 (ros3.f90):
  - stop integration if maximum number of rejected iterations is reached
  - optional output of info
- MECCA1:
  - messy_mecca1_mbl_e5.f90: net flux calculation completely revised
  - messy_mecca1_e5.f90, messy_mecca1.f90:
    optional zero tendency after reaching maximum
    number of rejected KPP substeps (including diagnostic output)
  - tracdef.tex: diagnostic tracers not transported
- vdiff.f90 (echam5.3.02): improved diagnostic output after lookup-errors
- xmessy_echam5*:
  - all updated
  - automatic link to rerun_*_echam and rerun_*_nudg
    if experiment name changes

Changes by Patrick Joeckel:
- configure.in, configure, config/mh-nec: using mpi-wrapper scripts for
  cross-compilation
- TIMEPOS (bug fix in timepos_global_end): read always new data on event
- JVAL (messy_jval.f90): !OPTION! -O nomove for NEC-SX6
- xmessy_echam5*: -print added to (AMIPII) find commands

******************************************************************************

messy_2.2d (02 Aug 06)

Changes by Astrid Kerkweg und Patrick Joeckel:
- mo_transpose.f90 (2x, NOT in 5.2.02a): bug fix of very subtle misconception:
  The SAVE-construction to omit the p_bcast, in case
  consecutive fields are in the same representation does not work!
  Reason: The dimensions of local fields are not one-to-one related to the
	  dimensions of the global fields, or in other words, two different
	  (global) representations can yield the same local field dimensions.
	  Example:
	    GP_3D_1LEV / rank-3 stream (GAUSSIAN) element with klev=1 and
	    GP_2D_HORIZONTAL  rank-2 stream (GAUSSIAN) element
	    result in the same local field dimensions, if
		   (NLON * NLAT) / (NCPUS * NPROMA) == 1
	  If the output sequence contains one of each field following one
	  another, a boundary violation in the gather-routines occurs.

******************************************************************************

messy_2.2c (31 Jul 06)

Changes by Astrid Kerkweg und Patrick Joeckel:
- echam5.2.02a/blas, echam5.2.02a/lapack
  echam5.3.01/blas, echam5.3.01/lapack
  deleted and replaced by links to
  echam5.3.02/blas, echam5.3.02/lapack, respectively
- ARCHITECTURE in WARNINGS
- echam5.3.02/specific.mk, echam5.3.01/specific.mk, echam5.2.02a/specific.mk:
  special rules for AIX without
  '-qtune=pwr4 -qhot' for dyn.f90, mo_ssortns.f90, lti.f90
- messy/echam5/smil/specific.mk: special rules for AIX without
  '-qhot' for messy_scav_e5,f90
- messy_main_channel_repr.f90: bug fix for severe bug in re-ordering
  (netcdf to memory) after restart; known to have affected SP_3D_MID
- messy_main_channel_netcdf.f90: DEALLOCATE and NULLIFY pointer after usage
- messy_cam.f90,
  messy_d14co.f90,
  messy_offlem.f90,
  messy_onlem.f90:
    bug fixes (check array size after strcrack)
- messy_attila_e5.f90: bug fix (increased random number array for
  position initialisation)
- mo_nudging.f90: bug fix in bug-fix for NPROCB > 1
- mh-aix: F90FLAGS for debugging

******************************************************************************

messy_2.2b (26 Jul 06)

Changes by Holger Tost and Astrid Kerkweg:
- MECCA: bug fix for zidt_H2O; divide for LG and GP

Changes by Holger Tost:
- SCAV: bug fix in channel object definition (2x mem=mem)

Changes by Patrick Joeckel:
- nml/mbl_eval/offlem.nml: trigger for CH3Cl corrected
- messy_ncregrid_netcdf.f90: bug-fix (uninitialised variable)
- mo_column.f90 (3x): bug fix, initialise ncol = 0
- all tracer.nml: additional switch (for TYPE-2 families)
- messy/e5/messy_scav_e5.f90: allocate arrays with (0:ntrac)
- messy/e5/messy_offlem_e5.f90: two more cycle conditions
- messy/e5/messy_hetchem_e5.f90: diag converted from ALLOCATABLE to POINTER
- messy/smcl/specific.mk and messy/box/ncregrid/specific.mk:
  messy_ncregrid_netcdf with -Cvsafe on NEC-SX6
- messy_ncregrid_tools_e5.f90: simpler handling of lok with less p_bcasts
- H2O: initialize water vapour with 1.e-40_dp or higher

******************************************************************************

messy_2.2 (30 Jun 06)

Changes by Andrea Pozzer:
- AIRSEA update:
  - new feature l_turb
  - AIRSEA box model
  - initialisation of variables completed

Changes by Patrick Joeckel:
- update of QFY setup

Changes by Astrid Kerkweg:
- update of mbl_eval setup
- mo_time_control.f90:
  - errorneous feature (force restart files during last time step) removed
- messy_main_channel_netcdf.f90:
  - output of dimension variables into restart files now in NF90_DOUBLE
- MECCA1:
  - CH3Cl diagnosis added (tracdef.tex, gas.spc, diagtrac.tex)
  - messy_mecca_mbl_e5.f90: reset every time step pH and LWC to default
- JVAL: (bug fix) missing broadcast for rconst_sol added

******************************************************************************

messy_2.1u (02 Jun 06)

Changes by Holger Tost:
- SCAV:
  - bug-fixes for aerosol scavenging
  - implementation of MADE, EQSAM, GM7 prepared

Changes by Patrick Joeckel:
- echam5-link set to echam5.3.02
- JVAL, QBO: bug-fix for option 'cyclic'
- messy_ncregrid_tools_e5.f90: new subroutine RGTEVENT_INIT_ONL for the
  initialisation of 'in-code' ('online') rgt-events

Changes by Astrid Kerkweg and Rolf Sander:
- MECCA1 +  MECCA:
  - replace MERGE by MAX

Changes by Astrid Kerkweg and Patrick Joeckel:
- mo_time_control.f90 (3x): force output of rerun/restart files at last
    time step
- JVAL:
  - bug fix for solar cycle dependence
  - include constant option for solar cycle
  - bugfix: set J_XXX_3d to zero for bromocarbons
- TNUDGE: set  XNUDGE(i)%flux(:,:, jrow) = 0._dp
- S4D: for representations: S4d => S4D
- AIRSEA: messy_airsea_e5: bugfixes
	- molweight definition now in init coupling
	- 2nd index input_salt changed: nlev => jrow
	- do not multiply channel objects  rain_c/rain_l by 3600
- CHANNEL: allow for wildcards in CHANNEL_TIMER
- messy_main_tools_e5: locate_in_decomp_4, locate_in_decomp_nrst
  - valid longitude interval changed from -180:180 to -180:360
- SCOUT: longitude interval check:  from -180:180 to -180:360
	 correction removed
-TIMEPOS:
  - set_hweight: valid longitude interval changed from -180:180 to -180:360

Changes by Astrid Kerkweg:
- RAD4ALL: lrestreq added for amu0m_x and rdaylm_x
- CONVECT: set variables del_liqwat and cv_cldwater to ZERO at beginning
	   of each timestep
- MECCA:
  - comment added
  - lresume deleted
- CAM: messy_cam.f90: bug-fix for alpha (1.e-42 not possible)
- M7:
  - m7_init_memory: set lrestreq for 3D not for 4D objects
  - m7_initialize:    output corrected for MECCA1
  - m7_init_coupling: output added for OC/BC, dust and SO2 emissions
  - m7_new tracer:    N_ks nsedi= ON
- MECCA1:
  - lresume deleted
  - Nap_cs netflux deposition
  - tracdef.tex: BrSScap MEDIUM changed from AIR to AEROSOL
  - lwc limit changes to 1.e-12
  - lhet activated again
nml/mbl_eval:
  - mecca1.nml:   lcheck_range= .T.
  - onlem:        L_LG = .F.
  - channel.nml:
	 - Nap_cs added to tr_aer_carbs channel
	 - wildcard without '_' for lgvflux list
  - offlem.nml:   'nCF2Cl' -> 'nCF2Cl2'
  - s4d.nml:      'jval': -> 'jval_gp':
		  vervel not from ECHAM5 but scnbuf
  - scav.nml:     out_string updated
  - hetchem: add dummy xxm7
  - offlem:     ch3coch3_2000.nml => ch3coch3_land_2000.nml
		ch3oh_2000.nml    => ch3oh_land_2000.nml
nml/QFY:
  - offlem.nml:   'nCF2Cl' -> 'nCF2Cl2'

******************************************************************************

messy_2.1t (18 May 06)

Changes by Astrid Kerkweg and Patrick Joeckel:
- WARNINGS updated
- messy/smcl/messy_main_tools.f90 (str2chob, strcrack): string initialisation
- messy/smcl/messy_main_channel_repr.f90: bug fix of error number
- messy/smcl/messy_main_channel.f90 (fixate_channels): workaround for Lahey-
  Compiler (no string-function in write statement)
- nml/QFY setup updated
- nml/mbl_eval setup updated
- AIRSEA: namelist update
- SCAV (xscav): new '##' handling
- MECCA1:
  - aqueous.eqn: '##' added to equation numbers (for diagtrac.tex)
  - aqueous.spc, gas.spc, tracdef.tex, diagtrac.tex: diag-species for MBL
    added
  - xmecca1: option 31 (MBL-EVAL) added
- TRACER_FAMILY:
  - messy_main_tracer_family_local_end: TYPE-1 and -2 conversion flipped
  - switch off processes for type-2 family members which are not rescaled
- messy_main_channel_repr.f90: bug fix in error number
- SCOUT, S4D:
  - workaround for IBM: no character pointers in allocatable structure arrays
  - creation of representations moved to init_memory
  - different names for representations

******************************************************************************

messy_2.1s (12 May 06)

Changes by Rolf Sander:
- KPP:
  - messy/tools/kpp/src/gen.c: parameter dp changed

Changes by Astrid Kerkweg and Patrick Joeckel:
- TRACER_FAMILY:
  - multi-membership allowed for non-rescaled TYPE-2-family members
  - switch to skip re-scaling for TYPE-2 families
- QBO: flag for suppressing qbo nudging tendency, in case wind data
       exceeds 99.0 (missing data)
- CAM: new namelist setup
- MECCA:
  - error handling with namelist switch
- MECCA1:  messy_mecca1_vec_e5.f90 updated (vdiff flag and photolysis rates)
- MECCA1_MBL, MECCA_MBL:
  - vdiff updated
  - new namelist setup (mbl_eval); only for MECCA1
- PHOTO, JVAL:
  - photolysis rate for bromo-carbons added
  - update for HNO4 photolysis
- MECCA1, MECCA:
  - photolysis rate for bromo-carbons added
- messy_main_transform_e5.f90: FFT991 and FFT992 (for E5302)
- echam5.3.02/Makefile.in: FFT991 activated
- TREXP: setup corrected
- VISO: init_memory moved to init_coupling
- SCOUT: init_memory moved to init_coupling
- messy_main_control_e5.f90: change of order for VISO, SCOUT, S4D, LGGP,
  LGVFLUX

Changes by Patrick Joeckel:
- messy_main_data_e5.f90: next_date added
- CHANNEL: output trigger consistently changed to 'next_date'
- S4D: heavily revised, now series of position files (with date) are
       regularly (daily or monthly) updated
- TIMEPOS:
  - timing revised
  - bug fix (use gather_gp with 4D pointer)
  - bug fix in subroutine interpolate
- QUANTIFY setup included
- AUTHORS, WARNINGS updated
- new submodel O3ORIG (by Volker Grewe, DLR) included
- new submodel MMFORCE (by Anne Kubin, FUB) included

Changes by Holger Tost:
- M7:
  - messy_m7_e5.f90:
    usage of the m_aerosol_nsol=OFF switch for insoluble aerosol species
    in new_tracer definition

******************************************************************************

messy_2.1r (28 Apr 06)

Changes by Holger Tost:
- SCAV:
  - new feature: aerosol species are assigned to the largest
    available soluble aerosol mode after evaporation
  - box model updated
- new namelist directory ht

Changes by Patrick Joeckel:
- TRACER:
  - bug fix in tracer_init (for tracers with subname)
- messy_main_echam5_e5.f90, messy_rad4all_e5.f90: nmonth (for MMFORCE)
- echam5.3.02/modules/mo_time_control.f90: T10 included
- echam5.3.02/src/setdyn.f90: T10 included
- messy_rad4all_e5.f90: T10 included

Changes by Astrid Kerkweg, Holger Tost, and Patrick Joeckel:
- ONLEM: bug fix (GP_2D_HORIZONTAL replaced by GP_3D_1LEV)

Changes by Andrea Pozzer:
- AIRSEA: update of DEFAULT/airsea.nml

******************************************************************************

messy_2.1q (13 Apr 06)

Changes by Patrick Joeckel (from Volker Grewe):
- OFFLEM: new namelist for field with region indices for O3ORIG
- MECCA1: new dignostic tracers as preparation for O3ORIG
  (gas.spc, tracdef.tex, diagtrac.tex)

Changes by Holger Tost and Patrick Joeckel:
- MECCA1: diagnostic tracer handling completely revised
  changed files: xmecca, gas.eqn
  new files: diagtrac.tex with list of additional diagnostic tracers

Changes by Patrick Joeckel:
- xmessy_echam5: update for SUPER-UX setup
- S4D: change in vertical interpolation; extrapolation is now excluded

******************************************************************************

messy_2.1p (04 Apr 06)

Changes by Andrea Pozzer:
- MECCA: LG-printrates and LG-khet implemented

Changes by Patrick Joeckel:
- echam5.3.01/modules/mo_tpcore.f90 : replaced 2x '-wp' by '_wp'
- echam5.2.02a/modules/mo_tpcore.f90: replaced 2x '-wp' by '_wp'
- new submodel TIMEPOS for handling of 'timepos'-files
  (http://www.megdb.ethz.ch/dbstrategy.php) for model evaluation

Changes by Astrid Kerkweg and Patrick Joeckel:
- MECCA1:
  - bug fix in naming of diagnostic tracers (LossOH, LossHO2)
  - new diagnostic tracers: Rn_01,10,30 and CH3I_01,10,30
- ONLEM:
  - 3D online emissions now included
  - type AIRCNOx for diurnal cycle of aircraft emissions implemented

******************************************************************************

messy_2.1o (27 Mar 06)

Changes by Patrick Joeckel, Astrid Kerkweg:
- messy/echam5/smil/messy_rad4all_e5.f90: new switch lr4a for E5302
- echam5.3.02/src/physc.f90: new switch lr4a for RAD4ALL
- echam5.3.02/src/radheat.f90: setting to zero removed (now in physc)
- echam5.3.02/modules/mo_constants.f90: bug-fix

******************************************************************************

messy_2.1n (27 Mar 06)

Changes by Andrea Pozzer:
- JVAL :
  - NO SX6 specifics anymore
  - Acetone QY finally corrected and carefully tested

******************************************************************************

messy_2.1m (17 Mar 06)

Changes by Patrick Joeckel, Astrid Kerkweg:
- PTRAC:
  - bug-fix: I_M_AEROSOL_METHOD in CPL-namelist

Changes by Patrick Joeckel, Astrid Kerkweg and Holger Tost:
- echam5.3.02
  - additional changes (with preprocessor directives E5202A, E5301, E5302 in
    BMIL and SMIL modules; additional alternative routines in SMCL)
    MAIN:
      - messy/echam5/bmil/messy_main_transform_e5.f90
	(revised fourier transformation routines for E5302)
      - messy/echam5/bmil/messy_main_data_e5.f90
	(mainly for E5302 changes in scan_buffer, tmp_buffer, and mo_geoloc)
    CONVECT:
      - messy/echam5/smil/messy_convect_e5.f90
      - messy/smcl/messy_convect_tiedtke_param.f90 (alternative routine added)
    CLOUD:
      - messy/echam5/smil/messy_cloud_e5.f90
      - messy/smcl/messy_cloud_ori.f90 (alternative routine added)
    RAD4ALL:
      - messy/echam5/smil/messy_rad4all_e5.f90

Changes by Patrick Joeckel and Holger Tost:
- messy_cvtrans.f90: bug fix with two 'if' statements instead of one (2x)

******************************************************************************

messy_2.1l (10 Mar 06)

Changes by Patrick Joeckel:
- xmessy_echam5: update of ESH_INIROOT
- MECCA1: bug fix in vectorised code: order of indices of JX corrected
	  (messy/box/mecca1/vector/smil/messy_mecca1_vec_e5.f90)

Changes by Andrea Pozzer:
- AIRSEA :
  -  new salinity climatology
  -  saturation ratio option in the namelist

******************************************************************************

messy_2.1k (10 Mar 06)

Changes by Rolf Sander:
MECCA:
- see messy/box/mecca/CHANGELOG
KPP:
- new integrators

******************************************************************************

messy_2.1j (24 Feb 06)

Changes by Patrick Joeckel and Andrea Pozzer:
- ATTILA: additional random number generator added (luxury)
- xecham: gmake veryclean skipped for SX6 cross compilation
- MECCA1: bug fix in ros2-vectorization; one filename was wrong

Changes by Patrick Joeckel:
- src/master.f90 (2x): simulation finished
- echam5/smil/specific.mk: entry for S4D on NEC-SX6
- PSC, MSBM: upper boundary of region reduced to 20hPa
- xmessy_echam5: setup for NEC-SX6 revised
- MSBM: set REALZERO = 1.0E-40_dp ON NEC-SX6 and 0.0_dp elsewhere
	(as in PSC)
- qflux/ECHAM5.nml: added
  &DYNCTL
    VCHECK=235.
    SPDRAG=0.926E-4
  /
  &GWSCTL
    RMSCON=0.9
  /

******************************************************************************

messy_2.1i (20 Feb 06)

Changes by Patrick Joeckel:
- new box-model RANDOM
- ATTILA:
  - new sub-module messy_attila_mt19937ar.f90 with the original
    code of the Mersenne Twister
  - messy_attila.f90: update of subroutine ATTILA_INIRAN_MTW
- PSC: set REALZERO = 1.0E-40_dp ON NEC-SX6 and 0.0_dp elsewhere
- CHANNEL:
  - messy_main_channel.f90: lforce_out, lsuppr_out, set_channel_output
    to trigger immediate channel output or to suppress it (S4D)
- S4D: (sample in 4 dimensions)
  - new submodel for online interpolation of data along tracks
- QTIMER:
  - julian_day moved to messy_main_tools
- SCOUT:
  - forcheck analysis
  - I4 removed
  - parse_str moved as str2chob to messy_main_tools
- TOOLS:
  - messy_main_tools.f90:
    - new julian_day (QTIMER, S4D)
    - new str2chob (SCOUT, S4D)
    - new bilin_weight calculating the weights for bilinear interpolation
    - nn_index (optional 2nd index (assuming ordered list !))
    - locate_in_decomp split into
      - locate_in_decomp_nrst (nearest neighbour, original)
      - locate_in_decomp_4    (all four neighbours for bilinear interpolation)

Changes by Patrick Joeckel and Andrea Pozzer:
- ATTILA: random number generation completely revised

Changes by Astrid Kerkweg:
- DRYDEP: bug fix for H2SO4 calculation

Changes by Rolf Sander:
MECCA:
- see messy/box/mecca/CHANGELOG
- tracdef.tex is split into gas.tex and aqueous.tex
KPP:
- scan.h: MAX_INLINE increased to 100000
- sutil.f90: DOUBLE replaced by KPP_REAL

******************************************************************************

messy_2.1h (13 Feb 06)

Changes by Holger Tost:
- config/mh-linux-64: update for pia12*
- physc.f90 (1x): loconv and locond NOT for lstart
  NOTE: echam5.2.02a/src/physc.f90 was already OK
- CONVECT:
  - update of input parameters for additional schemes
  - namelist switches for additional schemes
  - additional diagnostic channel elements
  - addition of enhanced evaporation for Zhang/Hack
  - updates of different schemes
- SCAV:
  - new pH calculation
  - correct LWC for precipitation
  - bug fix for convective scavenging
  - LWC threshold for chem. is now in namelist
- CVTRANS
  - mass conservation diagnostics
- xmessy_echam5: setup for pia12*

******************************************************************************

messy_2.1g (10 Feb 06)

Changes by Patrick Joeckel:
- nc2mc: bug fix
- CHANNEL:
  - messy_main_channel_netcdf.f90: 64-bit mode for restart files activated
- ATTILA:
  - clean up of comments in code
- config/mh-aix: update
- VISO:
  - unit attribute for MAP object added
- mo_exception.f90 (2x): bug fix for SX6 in subroutine message corrected
- LGVFLUX new submodel for calculation of vertical fluxes across
  horizontal surfaces
- LGGP: new submodel for namelist controlled transformations from Lagrangian
  to gridpoint representaton and vice versa
- D14CO:
  - split channels into _gp, _lg, _lggp
  - bug-fix for LG channel objects
- TROPOP:
  - channel objects renamed for coupling to VISO
  - new channel object for climatological tropopause pressure

******************************************************************************

messy_2.1f (08 Feb 06)

Changes by Patrick Joeckel:
- xmessy_echam5:
   - default paths in afs set to extra_space
   - standard setup: ECHAM5 only
- QBO: time control moved to SMCL
- JVAL: solar cycle implemented
- messy_main_tools.f90: type T_TIME_CONTROL, function JulianMonthLength

Changes by Rolf Sander:
MECCA:
- messy_mecca_mbl_e5.f90: output adapted to info, warning, error

Changes by Astrid Kerkweg:
- tools/kpp:
  - gdata.h: set #define MAX_EQN        3500
		 #define MAX_SPECIES    3500
  - code_f90.c: change 12 -> 15
    a) l. 383
       case STRING:
       bprintf( "'%-15s'", cval[i] ); break;
    b) l. 44
       "CHARACTER(LEN=15)",  /* STRING */
CLOUD:
- additional parameter
CONVECT:
- channel object for cv_cldwater
- channel object for del_liqwater (change in liquid water)
PTRAC / M7 :
- M_AEROSOL_METHOD ADDED TO M7 /PTRAC tracer
SEDI / DRYDEP
- enable dry deposition and sedimentation for BIN- Aerosol
CAM:
- inclusion of external emissions
- switch for internal emission
- implement switch (LCONVERTED) for final concentrations of chemical
  species (XXROW)
- (CAM_PHYSC) Sort all only aerocld variables in IF (AEROCLD) block
- write first version of cam_vdiff(all input set to zero or 0.01) (28.11)
- ILG => nproma; IL1 =>1; IL2=>kproma; LEV=> nlevp1; ILEV= nlev
- NTRAC => ntrac_gp; DELT = time_step_len
- initialize aerosol tracer (28.11) ( be careful about layer shift!)
- gas phase tracers H2S, SO2, SO4, DMS, H2O2 added
- DSHJ, SHJ, SHTJ implemented as geometric height, ok ?
- THROW => tm1+ tte *dt (level shift !)
- RHROW => rhum_3d      (level shift !)
- ROAROW => airdens = grmass/grvol
- PRESSG => surfpres = aps
- DLATROW => philat_2d
- CSZROW  => cossza_2d
- CLDCV   => read in via namelist
- ZMLWC   => read in via namelist, only as sum available, distributed via cldcv
- channel objects introduced for wet/dry radius and density
  RHSIZE, RHOP => wetradius, densaer (5d Pointer) (01.12)
- MODV => SQRT(u**2+ v**2)
- removed RGRID (only working array in CLDCHEM)
  and replaced by XROW in aeroprop
- PDEPV, VDG => channel object introduced
- FSGROL => SRADS auf rad4all(net surface solar radiation)
	    == Ground solar irradiance (W/M**2)(CAM)  ???
- IDAY : Julian day implemented in messy_main_data_e5
- GTROR => tsurf_2d
- SFCTROW = temperature at lowest model layer ???
- MSG  set to 1 (missing moisture levels ???)
- define RSFROW as diognostic emission flux channel object
- add AERONUM as tracers !!!!
- set TRACG = XROW in vdiff
- TSROW = temperature of lowest level
- implementation of tracer search and calculation of O3ROW, OHROW, H2O2ROW,
  CO2ROW, NH3ROW, NO3ROW, HNO3ROW
- as box model (Nov 22, 2005)
- writing cam*_initialize routines (Nov 22, 2005)
- first version of cam_physc (all input set to zero or 0.01)
- introduce double precision
- first (rough) versions of init_memory and free_memory

******************************************************************************

messy_2.1e (06 Feb 06)

Changes by Andrea Pozzer:
- AIRSEA: salinity correction (input of climatology via OFFLEM)

******************************************************************************

messy_2.1d (06 Feb 06)

Changes by Rolf Sander:
- MECCA: see messy/box/mecca/CHANGELOG
- MSBM: latest changes in PSC adopted for MSBM (SX preprocessor
  directives to replace FORALL constructs in e5 file, and PARAMETERs not
  as arrays anymore in core file)

******************************************************************************

messy_2.1c (26 Jan 06)

Changes by Patrick Joeckel:
- efchk: bug fix

Changes by Andrea Pozzer:
- JVAL: correction for wavelength in acetone photolysis rate
- AIRSEA:
  - namelist control revised: no more hard-coded tracer definitions
- OFFLEM:
  - additional code (currently commented) for
    coupling with AIRSEA: OFFLEM emission fluxes of tracers handled by AIRSEA
    are set to zero over open ocean (not over sea-ice !)
- messy_main_control_e5.f90: call of offlem_init_coupling (currently
    commented)
Note: We still have to re-think the overall strategy for 'coupling'
      different emission/deposition submodels (e.g., AIRSEA - ONLEM)

******************************************************************************

messy_2.1b (24 Jan 06)

Changes by Rolf Sander:
- messy_main_tools.f90: ADJUSTL added to strcrack
- new submodel MSBM (Mainz Stratospheric Box Model), based on submodel PSC:
   - All core functions messy_msbm.f90 are from J. Buchholz, except for:
     surfmed_liquid (author probably SW), V_HET (author=?), K_HET (author=?)
   - MSBM produces the 11 channel objects that are needed by MECCA (in
     addition to the 30 individual values for different aerosol types)
- new subsubmodel MECCA_KHET (see messy/box/mecca/CHANGELOG)
   - calculates rate coefficients for tropospheric heterogeneous
     reactions using an aerosol climatology and/or aerosol properties
     from one or more aerosol model (e.g. m7)
   - reads 11 stratospheric heterogeneous rate coefficients from another
     submodel (currently only possible for msbm)
- messy_main_tools_e5.f90: info, warning, error, str (used)
- messy_main_tools.f90: str

******************************************************************************

messy_2.1 (13 Jan 06)

Changes by Patrick Joeckel and Rolf Sander:
- deleted all TABs in echam5.2.02a and echam5.3.01

Changes by Rolf Sander:
- validate, efchk, lst2log.awk, xecham: updates, efchk-sum removed

Changes by Benedikt Steil:
- MECCA:
  - messy_mecca_vec_e5.f90: force positive results also for solvers
    WITHOUT automatic time stepping
- PSC:
  - messy_psc_e5.f90, one code for all computers!!!
    The code that has been used on the LINUX-Cluster and on the MAC is
    now also used on the SX6.
  - messy_psc.f90, changes which allow vectorization.
- RAD4ALL:
  - messy_rad4all_long_mem.f90 bugfix for SX6.
  - messy_rad4all.f90 bugfix from ECHAM5.3.2 for aerosol
  - messy_rad4all_long.f90 formal parameter and actual parameter
			   in subroutine call is now consistent.
  - messy_rad4all_e5.f90 formal parameter and actual parameter
			 in subroutine call is now consistent.

Changes by Patrick Joeckel:
- messy_convect_tiedtke_param.f90: bug fix in calculation of cprcon for
  non-MA resolutions (thanks to Christian Kurz and Holger Tost)
- submodel EQSAM removed (according to the decision of the
  group-meeting on Dec 19, 2005)

Changes by Rolf Sander and Patrick Joeckel:
- MECCA: de-indexing scripts updated

Changes by Rolf Sander:
- MECCA: complete update of MECCA and KPP-2.1 (see MECCA-CHANGELOG)
- lskipkpp_*, printrates_* moved from CTRL to CPL

Changes by Benedikt Steil:
- messy_rad4all_long_mem.f90: !CDIR DUPLICATE deactivated

Changes by Astrid Kerkweg:
- DRYDEP, M7, MECCA1, ONLEM, SEDI: updated DEFAULT-namelists

Changes by Patrick Joeckel:
- D14CO:
  - update of rate coeff. CO+OH from
      rc = 1.5e-13_DP*(1._DP+0.6_DP*(p/101325._DP))
    to
      rc = 1.57e-13_DP + cair * 3.54e-33_DP
- CHANNEL:
  - bug-fixes for new-file trigger
  - messy_main_channel_io.f90 (channel_init_io, channel_write_header):
    skip if NOT lout_now
  - messy_main_channel_io.f90 (channel_finish_io): avoid flushing/closing
    every time step; reset lnew_file
  - messy_main_channel_e5.f90 (main_channel_initialize): moved
    main_channel_initialize_gatts, main_channel_initialize_dims,
    main_channel_initialize_reprs after main_channel_read_nml_ctrl
- DRADON: box model added

Changes by Holger Tost:
- SCAV: bug-fix in messy_main_scav_e5.f90 ( mem=mem for
  'wetflx_cv_'//TRIM(strname(i)) )
- xmessy_echam5: bug fix for amipII-links
- CONVECT:
  - update for ECMWF and BECHTOLD (correction of corrections) scheme

Changes by Holger Tost and Patrick Joeckel:
- DRADON: decay chain 222Rn -> 210Pb implemented

******************************************************************************

messy_2.0.9 (04 Oct 05)

Changes by Astrid Kerkweg:
- OFFLEM: bug fix in pointer allocation for raw data
- MECCA1 (gas.eqn): additional Diag,C,N labels for diag-equations

Changes by Benedikt Steil:
- HETCHEM:
  - messy_hetchem_e5.f90: bug fix for tracer tendency
    calculation in the troposphere
  - messy_hetchem.f90: changes for vectorization
- NCREGRID: alternative code for vectorization (see NCREGRID-CHANGELOG)

Changes by Christoph Bruehl:
- PHOTO, JVAL:
  - O2-photolysis rate scaled by 0.95
  - new parameter for continuous solar cycle conditions

Changes by Patrick Joeckel:
- xmessy_echam5: new option for AMIPII data directory
- mo_sst.f90 (2x): automatic reordering of latitudes (from S->N to N->S) for
  sst and sea-ice (AMIPII)
- MECCA (xmecca, new subdirectory messy/box/mecca/decomp):
  de-double-indexing (results still unchecked !)
- CHANNEL (messy_main_channel_e5.f90, messy_main_control_e5.f90):
  all calls to update_channel moved to messy_channel_write_output
  (i.e., main_channel_global_start removed !), to allow statistical output
  also for ECHAM5-fields with laccu = .TRUE.
- NCREGRID: bug-fix (see NCREGRID-CHANGELOG)
- TRACER:
   - messy_main_tracer.f90: new SUBROUTINE copy_tracer_set
   - messy_main_tracer_mem_e5.f90: new pointers for tracer set LGGP
     (Lagrangian tracers converted to Gridpoint representation)
   - messy_main_tracer_e5.f90: optional conversion of LG tracers to GP
     representation
   - tracer.nml (CPL): new switch L_CONV_LG2GP for conversion of
     LG tracers to GP representation
- ATTILA_TOOLS:
   - messy_attila_tools_e5.f90: added optional fill_value OR fill_field
     to fill the 'gaps' (no CELLS) in LG->GP conversion

Changes by Astrid Kerkweg and Patrick Joeckel:
- OFFLEM: bug fix for Nx2D emissions

Changes by Andrea Pozzer:
 - MECCA: Lagrangian application
 - AIRSEA: Lagrangian application
 - JVAL: correction in namelist

Changes by Holger Tost:
- SCAV: new parameterization for scavenging in super-cooled water
- CVTRANS: bug fix for mass conservation
- MECCA (gas.spc): bug fix in notation
- MECCA1 (gas.spc): bug fix in notation

******************************************************************************

messy_2.0.8 (23 Sep 05)

Changes by Patrick Joeckel and Andrea Pozzer:
- ATTILA: bug-fix in attila_global_start; wrong initialization of PBL-height
  caused erroneous tracer initialization

Changes by Astrid Kerkweg:
- MECCA1_MBL:
  - switch ndrydep=OFF for ion emissions, if l_netflux=.TRUE.
- DRYDEP:
  - bug fix for aerosol deposition

Changes by Patrick Joeckel and Holger Tost:
- config/mh-aix: settings for ECMWF (thanks to Axel Lauer)
- TRACER_PDEF completely revised
- vdiff.f90 (2x): cutting of tendencies (force positive definiteness) only
  for positive start values

Changes by Benedikt Steil:
- MECCA1 (messy/box/mecca1/vector/smil/messy_mecca1_vec_e5.f90,
  messy/box/mecca1/vector/sedsolve_ros2,3): update for vectorized solvers

******************************************************************************

messy_2.0.7 (12 Sep 05)

Changes by Holger Tost and Patrick Joeckel:
- CHANNEL (mo_io.f90 (2x), initialize.f90 (2x)):
  ECHAM5 independent timer initialization after restart

Changes by Patrick Joeckel:
- messy/util/init_restart: new script
- stepon.f90 (2x), iorestart.f90 (2x), messy_ncregrid_tool_e5.f90,
  messy_main_control_e5.f90, messy_ncregrid_tools_e5.f90, xmessy_echam5:
  restart handling of rgt-event counters renewed
- H2O: tracer definition completed
- new sub-submodel TRACER_PDEF to force positive tracers, i.e., to compensate
  for numerically produced negatives
- TRACER, TRACER_FAMILY:
  - l_family moved to CPL namelist
  - mass diagnostics also for family members
- EDGAR2NC: update (increased string length)
  (thanks to P. Zimmermann and M. Lawrence)
- nml/EVAL/ptrac.nml: aerosol density of SO4_cs set to 1841.0
  (thanks to S. Metzger)

Changes by Astrid Kerkweg:
- echam5/nml/mbl namelist setup updated
- MECCA  (tracdef.tex): bugfix for Nap_as
- MECCA1
  - (tracdef.tex): bugfix for Nap_as
  - (messy_mecca1_mbl_e5.f90, mecca1.nml): option for net emission
    calculation (emission - dry deposition) added
- DRYDEP (messy_drydep_e5.f90, drydep.nml):
	add induvidual drydepflux output for tracers;
	Some comments changes
- ONLEM (onlem.nml): change 'years' for for aerocom_bge nml in months

Changes by Rolf Sander:
- MECCA1: O3 budgeting added
- messy_mecca1_mbl.f90, messy_mecca_mbl.f90: density calculation corrected

Changes by Holger Tost:
- SCAV: bug fix for evaporation
- messy_main_constants_mem.f90:
  - dependent constants re-defined
  - molar mass of water corrected
- CLOUD, CONVECT, messy_main_tools.f90, TROPOP, mo_constants.f90 (2x):
  constants used from messy_main_constants_mem.f90
- MECCA (xmecca), MECCA1 (xmecca1), SCAV (xscav):
  force positive results for mecca (solvers with automatic time stepping)
- LNOX: correct output of total NOx production per column

Changes by Christoph Bruehl:
- MECCA:
  - gas.eqn: scaling of J_Cl2O2
  - gas.eqn, literat.bib, meccanism.tex:
    update of ClO+ClO reaction coefficient
- MECCA1:
  - gas.eqn: scaling of J_Cl2O2
  - gas.eqn, literat.bib, meccanism.tex, messy_mecca1_func.f90:
    update of ClO+ClO reaction coefficient
- JVAL,PHOTO:
  - solar zenith angle for day/night switch (u0lim)
    now at 94.5 degrees (instead of 93.0) to allow for more realistic
    onset of ozone hole
  - vinit set to zero

******************************************************************************

messy_2.0.6 (12 Aug 05)

Changes by Patrick Joeckel and Astrid Kerkweg:
- CHANNEL (messy_main_channel.f90, messy_main_channel_e5.f90):
  force new filename after output of restart file
  (messy_channel_write_output(IOMODE_RST) ->
   main_channel_update_timer -> trigger_channel_output)
- correct all &regrid namlists (remove i_lonr where not applicable)

Changes by Patrick Joeckel:
- HETCHEM: calculations of khet_S(23),_S(24),_S(25),_S(27),_S(28),_S(29)
  limited to PSC region
- hetchem.nml: i_hyar    = 0.5,350., for H2SO4 climatology
- hetchem.nml, psc.nml: updated &regrid-namelist for H2SO4
- NCREGRID: improvement for pre-regridding (see NCREGRID-CHANGELOG)

******************************************************************************

messy_2.0.5 (08 Aug 05)

Changes by Andrea Pozzer:
- ATTILA (messy_attila_tools.f90, messy_attila_tools_e5.f90):
  optional logical parameter llev for 2D transformation (gp2lg_xy)
- DRYDEP:
  - simplification
  - 3 different approaches available for Lagrangian

Changes by Patrick Joeckel:
- MECCA1, EQSAM: bug-fixes in box-models
- HETCHEM, RAD4ALL: WRITE(*,*) only on p_io
- xmessy_echam5: 'save' directories for reruns
  are now completely self-consistent
- TNUDGE: bug fix for 'hard nudging' coefficient
- messy_main_data_e5.f90:
  - lrestreq=.TRUE. for ECHAM5 channel (for testing)
    !!! NOTE: pxtems in NOT a channel object anymore (as in 1.*) !!!
  - lrestreq=.TRUE. for geopoti
- CHANNEL: implemented optional default setting (lrestreq) for channel,
  i.e., for all channel objects
- PTRAC: bug fix for radius/sigma initialization
- MECCA, MECCA1 (messy_mecca_e5.f90, messy_mecca1_e5.f90,
  messy_mecca1_vec_e5): finish, if khet* is/are not available
- SCAV: bug fix in string parsing (! mz_pj_20050803)
- HETCHEM: switch for H2O coupling
- RAD4ALL:
  - (messy_rad4all.f90): bug-fix;  vertical dimension of pflxs, pflxt
  - (messy_rad4all.f90, messy_rad4all_short.f90): bug-fix;
    CO2-coupling (short-wave radiation) for non-homogeneous CO2 has been
    dependent on decomposition: zcardi=pco2(1,1)
- nc2mc, nc2dxmc: update
- EDGAR2NC: update
- TROPOP: correction in p_bcast(r_press_range_PV(:), p_io)
- NCREGRID: update to version 1.4b see (see messy/box/ncregrid/CHANGELOG)

Changes by Swen Metzger:
- EQSAM: update

Changes by Holger Tost:
- SEDI: create channel objects only for sedimenting aerosol tracers
- SCAV:
   - de-indexing for kpp solver
   - terminate model, in case number of modes is < 4 and local scav-tracers
     are used

Changes by Laurens Ganzeveld:
- ONLEM: VOC emission calculation with 4 layers

Changes by Benedikt Steil:
- messy_mecca_vec_e5.f90: bug-fix in vector-length initialization
- TROPOP:
  - change search algorithm for PV tropopause to lrev = .false.
  - update tropop.nml

-------- EVAL 1.0.4

Changes by Holger Tost:
- messy_main_transform_e5.f90: bug fixes in transpositions (for NPROCB /=0);
  new strategy: expand all fields to maximum size and padd with zeros

Changes by Patrick Joeckel:
- messy_main_channel.f90: max. number of I/O objects increased to 1000
- mo_nudging_buffer.f90 (2x): bug-fix (occurs, if NPROCB/=1)
- JVAL, PHOTO: optimization switched off on rs6000 in both specific.mk
- RAD4ALL: CO2_pre as 3D channel object
- TROPOP: bug-fix (missing p_bcast)
- messy_mecca_e5.f90, messy_rad4all_aero_tanre_e5.f90, messy_rad4all_e5.f90,
  messy_rad4all.f90, messy_rad4all_orbit.f90, messy_mecca1_e5.f90:
  some dp added
- TNUDGE: bug-fix if tracer and/or tropopause and/or boundary layer height
  is not available
- LGTMIX: update (improved concept)
- zip.sh: exclude mecca1-vector files from packing
- MECCA1:
  - messy/box/mecca1/Makefile.m:
    remove temporary mecca1-vector files with target 'distclean'

Changes by Benedikt Steil:
- MECCA1:
  - check_range deactivated (performance !)
  - vectorisation of MECCA1 is added:
    a) new subdirectory named vector in messy/mecca1
    b) script xmecca1 is modified
    c) messy_mecca1_e5.f90, modified with dummy subroutine mecca1_free_memory
    d) messy_main_control_e5.f90, call to mecca1_free_memory is added
    e) messy/src/specific.mk is modified to allow inlining
    f) config/mh-nec, option -pvctl fullmsg is added
    h) locate_f90.sh is used to set the Fortran compiler in the
       vectorization script
- decomp: seddecomp_ros3, seddecomp_ros2 further optimized

Changes by Astrid Kerkweg and Patrick Joeckel:
- TRACER_FAMILY: (stepon.f90 (2x), messy_main_tracer_e5.f90,
  messy_main_tracer_family_e5.f90): convert output to tracers instead of
  families + fraction
- DRYDEP: changed units of drydep flux

******************************************************************************

messy_2.0.3 (13 Jul 05)

Changes by Benedikt Steil, Holger Tost:
- PSC:
  - logical scalar replaced by logical array in WHERE statements
  - FORALL loop replaced by DO loop (all architectures, not only SX)

Changes by Andrea Pozzer:
- channel.nml: updated with new channels
- JVAL: acetone photolysis calculation speed up
- LNOX: lnox/lnox.nml : lagrangian scheme introduced
- channel.nml   : new channels
- DRYDEP:
  - Lagrangian scheme introduced
  - resistance over snow changed
  - rank in core-routines reduced
- ATTILA: moved representations from attila_init_memory to attila_initialize
- PTRAC: bug-fix for LG-tracers
- TRACER: bug-fix in LG-tracer initialization

Changes by Patrick Joeckel:
- mo_nudging.f90 (2x): bug-fix for snsp=0 (occurs, if NPROCB/=1)
- messy_main_channel_e5.f90: bug fixes in definition of representations
  (occured, if NPROCB /= 1)

Changes by Patrick Joeckel, Holger Tost:
- mo_diag_tendency.f90 (2x): new memory management for (m)pdiga

******************************************************************************

messy_2.0.2 (12 Jul 05)

Changes by Patrick Joeckel, Holger Tost:
- RAD4ALL: bug-fix (pdiga24,25)
- CVTRANS: vector and scalar version distinguished
- TRACER, TRACER_FAMILY (messy_main_tracer_e5.f90): create_tracer_channels
  moved to main_tracer_init_memory(2)
- MECCA
  - tracdef.tex, tracdef.awk: t_med_aerosol%nsol
- MECCA1:
  - removal of indirect indexing for ros3, ros2 re-activated
  - scaling option for ros2 removed
  - tracdef.tex, tracdef.awk: t_med_aerosol%nsol
- TRACER: new switch t_med_aerosol%nsol = ON for soluble aerosol

Changes by Patrick Joeckel:
- xmessy_echam5: updates for AIX
- ECHAM5.2.02a, ECHAM5.3.01:
  - init_decomposition.f90: lfull_m = lnmi .AND. (nprocb /= 1)
- xmessy_echam5: bug-fix for USE_PREREGRID_MESSY=.TRUE.
- MECCA, MECCA1:
  - bug-fix in coupling to channel with het-rates
- TRACER_FAMILY (messy_main_control_e5.f90, messy_main_tracer_e5.f90,
  messy_main_tracer_family_e5.f90): bug-fix affecting advection

******************************************************************************

messy_2.0.1 (05 Jul 05)

Changes by Patrick Joeckel, Holger Tost:
- MECCA1, MECCA (tracdef.tex):
  - nintegrate = ntimefilter = default (ON) for LO3s (MECCA1 only)
  - set vini values as in EVAL-version (SO2, DMS)

Changes by Patrick Joeckel:
- TNUDGE: bug-fix for vertical range
- EQSAM:
  - diagnostic output in time loop commented out
  - bug-fix for box model (did not compile)

Changes by Patrick Joeckel, Holger Tost, and Benedikt Steil:
- DRYDEP: message improved
- TROPOP: geopot removed from calc_PV
- HETCHEM: bug-fixes

Changes by Patrick Joeckel:
- physc.f90: bug-fix (variables initialized)
- prerad.f90: bug-fix (init_diag_radiation needs to be called also if
  l_diagrad = .FALSE., since otherwise diag_rad1 is not ALLOCATED in physc.f90)

Changes by Patrick Joeckel:
- updatet to ECHAM5.3.01 AND echam5.3.01_messy_1.1_eval_20050615:
  #######################################################################
  Changes by Patrick Joeckel:
  - control.f90: NPROMA-lnudge test deactivated
  - mo_nudging_constants.f90: nmaxc increased from 80 to 200

  Changes by Holger Tost and Patrick Joeckel:
  - CONVECT:
    - save midlevel convection into stream elements
  - LNOX:
    - optional coupling to midlevel convection
    - Grewe-scaling adapted to r_scal_ff
    - new scaling factor r_scal_ff for flash frequency in namelist

  Changes by Patrick Joeckel:
  - config/mh-linx.lf: -DLF added for Lahey/Fujitsu Compiler
  - mo_tropopause.f90: bug fixes for uninitialized variables
  - updated to echam5.3.01
  - TRACER_FAMILY: resetting of tracer attributes (f2t) moved from
    tracer_family_init_memory to tracer_family_init_coupling,
    in order to guarantee correct attributes for tracers AND families
    during initialization phase
  - TNUDGE, messy_main_control_e5.f90: tnudge_init_memory for
    flux diagnostics
  - H2O: additional switch L_MODINI_QZAV = T to
    MODULATE the 2D INITIAL H2O CLIMATOLOGY WITH Q/Q(zonal av.)

  Changes by Swen Metzger and Benedikt Steil:
    - HETCHEM, EQSAM:
    - messy_eqsam.f90: minor changes and adjusted for evaluation run
      (e.g. chlorine activation and coarse mode omitted)
    - messy_eqsam_e5.f90: minor changes and  adjusted for evaluation run and
      added aerosol numbers to stream and an option to omit aerosol
      numbers tracers
    - messy_hetchem_e5.f90: changes for developer mode and
      added option to read aerosol numbers from streams instead from tracers
    - tracer.nml: tracer families defined for aerosols (EQSAM)
  #######################################################################

Changes by Rolf Sander and Laurens Ganzeveld:
- MECCA, MECCA1: tracdef.tex updated

Changes by Holger Tost and Patrick Joeckel:
- mesy_main_channel_repr.f90: bug fix in double indexing for restart I/O
- CHANNEL: bug fix in secondary memory management

Changes by Patrick Joeckel:
- H2O: additional switch L_MODINI_QZAV = T to
  MODULATE the 2D INITIAL H2O CLIMATOLOGY WITH Q/Q(zonal av.)

Changes by Patrick Joeckel and Rolf Sander:
- MECCA1, TNUDGE: tracer O3s, LO3s for O3-STE

Changes by Patrick Joeckel (thank's to Holger Tost):
- echam5/Makefile.in: bug fix in target depend (.mod-files)

Changes by Patrick Joeckel (thank's to Andrea Pozzer):
- MECCA, MECCA1: channel object names of J-values corrected
- mo_io.f90, mo_netcdf.f90, mo_filename: bug fixes (undefined variable
  header%format = ...) at first time step

******************************************************************************

messy_2.0b_echam5.2.02a (30 May 05)

Changes by Holger Tost:
- messy_main_channel_e5.f90: bug fix in time axis calculation
- OFFLEM: exclude channel object creation for raw fields of Nx2D emissions
  (bug-fix)
- MECCA1, MECCA (gas.eqn):
  bug fix in photolysis rate coeff.: {#J4401}, <J4401>
- xecham:
  if ( "$option" == "s" ) then
      gmake tools |& tee gmake.tools.log
  endif
- JVAL: bug fix for channel names
- MECCA, MECCA1: bug-fix (dimension of pointer array)
- SCAV: Makefile.e renamed to Makefile.m and bug-fix (bin-dir)

******************************************************************************

messy_2.0_echam5.2.02a (27 May 05)

Changes by Patrick Joeckel:
- ALL SUBMODELS: set modver = 2.0
  PLEASE USE 2.0.n (n=1,2,3,4,...,10,11,12,...) for bugfixes and updates

Changes by Patrick Joeckel and Rolf Sander:
- messy_main_tools.f90: wcstrcmp replaced by match_wild (update)
  (http://www.star.le.ac.uk/~cgp/fortran.html)
  update: CHANNEL, SCOUT, MECCA

Changes by Patrick Joeckel:
- RAD4ALL
  - adapted to channels
  - output flags removed

Changes by Holger Tost:
- SCAV: update

Changes by Patrick Joeckel and Benedikt Steil:
- JVAL, PHOTO: generalized O3 feedback
- RAD4ALL:
  - removed all double renaming use statements (=> .. =>) to compile
    on Compaq/Alpha
  - forcheck analysis
  - isw_rad4all = 3,4 removed
  - calculation of resolution dependent cloud parameters moved to
    rad4all_set_param (called in rad4all_initialize)
  - rad4all_interf_2 moved to SMCL
  - subsubmodel ORBIT:
    - new rad4all_orbit_read_nml_ctrl (CTRL_ORBIT) in SMCL (called from
      rad4all_initialize -> rad4all_orbit_initialize)
    - rad4all_orbit_global_start in SMIL (called from rad4all_global_start)
- radiation.f90: calculation of rhum_3d removed
- messy_main_data_e5.f90: calculation of relative humidity (rhum_3d) in
  main_data_global_start

Changes by Patrick Joeckel:
- RAD4ALL separation into subsubmodels
- messy_rad4all_mem_e5.f90, messy_rad4all_e5.f90, messy.nml:
  lradctl_* removed, since not used
- messy_main_data_e5.f90: tslnew
- messy_rad4all_e5.f90:
  - rad4all_interface_radheat renamed to rad4all_radheat and called from
    messy_main_control_e5 (messy_radheat) without parameters
  - rad4all_radheat renamed to rad4all_radheat_1
  - rad4all_physc renamed to rad4all_radiation
  - tslnew used from messy_main_data_e5
- messy_main_control_e5.f90, physc.f90: new entry point messy_radheat
- physc.f90:
  - unused parameters in USE messy_rad4all_e5 removed
  - overwriting lrad (mo_parameter_switches.f90) moved from physc.f90 to
    messy_rad4all_e5.f90 (rad4all_initialize)
- scan1.f90: use of lrad for radiation diagnostic to enable
  isw_rad4all = 0 (bug-fix)

Changes by Patrick Joeckel and Rolf Sander:
- consistent file names for submodel RAD4ALL:
  rad_sw  -> rad4all_short
  rad_lon -> rad4all_long

Changes by Benedikt Steil:
- new submodel RAD4ALL:
  - new in messy/e5: messy_rad4all_aero_tanre_e5.f90,
    messy_rad4all_e5.f90, messy_rad4all_mem_e5.f90,
    messy_rad4all_o3_lwb_e5.f90, messy_rad4all_o3clim_e5.f90,
    messy_rad4all_orbit_e5.f90, messy_rad4all_solang_e5.f90,
    messy_rad_lon_e5.f90, messy_rad_sw_e5.f90
  - new in messy/src: messy_rad4all.f90, messy_rad4all_aero_gads.f90,
    messy_rad4all_aero_tanre_mem.f90, messy_rad4all_aerosol_mem.f90,
    messy_rad4all_albedo.f90, messy_rad4all_solang.f90,
    messy_rad4all_vsop87.f90, messy_rad_lon.f90, messy_rad_lon_mem.f90,
    messy_rad_sw.f90, messy_rad_sw_mem.f90
  - changed files: physc.f90, radiation.f90, messy_main_control_e5.f90,
    messy_main_switch_e5.f90, messy_main_echam5_e5.f90,
    messy_main_data_e5.f90, messy_main_constants_mem.f90,
    messy_main_switch.f90
  - comment: rad4all replaces the functionality of
    - longwave part: mo_parrrtm.f90, mo_rrta_140gp.f90, mo_rrtab.f90,
      mo_rrtbg2.f90, mo_rrtftr.f90, mo_rrtrf.f90, mo_rrtwn.f90,
      rrtm_gasabs1a_140gp.f90, rrtm_rrtm_140gp.f90, rrtm_rtrn1a_140gp.f90,
      rrtm_setcoef_140gp.f90, rrtm_taumol_140gp.f90, surrta.f90,
      surrtab.f90, surrtbg2.f90, surrtftr.f90, surrtm.f90, surrtpk.f90,
      surrtrf.f90
    - short wave part: mo_sw.f90, mo_sw_clop.f90, susw.f90, sw.f90,
      sw1s.f90, swclr.f90, swde.f90, swni.f90, swr.f90, swtt.f90,
      swtt1.f90, swu.f90
    - aerosols: mo_aero_gads.f90, mo_aero_tanre.f90, mo_aero_gads.f90
    - o3-climatologies: mo_o3_lwb.f90, mo_o3clim.f90
    - namelist-switches: mo_radiation.f90
  - other stuff( like time control of radiation, astronomy, interfaces,
    initializiation etc.: prerad.f90, rad_int.f90, radheat.f90,
    radiation.f90, setrad.f90, parts of mo_time_control.f90, parts of
    mo_geoloc.f90, mo_albedo.f90, m_solang.f90, mo_vsop87.f90

Changes by Astrid Kerkweg and Patrick Joeckel:
- MECCA, MECCA1:
  - update (see MECCA(1)-CHANGELOG)
- DRYDEP, SEDI, ONLEM, OFFLEM, M7:
  - updates and bug-fixes
- PTRAC:
  - new I_GP_SCAV

Changes by Andrea Pozzer:
- AIRSEA (1.0) update
- DRYDEP (0.9.04) update

Changes by Rolf Sander:
- JVAL: bug fix for box-model
- current submodel MECCA renamed to MECCA1
- MECCA 0.9.14: new submodel based on kpp-2.0:
  - see mecca/CHANGELOG for details regarding core (SMCL) and box model
    files
  - USE_MECCA etc. added to: xmessy, src/messy_main_switch.f90,
    e5/messy_main_control_e5.f90, and e5/messy_main_switch_e5.f90
  - messy_mecca_e5.f90, messy_mecca_mbl_e5.f90: kpp_* renamed to ind_*
  - messy_mecca_e5.f90: bug fix for mbl: CALL mr2c before CALL
    mecca_mbl_update_physc because mecca_mbl_calc_k_ex needs C()
  - selected rates from A in kpp_global can be put into new mecca stream
    with new namelist CTRL string printrates='...'

Changes by Holger Tost:
- cloud.f90:
  - USE_PSC removed
- SCAV 1.0.1:
  - update of all module parts, several bugfixes
  - forcheck messages removed
- CVTRANS 1.0.1
  - update of e5 routine (now mass conserving)
  - forcheck messages removed
- CLOUD 1.0.1:
  - forcheck messages removed, major update
- CONVECT 1.0.1:
  - forchck messages removed, major update
- NUDGING:
  - new routines for gridpoint output
  - parallelisation for correlation routines
- MESSY_MAIN_TRANSFORM:
  - new transformation routines (needed in diag_tendency)
- messy_cloud_ori.f90: 'zsubi    = 0.0_dp' commented according to
  ECHAM5.3
- messy_cloud_e5.f90, messy_convect_e5.f90, messy_main_transform_e5.f90,
  mo_diag_tendency.f90, physc.f90, si1.f90:
  - parallelization and gridpoint-netcdf output of/for diag_tendency
  - parallelisation for correlation routines

Changes by Patrick Joeckel and Holger Tost:
- EXP_NAME moved from SWITCH to CHANNEL

Changes by Patrick Joeckel:
- directory structure completely revised (see DIRSTRUCT)
- new generic submodel QTIMER to trigger restart before end of queue time
  limit
- MECCA, MECCA1: tracdef.tex, tracdef.awk updated
- Makefile.in:
  - all Makefile.e renamed to Makefile.m
  - bug fix
  - new targets tools/toolsclean/toolsdistclean for subdirectory
    messy/tools (edgar2nc, ncdx, kpp)
    NOTE: ncregrid is a generic box-model ! (links from
    messy/src/*ncregrid*f90 point to messy/box/ncregrid/src/ )
- mo_grib.f90:
  #ifdef MESSY
    ! ALLOW ORIGINAL ECHAM5 STREAM OUTPUT
    IF (.NOT. L_E5_STREAM_OUTPUT) RETURN
  #endif
  to switch ECHAM5 stream output
- PSC (0.9.1+20050427)
  - khet1 - khet30 as PTR_3D_ARRAY
- TNUDGE (0.9.3)
  - boundary layer as special level
- DRADON (0.9.4), D14CO (0.9.3), TROPOP (0.9.3), PTRAC (0.9.3),
  TREXP (0.9.1), TNUDGE (0.9.3), H2O (0.9.2), LNOX (0.9.3), QBO (0.9.3),
  VISO (0.9.2), PHOTO (0.9.1), JVAL (1.0.1), PSC (0.9.1+20050427),
  OFFLEM (0.9.2), ONLEM (0.9.4), LGTMIX (0.9.3),
  ADVECT (0.9.3), ADVECT_DIAG (0.9.3), CLOUD (1.0.2), CONVECT (1.0.2),
  SCOUT(0.9.3), AIRSEA (1.0), SCAV(1.0.2), HETCHEM (03), M7 (0.9.03),
  MECCA (0.9.15), MECCA1 (0.9.15), messy_main_data_e5.f90:
  - adapted to memory channels
- SEDI (0.9.03)
  - arbitrary aerosol models without re-compilation
  - adapted to memory channels
- DRYDEP (0.9.03)
  - arbitrary aerosol models without re-compilation
  - adapted to memory channels
- edgar2nc:
  - bugfix for units conversion factor
  - no stop if edgar file is not present
  - max. number of classes set to 1000
  - longer namelist string
- configure.in / configure:
  netcdf.mod only checked if libnetcdf.a contains f90 interface
- CAHNNEL-I/O:
  - heavily under construction ...
  - mo_grib.f90: switch off special treatment of stream elements
    with laccu = .TRUE.
  - messy_main_control_e5.f90, control.f90, iorestart.f90:
    messy_init_coupling moved before messy_main_read_restart AND
    messy_init_tracer
  - xmessy: save also 'restart_' files

- TFAMILY:
  - default F2T, T2F conversions (for both family-types)
    in local_start, local_end instead of global_start and global_end
  - messy_main_control_e5.f90 changed accordingly
  - corrected weights for family-type FTYPE_SCAL

******************************************************************************

echam5.2.02a_messy_1.0_01 (30 Mar 05)

Changes by Patrick Joeckel:
- changes in EQSAM, GM7, PSC, HETCHEM (_e5 only !!!) according to changes
  in tracer-structure and move of string-length constants

- 1.0 checked in;
  NOTE: lines beginning with '#' NOT used

    ##########################################################################
    **************************************************************************
    Changes by Rolf Sander:
    - final buxfixes and tests for version 1.0:
      - messy_main_tracer_mem_e5.f90, messy_convect_tiedtke.f90: bugfixes
      # - compiled successfully on:
      # - grand (lf95)
      # - grand (sx cross compiler)
      # - helios
      # - the model was run 5 time steps with NPROMA=101, USE_CLOUD=.TRUE.,
      #  USE_CONVECT=.TRUE., and all other submodels switched off on grand
      #  (queue) and helios (background)

    **************************************************************************

    echam5.2.02a_messy_0.9.1j (9 Mar 05)

    Changes by Swen Metzger:
    - bugfixes in EQSAM and GM7

    **************************************************************************

    echam5.2.02a_messy_0.9.1i (7 Mar 05)

    Changes by Joachim Buchholz:
    - messy_psc.f90: functions mz_psc_het_liq24, mz_psc_het_liq25, p_nat, and
      T_ice now cope with H2O<=0 as input values; supersaturation as
      requirement for ice formation now namelist variable; minor bugfixes and
      improvements
    - messy_psc_e5.f90: minimum value for H2O_t0 now set to 1.0e-10 instead of
      0.0; broadcast for new namelist variable SupSatIce; minor improvements
    - psc.nml: namelist variable SupSatIce for supersaturation as requirement
      for ice formation new in namelist CTRL
    - psc_t.nml: tracers are now initialised as in mecca_t_ma.nml

    **************************************************************************

    echam5.2.02a_messy_0.9.1h (7 Mar 05)

    Changes by Benedikt Steil
    - messy_hetchem_e5.f90:
      - 2 bugs removed: missing broadcasts.
      - 2 additional features added:
	- If H2SO4 tracer is used to calculate aerosol surfaces,
	  it is assumed that all H2SO4 is in the aerosol!
	  I.e. MECCA is initialized with H2SO4 = 0. for the gas phase.
	  H2SO4_liq is added on H2SO4 tracer in local_end, so that the
	  mass budget is closed.
	- The climatology of stratospheric H2SO4 can now be used to simulate
	  in a simple way a closed sulfur cycle. If a H2SO4 tracer is present,
	  it's stratospheric part can be nudged to observations. This even
	  allows the simulation of vulcanic events.
    - messy_hetchem.f90:
      -2 bugs removed in khet29 and khet30

    **************************************************************************
    ##########################################################################

******************************************************************************

echam5.2.02a_messy_0.9.1g_12 (25 Mar 05)

Changes by Rolf Sander:
- messy_main_tools.f90: bug fixes in wcstrcmp

Changes by Astrid Kerkweg and Patrick Joeckel:
- OFFLEM: change of logics for 'unit' and calculation of emission flux
- TRACER, TRACER_FAMILY: type-1 ('classic') and type-2 (re-scaling) families
- MECCA: bug-fixes
- DRYDEP: bug-fixes
- messy_tropop.f90: bug fix (array boundaries)
- xmessy, config/mh-linux: changed for Linux-Clusters a??, c?? at RZG

Changes by Holger Tost:
- messy_convect_tiedtke.f90: bug fix in WHERE construct
- physc.f90:
  - EXTERNAL #ifndef MESSy ...
  - messy_main_data_e5.f90: qhflx(:) -> qflux(:,:)
- mo_memory_base.f90: allow ndims = 0

Changes by Astrid Kerkweg:
- messy_m7_e5.f90: bug fix (pointer dimension)
- messy_main_control_e5.f90, TRACER_FAMILY: changes for saving single tracer
  attributes during initialization phase
- messy_offlem_e5.f90: several bug fixes

Changes by Patrick Joeckel and Rolf Sander:
- xmessy, nml: classification in namelist directories (= scenarios)

Changes by Michael Traub:
- ATTILA: update of convection scheme

Changes by Patrick Joeckel:
- messy_main_channel_e5.f90: associate streams to channels for
  SPECTRAL and FOURIER representation
- messy_main_channel_io_e5.f90: new for channel I/O
- stepon.f90, iorestart.f90: new entry-points for channel-I/O
- SWITCH, xmessy: CHARACTER(LEN=15) :: EXP_NAME
- xmessy: USE_PREREGRID_MESSY=.TRUE. now also possible for
	  personal INPUTDIR_MESSY (requires raw/., T*/. subdirectory structure)
- new GENERIC SUBMODEL 'CHANNEL' to replace ECHAM5-streams
- OFFLEM/TREXP -> special case in nml/trexp
- tf1.f90, tf2.f90, si1.f90, dyn.f90, mo_nudging_utils.f90:
  preprocessor directives for changes for diag_tendency
- mh-alpha, mh-aix, mh-linux: update for IMK hosts
- messy_main_control_e5.f90:
  - entry points for submodel CHANNEL
- TRACER:
  - infra%nforce_col -> proc%nforce_col
  - grib-flags (table, bits, etc.) removed
  - output-flags (loutput, lrestart, lav, lsd) removed
  - STRLEN_* moved to messy_main_constants_mem.f90;
    ALL_SUBMODELS changed accordingly

******************************************************************************

Changes by Patrick Joeckel:
- 0.9.1g checked in, except for submodel removals
  (only SCAV and CONVECT-zhang,bechthold removed);
  NOTE: lines beginning with '#' NOT used

    ##########################################################################
    **************************************************************************
    echam5.2.02a_messy_0.9.1g (7 Mar 05)

    Changes by Rolf Sander:
    - JVAL 1.0:
      - switch l_solmax in CTRL namelist introduced
      - "correction functions" fc_* removed
      - with namelist settings l_force=T and l_heating=T, the submodels JVAL
	and PHOTO produce binary identical results (both for solar minimum
	and maximum)

    Changes by Christoph Bruehl:
    - PHOTO "Correction functions" for ECHAM4-bias removed in J_NO, J_N2O
      and J_F12; switch in namelist to select solar maximum or solar minimum
      conditions (default solar minimum)
    - tracer.nml: set of tracer families for halogens and nitrogen oxides
      for efficient runs in the stratosphere including PSCs (allows ros2 and
      fast PSC reactions)
    # - xmessyl90: runscript for the 90-level version of M.Giorgetta with
    #   interactive QBO
    - new init file:
      /modeldata/ECHAM5/echam5_ini/echam5.2.02a/T42/T42L90MA_19780101_spec.nc

    **************************************************************************

    echam5.2.02a_messy_0.9.1f (2 Mar 05)

    Changes by Rolf Sander:
    - JVAL 0.9.4:
      - subroutines jval_cal_* moved out of subroutine jvalues
      - new namelist CTRL switch for acetone quantum yield: qy_ch3coch3
      - jval is now completely independent of any ascii input files

    **************************************************************************

    echam5.2.02a_messy_0.9.1e (1 Mar 05)

    Changes by Holger Tost:
    - SCAV module removed for official version 1.0
      (unpublished and/or untested, potential bugs,unresolved issues)
    - according changes in cvtrans and convect, main_control_e5
    - CONVECT: experimental, preliminary convection schemes removed (Zhang,
      Bechtold)
    - main_data_e5.f90: cleanup

    **************************************************************************

    echam5.2.02a_messy_0.9.1d (1 Mar 05)

    Changes by Astrid Kerkweg:
    - messy_main_control_e5.f90, TRACER_FAMILY: changes for saving
      single tracer attributes during initialization phase
    - ONLEM 0.9.3 and M7:
      - primary SO4mm emissions for aerosols removed
      - lnox_mbl.nml, offlem_mbl.nml, scav_mbl.nml removed
    - DRYDEP: bug fix

    Changes by Patrick Joeckel:
    #- WARNINGS updated
    #- modules removed for official version 1.0
    #  (unpublished and/or untested, potential bugs)
    #  ADVECT, ATTILA, D14CO, DRADON, LGTMIX, PTRAC, SCOUT, TNUDGE, TREXP, VISO
    #- transformation routines removed due to unresolved issues
    #- H2O: subroutine 'zonal_average' replaced due to unresolved issues in
    #  transformation routines

    **************************************************************************

    echam5.2.02a_messy_0.9.1c (28 Jan 05)

    Changes by Andrea Pozzer:
    - AIRSEA:
      - transfer velocity in air for very soluble tracer

    **************************************************************************

    echam5.2.02a_messy_0.9.1b (12 Jan 05)

    Changes by Holger Tost:
    - SCAV 0.9.5:
      - update of all module parts, several bugfixes
      - forcheck messages removed
    - CVTRANS 0.9.3:
      - update of e5 routine (now mass conserving)
      - forchck messages removed
    - CLOUD 0.9.3:
      - forchck messages removed
    - CONVECT 0.9.3:
      - forchck messages removed

    Changes by Astrid Kerkweg:
    - MECCA:
      - ntrac_gp in call of mecca_mbl_sulfvi_* routines deleted
      - gas.eqn: testfac_Br2Cl, testfac_BrCl2, testfac_Br2Clm: 10^5 => 10^7
      - messy_mecca_func.f90: bugfix for k_3rd added
      - messy_mecca_e5.f90: call mecca_mbl_update_physc moved to the if (mbl)
	block
	i.e. after mr2c
    - ONLEM 0.9.2 and M7:
      - primary SO4mm emissions for aerosols and bugfixes for OC/BC number
	emission
    - SEDI:
      - messy_sedi.f90: limit for sed_step in sedi_1 introduced
      - messy_sedi_e5.f90: contnorest added
      - sedi.nml: default changed from 0 to 1
    - DRYDEP:
      - messy_drydep_e5.f90: contnorest added
    - OFFLEM:
      - offlem_mbl.nml: path changed to relative one
    - modules/mo_mpi.f90: SAVE added

    ***************************************************************************
    ###########################################################################

******************************************************************************

echam5.2.02a_messy_0.9.1 (17 Dec 04)

Changes by Patrick Joeckel and Rolf Sander:
- Makefile.in, messy/util/boxtest: new target 'boxtest'
- *_read_nml_i -> *_read_nml_cpl
- *_read_nml   -> *_read_nml_ctrl
- EMDEP:
  - init_* renamed to MESSy-conform names *_read_nml*
- ONLEM:
  - bugfix in box model: alake
- EQSAM:
  - bugfix in box model: in eqsam_main ipunit removed

Changes by Patrick Joeckel:
- mh-linux, mh-alpha, mh-aix: updates for IMK
- messy_main_tracer_e5.f90: bug fix

Changes by Holger Tost:
- messy_convect_e5.f90:
  - bug fix for conv_top
  - lrerun=.TRUE. = for conv_type

Changes by Patrick Joeckel (thanks to Astrid Kerkweg):
- messy_main_tracer_e5.f90: bug fix
- messy_onlem_e5.f90: bug fix
- messy_main_control_e5.f90: bug fix

Changes by Joachim Buchholz:
- dyn.f90: minor improvements
- hdiff.f90: kind parameter dp applied throughout module
- messy_main_transform.f90: kind parameter dp applied throughout module;
  declarations of unused variables removed; INTRINSIC statements; implicit type
  conversions made explicit in subroutine set_ilon_ilat; pointers initialised
  with NULL()
- mo_buffer_fft.f90: kind parameter dp applied throughout module; global SAVE
  statement added
- mo_diag_tendency.f90: vectorisation and parallelisation
- mo_hdiff.f90: kind parameter dp applied throughout module; global SAVE
  statement added
- mo_memory_g1b.f90: global SAVE statement added
- mo_memory_g2b.f90: global SAVE statement added
- mo_nudging_utils.f90: added dimension for pdprs, INTRINSIC statement
- mo_truncation.f90: kind parameter dp applied throughout module; global SAVE
  statement added; explicit type conversion
- physc.f90: array boundary nglon replaced by nproma
- radheat.f90: kind parameter dp applied throughout module; IMPLICIT NONE
  statement added, implicit variable declarations made explicit; removed
  USE mo_start_dataset
- sccd.f90: kind parameter dp applied throughout module
- scctp.f90: new dimension for variable pdprs
- si1.f90: new dimension for variables pdsgs, pdsga; minor improvements
- si2.f90: kind parameter dp applied throughout module; USE new variables from
  mo_diag_tendency
- tf1.f90: kind parameter dp applied throughout module; nproma as array boundary
  for ptfh1, ptfh2; variable nglon removed
- tf2.f90: new dimension for variable pdsga; minor improvements

Changes by Christoph Bruehl and Rolf Sander:
- new mecca_t_ma.nml for initialisation of middle atmosphere version
  with family concept, together with new input file including also H2
  and more CFCs.
- corresponding changes in other mecca_t*.nml namelist files

******************************************************************************

echam5.2.02a_messy_0.9v (10 Dec 04)

Changes by Holger Tost:
- vdiff.f90: correct start values for time integration scheme

Changes by Patrick Joeckel:
- messy_jval.f90: bug-fix in line 9086 (did not compile on IBM)
- new messy_check 08: only mo_memory_base for STREAM access is allowed
  in non-generic messy/e5/*.f90 files
- messy_main_tools_pre_e5.f90:
  - deleted
  - mz_column_loc moved to mo_column.f90
    This should later be replaced by locate_in_decomp
    (messy_main_tools_e5.f90)
- messy_main_mpi_e5.f90: new file for transport of MPI information
- messy_main_echam5_e5.f90: new file for transport of ECHAM5-specific
  functions/subroutines (should be as obsolete as possible !!!)
- messy/e5/*.f90:
  - changing "USE mo_*" to "USE messy_???" (part 2)
  - *_read_nml_e5 renamed to *_read_nml_i
  - jjrow renamed to zjrow

******************************************************************************

echam5.2.02a_messy_0.9u (8 Dec 04)

Changes by Patrick Joeckel and Rolf Sander:
- changing "USE mo_*" to "USE messy_main_data" (part 1:
  mo_decomposition, mo_control)

******************************************************************************

echam5.2.02a_messy_0.9t (8 Dec 04)

Changes by Patrick Joeckel:
- configure.in, configure: update
- mh-solaris: update
- xmessy: SunOS/strat10 (FUB)
- messy_main_tracer.f90: bugfix in get_tracer (thanks to Astrid Kerkweg)
- TREXP 0.9:
  - new submodel
- SCOUT 0.9.2:
  - messy_scout_e5.f90: use locate_in_decomp from messy_main_tools_e5.f90
- messy_main_tools_e5.f90:
  - new subroutine locate_in_decomp (from messy_scout_e5.f90)
  - new subroutine time_span_s
- messy_main_tools.f90:
  - new subroutine nn_index (moved from messy_scout.f90)
- messy/src/Makefile.in, messy/src/specific.mk
  F90ALL renamed to F90NOR8 to resolve naming conflict with Makefile.in
- generic submodels SWITCH, TOOLS (incl. PRE), TRACER,
  TRACER_FAMILY, messy_attila_tools_e5, NCREGRID:
  - make as much MESSy as possible
  - NOTE: messy_main_transform_e5.f90 NOT due to circular dependency
    with messy_main_tools_e5.f90
- H2O, LGTMIX, LNOX, PTRAC, TNUDGE, QBO, OFFLEM, TROPOP, D14CO, VISO,
  SCOUT, ATTILA, ADVECT:
  - make as much MESSy as possible
- DRADON 0.9.3:
  - make as much MESSy as possible
  - messy_main_control_e5.f90: bug-fix (CALL dradon_vdiff)
- messy_main_control_e5.f90:
  - new call of main_data_initialize
  - messy_main_tools_pre_e5 replaced by messy_main_tools_e5
  - dp et al. used frome messy_main_constants_mem
- messy_main_data_e5.f90:
  - new subroutine main_data_initialize
  - through-USE of most relevant ECHAM5 parameters
  - through-USE of fields from scan_buffer (except for tracer fields)
  - USE mo_memory_gl,   ONLY: q, xl, xi
- convert scan_buffer memory management to stream:
  - mo_sc1.f90: REAL, TARGET, ALLOCATABLE -> REAL(DP), POINTER :: => NULL()
  - mo_scan_buffer.f90:
    - xtte_scb and xtte_a_scb through-USEd from messy_main_tracer_mem_e5
    - SUBROUTINE m_bufsc1 obsolete -> removed
    - REAL, ALLOCATABLE :: -> REAL(DP), POINTER, DIMENSION :: => NULL()
    - SUBROUTINE m_bufscan:
      - new_stream 'scnbuf'
      - ALLOCATE -> add_stream_element
    - SUBROUTINE cleanup_scanbuffer: DEALLOCATE -> NULLIFY
    - SUBROUTINE m_buftrow: '=' -> '=>'
  - scanf1.f90: m_bufscan, m_bufsc1 deactivated
  - mo_memory_streams.f90: m_bufscan called before messy_init_memory
- messy_main_tracer_mem_e5.f90, messy_main_tracer_e5.f90:
  added pointers for tracer, tracer tendencies, etc. for usage in local loop
  NOW ALL TRACER FIELDS CAN BE USED DIRECTLY FROM messy_main_tracer_mem_e5:
  INSIDE LOCAL LOOP:
       USE messy_main_tracer_mem_e5, ONLY: qxtm1, qxt     ! (:,:,:) GP
       USE messy_main_tracer_mem_e5, ONLY: qxtm1_a, qxt_a ! (:,:) LG
  OUTSIDE LOCAL LOOP:
       USE messy_main_tracer_mem_e5, ONLY: xtm1, xt       ! (:,:,:,:) GP
       USE messy_main_tracer_mem_e5, ONLY: qxtm1_a, qxt_a ! (:,:) LG  !!!!
- messy_main_tools_e5.f90:
   - find_next_free_unit copied from mo_filename.f90
   - finish, message USEd from mo_exception
- messy_main_tools_pre in messy_main_tools:
  - messy_convect_e5.f90, messy_cloud_cover.f90, messy_cloud_ori.f90,
    messy_convect_tiedtke.f90:
    messy_main_tools_pre replaced by messy_main_tools
  - messy_main_control_e5.f90:
    messy_main_tools_pre_e5 replaced by messy_main_tools_e5
  - moved init_convect_tables from messy_main_tools_pre.f90 to
    messy_main_tools.f90
  - moved main_tools_initialize from messy_main_tools_pre_e5.f90 to
    messy_main_tools_e5.f90
  - messy_main_tools_pre.f90 removed
- ALL SUBMODELS: mo_doctor/nout removed
- messy_m7_e5.f90, messy_advect_e5.f90, messy_advect_diag_e5:
  - mo_linked_list replaced by mo_memory_base
- messy_cvtrans_e5.f90, messy_onlem_e5.f90,
  messy_emdep_mem_e5.f90, messy_main_tools_e5.f90:
  mo_kind replaced by messy_main_constants_mem
- messy_advect_e5.f90 messy_advect_e5.f90 messy_advect_e5.f90
  messy_advect_e5.f90 messy_advect_e5.f90 messy_attila_e5.f90
  messy_attila_e5.f90 messy_convect_e5.f90 messy_d14co_e5.f90
  messy_emdep_drydep_e5.f90 messy_emdep_emis_e5.f90
  messy_emdep_mem_e5.f90 messy_h2o_e5.f90 messy_lnox_e5.f90
  messy_main_tools_pre_e5.f90 messy_ncregrid_interface.f90
  messy_photo_e5.f90 messy_photo_e5.f90 messy_statatt_e5.f90
  messy_statatt_e5.f90 messy_tropop_e5.f90:
  - mo_constants replaced by messy_main_constatnts_mem
- messy_main_constants_mem.f90: new constants added
- intera/test removed from distribution
- messy_main_tracer_family_e5.f90: bug fix for tracer families after rerun
  (thanks to J. Buchholz and Ch. Bruehl)

Changes by Patrick Joeckel and Michael Traub:
- INTERA: spherepack removed due to license issues
  -> configure.in, configure, intera/Makefile.in, mh-linux.lf, mh-aix,
     mh-alpha adapted

******************************************************************************

echam5.2.02a_messy_0.9s (7 Dec 04)

Changes by Benedikt Steil:
- HETCHEM v01a:
  - new submodel
  - concerning the boxmodel, please read WARNINGS

Changes by Rolf Sander and Holger Tost:
- messy/util/efchk-sum: list also 2-digit errors/warnings
- include/physctl: TAB deleted

******************************************************************************

echam5.2.02a_messy_0.9r (7 Dec 04)

Changes by Holger Tost:
- CLOUD 0.9.2:
  - now works also without CONVECT, conv_type is always 0 without the
    stream element from CONVECT
  - start/end messages in init memory
- SCAV 0.9.4:
  - update of aerosol scavenging, bug fix in nucleation scavenging
  - update of revaporation of aerosols from precipitation
  - update of coupling of gas / aerosol scavenging and precipitation chemsitry
  - implementation of aerosol scavenging by snow/ice
  - new switches in nml: scav_nuc for nucleation scavenging, scav_imp for
    impaction scavenging, scav_l for liquid scavenging, scav_i for
    snow/ice scavenging
- CONVECT 0.9.2:
  - nullify statements eliminated due to variable declaration
  - start/end messages in init memory
  - new stream element for convective snow prodcution
  - adjustments due to scav in convect_tiedtke
- physc:
  - rtype deleted in the ifdef MESSy section after convection
    and moved into a ifndef section before cover
  - use statement for conv_type deleted
- rad_int:
  - zcdnc moved into a ifdef MESSy block to avoid crashes if cloud
    module is not used
- setphys:
  - output concerning convection moved into a ifndef MESSy block
- labrun:
  - changes considering log-file output of cover and cloud

******************************************************************************

echam5.2.02a_messy_0.9q (7 Dec 04)

Changes by Rolf Sander and Astrid Kerkweg:
- MECCA 0.9.13:
  - see mecca/CHANGELOG for details

******************************************************************************

echam5.2.02a_messy_0.9p (7 Dec 04)

Changes by Astrid Kerkweg:
- DRYDEP 0.9.02:
  - GM7 and EQSAM added
  - xtsurf => surf_para, z0m => drag
- SEDI 0.9.02:
  - GM7 and EQSAM added
  - output of initialized order (sedi_initialize)
  - correction term for volumn integration changed to
    correction term for radius +  Slinn factor
- ONLEM (0.9.1):
  - xtsurf => surf_para
  - unit for OC/BC numberflux added
  - seasalt emission slf + alake >= 0.99 set to 1
    (= non sea fraction)
- M7 (0.9.02):
  - bugfix in vdiff for dust number calculation
  - calculation for aerosol density changed
  - bugfix in emissions tendency calculation

******************************************************************************

echam5.2.02a_messy_0.9o (7 Dec 04)

Changes by Andrea Pozzer:
- AIRSEA 0.9.02:
  - easier definition of new tracers
  - bubbles effect introduced by namelist
- JVAL 0.9.3:
  - for CH3COCH3 new quantum yield (on_line calculations)

Changes by Rolf Sander:
- JVAL 0.9.3:
  - renamed species PAA, ClNO3, CFCl3, and CF2Cl2 also in jval box model
  - Portland Group's Fortran compiler added to Makefile for jval box model

******************************************************************************

echam5.2.02a_messy_0.9n (7 Dec 04)

Changes by Swen Metzger:
- EQSAM 09:
  - new submodel
  - new nml files:
    - messy/nml/onlem_eqsam_min.nml
    - messy/nml/offlem_eqsam_min.nml
  - new input files in /modeldata:
    - /modeldata/ECHAM5/messy/raw/eqsam/README
    - /modeldata/ECHAM5/messy/raw/eqsam/TM3_p07a_1997tavg.nc
    - /modeldata/ECHAM5/messy/raw/eqsam/TM3_p07a_1997tavg.nml
  - added to WARNINGS
- GM7 0.9:
  - new submodel
  - messy/src/specific.mk
  - added to WARNINGS
- M7:
  - boxmodel updated

******************************************************************************

echam5.2.02a_messy_0.9m (7 Dec 04)

Changes by Joachim Buchholz:
- PSC 0.9+20041202:
  - box model: file psc.nml replaced by link to ../../messy/nml/psc.nml
  - gas.eqn: PSC reaction #PSC422 activated
  - messy_psc_e5.f90: bugfixes regarding undefined values in N_solid and A_l;
    longname for khet5 corrected
  - messy_psc.f90: default value for maxKhet now 1.0e-13_dp
  - psc.nml: default for maxKhet now 1.0e-13, default for LCalcChem now .true.

******************************************************************************

echam5.2.02a_messy_0.9l (24 Nov 04)

Changes by Christian Kurz:
- mh-linux.lf: NETCDFROOT at DLR
- tracer.nml: Cl-Family as example
- tnudge.nml: Cl-Family as example
- xmessy:
  - linux host lx001 at DLR
  - new variable INPUTDIR_ECHAM5_SPEC (default = $INI_HRES) for
    user-defined ECHAM5 initialisation files

Changes by Joachim Buchholz:
- TRACER_TFAMILY 0.9.2:
  - messy_main_tracer_family_e5.f90: use of tracer-weights in f2t- and
    t2f-conversions

Changes by Patrick Joeckel:
- messy/src/specifik.mk: compilation of jval without -qhot
- sfmakedep.pl.in, Makefile.in:
  included dependency on *.mod-files in messy/src (--modsearch option)
- zip.sh: added -x '*/intera/test/output/?*'
- configure.in, configure, Makefile.in, mh-linux.lf, mh-alpha, mh-aix:
  updated for intera
- intera is now in distribution (subdirectory intera)
- /soft/ECHAM5/sbin: mprenc and mprenc_all for automatic PRE-REGRIDDING
- WARNINGS: updated
- xmessy:
  - copynml() now takes care of required modifications in
    REGRID-namelists in case of USE_PREREGRID=.TRUE.:
    - i_latr, i_lonr deleted
    - :IXF converted to :INT
  - user generated END file re-enabled
- TRACER_TFAMILY 0.9.2:
  - read tracer-weights from namelist
- messy_tropop.f90: new reference
- messy_advect_e5.f90:
  - bug fix if number of tracers < number of PEs (thanks to Holger Tost)
  - 0 replaced by OFF in new_tracer
- messy_main_transform_e5.f90: additional check
- mh-linux.g: bug fix
- xmessy: MP_TASK_AFFINITY settings for AIX according to RZG information

Changes by Astrid Kerkweg and Rolf Sander:
- files updated in /modeldata:
  - onlem
  - drydep

******************************************************************************

echam5.2.02a_messy_0.9k (23 Nov 04)

Changes by Christoph Bruehl:
- (not documented)

******************************************************************************

echam5.2.02a_messy_0.9j (22 Nov 04)

Changes by Andrea Pozzer:
- AIRSEA 0.9-0.1:
  - new submodel

Changes by Rolf Sander:
- MECCA 0.9.12:
  - see mecca/CHANGELOG for details
- JVAL 0.9.2:
  - some species renamed for consistency with MECCA:
    PAH      -> PAA    (changed in JVAL)
    ClONO2   -> ClNO3  (changed in JVAL)
    CFC11    -> CFCl3  (changed in JVAL)
    CFC12    -> CF2Cl2 (changed in JVAL)
    ALD  -> CH3CHO     (changed in MECCA)
    ACET -> CH3COCH3   (changed in MECCA)
    MGLO -> CH3COCHO   (changed in MECCA)
  - with lforce=T and l_heating=T, the JVAL submodel output is binary
    identical to that from PHOTO (except for renamed variables)
  - messy_jval_e5.f90:
    - INTRINSIC declarations added
    - CALL p_bcast for lookup table variables deleted
  - messy_jval.f90:
    - attribute PUBLIC for lookup table variables deleted
    - lookup table variables sorted by species, not intervals
    - more data turned from variables into PARAMETERs
    - variables renamed consistent with Landgraf & Crutzen (1998)
    - unused variables deleted
  - box model: subroutine parameter deleted in CALL aerosol_data
- Makefile.in, Makefile: messy/src/*.inc, messy/e5/*.inc,
  messy/mecca/tracdef.tex, and messy/mecca/*.spc added to TAGS
- messy_main_data_e5.f90: meaning and units of cfncl, cfncw, cfnci added
  according to email from lg

Changes by Rolf Sander and Holger Tost:
- MECCA 0.9.12 and SCAV 0.9.3: kpp variables SO32m and SO42m renamed to
  SO3mm and SO4mm, respectively in these files: aqueous.eqn,
  messy_mecca_mbl_e5.f90, messy_mecca_kpp_g_mem.f90,
  messy_scav_kpp_g_mem.f90, scav_mbl.nml, scav.nml, messy_scav_e5.f90,
  messy_scav_kpp.f90, messy_scav_inter.f90, messy_scav_auto_inter.f90,
  tracer.nml, scout_mbl.nml

Changes by Laurens Ganzeveld:
- new readme file: /modeldata/ECHAM5/messy/raw/emdep/README

******************************************************************************

echam5.2.02a_messy_0.9i (12 Nov 04)

Changes by Holger Tost:
- CLOUD: bug-fixes for binary identical results
- specifik.mk: F90R8 for CLOUD (for binary identical results)

******************************************************************************

echam5.2.02a_messy_0.9h (11 Nov 04)

Changes by Rolf Sander:
- JVAL 0.9.1:
  - with lforce=T and l_heating=T, the JVAL submodel output is binary
    identical to that from PHOTO
  - temperature profile in box model corrected (bug found by CB)
  - lookup table and aerosol information included in code instead of
    from external file
  - inverted logic in nml switch: l_skip_lg instead of l_lg
  - lps, jval_gp, and jval_lg moved from e5 into core
  - photolysis-rate specific switches lp instead of tracer specific
    switches lj in core
  - new Makefile for box model
- new Makefile for MECCA box model

******************************************************************************

echam5.2.02a_messy_0.9g (11 Nov 04)

Changes by Patrick Joeckel:
- config/mh-*: case-constructs for host-specific settings
- PTRAC 0.9.1, DRADON 0.9.2, D14CO 0.9.1, LGTMIX 0.9.1, TNUDGE 0.9.1,
  QBO 0.9.1, TRACER 0.9.1, LNOX 0.9.1, ADVECT 0.9.1, ONLEM
  0.9.1(NO-pulsing !?):
  consistent use of time_step_len for initial cond. and integration
  (use of delta_time in CONVECT, DRYEP, ONLEM, SEDI is OK for accumulated
  fluxes)

Changes by Patrick Joeckel and Holger Tost:
- gmass, grvol moved from physc.f90 to messy_main_data.f90 (global_start)

Changes by Patrick Joeckel and Joachim Buchholz:
- TRACER_FAMILY 0.9.1: change of concept and bug-fixes

Changes by Joachim Buchholz:
- PSC 0.9+20041111:
  - messy_psc.f90: former parameters minKhet, maxKhet, r_min, N_solid_max
    now namelist variables; improved comments; major changes in
    function mz_psc_sed
  - messy_psc_e5.f90: additional optional parameters for calls to
    new_tracer; minor changes
  - psc.nml: new namelist variables in namelist CTRL

******************************************************************************

echam5.2.02a_messy_0.9f (10 Nov 04)

Changes by Holger Tost:
- CVTRANS 0.9.1:
  - bug fix of undefined status variable (messy_cvtrans_e5)
  - exchanged comparison of two reals with .eq.
- SCAV 0.9.2:
  - bug fixes for mass conservation
  - some changes for aerosol output field species for output can be
    specified in the out_string_aer in the nml
  - changes of coupling of parameters from cloud module
  - coupling of photolysis rates only gives warning and no longer a
    finish (in case of no stream element found, no photolysis will be
    calculated in droplets
  - bug fix for nucleation aerosol scavenging, now working fine
- CONVECT 0.9.1:
  - some elements of mo_diag_tendency now in convect_e5
  - lookup tables now from messy_main_tools
- CLOUD 0.9.1:
  - new submodel for the calculation of clouds and cloud cover
    changes in the ususal modules
  - gives binary identical results to original ECHAM routines but is
    self consistent
- messy_main_tools_pre_e5.f90:
  - main_tools_initialize for lookup tables
- messy_main_tools_pre.f90:
  - lookup tables for convect, cloud, cover moved here
  - are initialised in main_tool_initialize
- physc:
  - changes due to the new cloud routines, diag_tendency
  - new entry point: messy_radiation
- messy_main_control_e5.f90:
  - new entry point: messy_radiation
- main_data_e5:
  - stream elements from vdiff
  - deleting of messy_scav - stream
- src/iniphy.f90: CALL cuparam and CALL sucloud only ifndef MESSY

******************************************************************************

echam5.2.02a_messy_0.9e (4 Nov 04)

Changes by Rolf Sander:
- JVAL: $(F90R8) added in main.mk for box model

Changes by Holger Tost:
- messy_main_data_e5.f90: 3 new stream elements
- vdiff.f90, physc.f90
  - (some) local variables converted to stream-pointers
  - MESSY-specific parameters for subroutine calls

Changes by Patrick Joeckel:
- messy_main_tracer_family_e5.f90: changes due to forcheck analysis
- mh-solaris: new for SunOS
- configure.in, configure, mh-*: improved checks for MPI-library
- PTRAC: all characteristics now for each tracer individually
- messy_main_data_e5.f90, physc.f90, mo_tmp_buffer.f90:
  press_3d and pressi_3d are now calculated in main_data_global_start
  and therefore available earlier
- TRACER:
   - new CPL-switch for global tracer mass diagnostic
   - global tracer mass diagnostic
- edgar2nc: update
- config/mh-linux.lf: old netCDF version for iodine due to
  problems with gcc version
- mo_tmp_buffer.f90: some ALLOCATABLE arrays converted to POINTER
- messy_main_data_e5.f90: mark converted / unconvertible local variables
- radheat.f90, scan1.f90, dyn.f90, physc.f90:
  (some) local variables converted to stream-pointers
- mo_exception.f90, xmessy: finish for individual PEs (END)
- netcdf90/*.f90: updated to netCDF version 3.6.0b6
- Makefile.in, messy/util/messy_check_all: option verbose

Changes by Astrid Kerkweg:
- DRYDEP
   - introduction of diagnostic flux-streams for seasalt
   - ptrac as additional aerosol module included
   - write output into drydep stream (no more into aerosol streams)
   - update dry deposition flux calculation (regard actual xtems value
     and not only xtm1 (xtp1 respectively))
- SEDI
   - introduction of diagnostic flux-streams
   - namelist add
   - include additional sedimentation scheme (1. order)
- M7 update
- ONLEM: mv pls into case 'NO'
- MECCA-MBL:
  - calculate lwc from difference of wetradius and dry radius
    instead of wetradius, only
  - get maximum height for chemistry calculation from tropop

Changes by Patrick Joeckel and Astrid Kerkweg:
- SEDI:
  - update 0-order scheme
  - sedi-stream with velocities for all aerosol models and time integral
    of sedimentation loss
  - PTRAC as new pseudo-aerosol model
  - cleanup

Changes by Rolf Sander:
- xmecca: bugfix regarding $kppversion

Changes by Astrid Kerkweg and Rolf Sander:
- m7 box model: Makefile restructured

******************************************************************************

echam5.2.02a_messy_0.9d (25 Oct 04)

Changes by Patrick Joeckel:
- config/mh-*, box models: new netcdf library 3.6.0b6
- messy_main_control_e5.f90, messy_main_switch_e5.90:
  main_initialize renamed to messy_main_switch_initialize
- messy_check_07: testing for STOP statements
- TRACER_FAMILY:
  - bug fix (reset type to FAMILY for families); (thanks to Joachim Buchholz)
  - diagnostic output of tendencies added
- offlem.nml: bug-fixes (FILE=...); (thanks to Joachim Buchholz)
- DRADON: GP-emission method 2 added
- ONLEM, OFFLEM: use constants from messy_main_constants_mem.f90
- new box model: edgar2nc
- messy_main_tracer.f90: bug-fix (thank's to Swen Metzger)
- NCREGRID: update stand-allone and bug-fix in specific.mk
- xmessy:
  - -p option for cp commands deleted; old files on scratch-systems
    will be removed during the model simulation ...!
  - AIX: MP_TASK_AFFINITY=MCM
	 export MP_TASK_AFFINITY
  - allow NOMPI for grand and octopus (untested)

Changes by Michael Traub:
- messy_statatt_e5.f90: NINT(NISO_INDEX(il,jl))

Changes by Kleareti Tourpali:
- xmessy, mh-linux.lf: monsoon.phys.auth.gr added
- messy_main_data_e5.f90, radheat.f90: shortwave flux flxs and thermal
  flux flxt added
- viso.nml: two tests added (only as comments)

Changes by Rolf Sander:
- MECCA version 0.9.12:
  - mecca/boxmodel/Makefile: restructured
  - mecca/latex/literat.bib: reduced to those papers that are needed (with
    extractbib)
  - xmecca: test if correct kpp version and $KPP_HOME are used
- messy/util/validate: gmake validate does not check for changes in
  CHANGELOG anymore, because old CHANGELOG files are not readable anymore
- messy/util/validate: list also 2-digit errors/warnings
- messy/nml/tracer.nml: rename of CH3OO_## -> CH3O2_##
- xecham: hydra deleted

******************************************************************************

echam5.2.02a_messy_0.9c (21 Oct 04)

Changes by Holger Tost:
- CVTRANS: removal of stop statements from core routines, exchanged with
  status flag and CALL FINISH in CVTRANS_E5
- CONVECT:
  - cleaning up of the code in CONVECT_E5 (using pointers instead of
    copying variables
  - new scheme BECHTOLD implemented (new files:
    messy_convect_bechtold.f90, messy_convect_bechtold_deep.f90,
    messy_convect_bechtold_param.f90, messy_convect_bechtold_shal.f90,
    messy_convect_mem.f90),  changes in messy_convect_e5,
    messy_convect.f90, convect.nml
    needs further testing by now, not for MESSY_1.0
- SCAV:
  - major revision of all routines(now better mass conserving)
  - coupling of aerosol and gasphase scavenging enabled and accessible
    via namelist (degree of coupling)
  - new ouput choice: basic output or choose a species of KPP mechanism
    and enter it into the string in the namelist and the wet deposition flux
    (snapshot and overall sum) is written in the output
  - new files: messy_scav_inter.f90 , messy_scav_auto_inter.f90
    containing routines that are more or less e5 routines but must be
    in source because of link to convective scav in scav_cvdep called
    by tiedtke_cuflx
  - messy_scav_aqchem.f90 : deleted, routine is in messy_scav.f90
- xmecca: addition of create_scav_auto, a script that makes the
  automatic routine for scav_auto_inter, and call of tracmvscav.awk
  two new files in mecca/scav dir: create_scav_auto and tracmvscav.awk
  (needed for automatic code in the scav routines)
- aqueous.spc: new species HIO3_##, rename of CH3OO_## -> CH3O2_## to be
  more consistent
- aqueous.eqn: rename of CH3OO_## -> CH3O2_## to be more consistent
- xmessy: copying of namelists now with new timestamp
- messy_main_switch_e5: elimintation of requirement If use SCAV and not
  MECCA then finish
- messy/src/specific.mk: scav* deleted

Changes by Michael Traub:
- messy_statatt.f90: WRITE UBOUND deleted

Changes by Rolf Sander:
- bug fix in messy_check_04
- messy_mecca_mbl_e5.f90: KPP_CH3OO_## renamed to KPP_CH3O2_##

******************************************************************************

echam5.2.02a_messy_0.9b (14 Oct 04)

Changes by Joachim Buchholz and Christian Kurz:
- mo_cumulus_flux.f90: bug fix for vertical resolution generalization

Changes by Astrid Kerkweg and Patrick Joeckel:
- nc2mc, nc2dxmc: update (-x)
- EMDEP, LNOX, MECCA_MBL, messy_main_tools.f90:
  consistent use of modstr and submodstr
- ONLEM, xmessy: namelists in nml/onlem subdirectory

Changes by Patrick Joeckel:
- TROPOP: bug-fix in calculation of boundary layer level index
- noem_3D.nc/.nml is new in /modeldata/.../offlem; offlem.nml
- TNUDGE: nudging of tracers (1st) and families (2nd)
- Makefile.in: messy/nml/*/*.nml added to etags target
- OFFLEM, xmessy: namelists in nml/offlem subdirectory
- tnudge.nml: correction in stream-name
- messy_main_tools.f90: optional parameter submodstr removed

******************************************************************************

echam5.2.02a_messy_0.9 (4 Oct 04)

Changes by Rolf Sander:
- mecca/boxmodel/main.mk: bug fix in target link:

Changes by Patrick Joeckel:
- netcdf90: updated with netcdf-3.5.1b11+
- NCREGRID v1.3b
- messy/box/ncregrid/specific.mk new
- messy/box/ncregrid/src/Makefile includes ../specific.mk
- messy_attila.f90: '!CDIR NOVECTOR' in attila_count_cells for SX6
- Makefile.in: improved
- DRADON: bug-fix
- xmessy:
  - bc-c1: also for tests in foreground
  - hydra/SCORE removed
- all box-models: unified install, clean, distclean targets
- MECCA, JVAL:
  - Makefile.e: cp -pf instead of mv for executable
  - automatic switch of ASCII/netCDF output for box-model
- MECCA, JVAL, ONLEM, M7 (main.mk): F90FLAGS for PROG-target added ...
- JVAL: box model included for 'gmake box'
- WARNINGS updated
- configure.in: echam5.2.02a_messy0.9
- messy/util/sfmakedepend.pl.in: exclude F*.f* files (taken from Swen Metzger)

******************************************************************************

echam5.2.02a_messy_0.1zl (29 Sep 04)

Changes by Rolf Sander:
- messy_mecca_e5.f90: calculation of H2O from humidity corrected
  by a factor of (1.-sphum)
- messy_onlem_e5.f90: bug fix
- emdep.nml: bug fix (found by SW)

******************************************************************************

echam5.2.02a_messy_0.1zk (29 Sep 04)

Changes by Rolf Sander and Patrick Joeckel:
- JVAL: works also for Lagrangian tracers

Changes by Swen Metzger:
- messy/src/specific.mk, specific.mk: Darwin special
- xmessy: ulimits for Darwin changed

Changes by Rolf Sander:
- Makefile.in: m7 box model added

Changes by Patrick Joeckel:
- xmessy: update for USE_PREREGRID_MESSY
- TROPOP: search of PV-tropopause can now be limited to vertical
  pressure range
- new submodel QBO (from Marco Giorgetta and Maarten van Aalst)
- onlem.nml: bug fix (found by AK)

******************************************************************************

echam5.2.02a_messy_0.1zj (28 Sep 04)

Changes by Michael Traub and Rolf Sander:
- messy_statatt_e5.f90: obsolete, duplicate pointer statatt removed
  (found by SW)

Changes by Rolf Sander:
- cleanup of /modeldata:
  - moved to ECHAM5_trash/:
    - photo/haloe_O3.nc, photo/misc/haloe*.dat
    - /modeldata/ECHAM5/messy/raw/emis --> old-emis
    - /modeldata/echam5_ini --> old-echam5_ini
    - /modeldata/ECHAM5/aerosol --> old-aerosol
  - moved to ECHAM5_preliminary:
    - /modeldata/ECHAM5/messy/raw/eqsam
    - /modeldata/ECHAM5/messy/T21
    - /modeldata/ECHAM5/messy/T42
  - files made accessible: "chmod -R ug+rw *"
  - duplicate identical files replaced by links in
    /modeldata/ECHAM5/messy/raw/emdep
- messy_main_tools_pre.f90 is not used and therefore removed
- messy_main_data_e5.f90: "lpost=lpost_messy" added to
  add_stream_reference

******************************************************************************

echam5.2.02a_messy_0.1zi (26 Sep 04)

Changes by Rolf Sander:
- new submodel JVAL (based on photo)
  - number of pbl layers for iaer is now a parameter of call photolysis
  - with lforce=T and l_heating=T, the JVAL submodel output is binary
    identical to that from PHOTO
- PHOTO, JVAL, MECCA: all rj_* renamed to j_*
- modver of all submodels set to 0.9 (except for messy_main_constants_mem.f90)

******************************************************************************

echam5.2.02a_messy_0.1zh (25 Sep 04)

Changes by Swen Metzger and Laurens Ganzeveld:
- messy_emdep_emis_e5.f90, emdep.nml: use the right latitude parameter
  to calculate fertilizer seasonality, see parameter latitude, that
  replaces the use of jrow+klat), the addition of some of M7 emissions
  switches explicitly in the namelist,+ the removal of all the code to
  read in offline emissions.
- submodels gm7 and eqsam removed
- scale/sedsolve_scale: deal with possibility of a not-proper defined PATH
- mh-mac: changed
- emdep and m7 box models
- emdep: include time dependent switch for emissions (e.g. after 1 day)

Changes by Rolf Sander and Patrick Joeckel:
- messy_main_tracer_mem_e5.f90, nml/scout*.nml: tracer stream names
  changed to "tracer_gp" and "tracer_lg"

******************************************************************************

echam5.2.02a_messy_0.1zg (24 Sep 04)

Changes by Astrid Kerkweg and Patrick Joeckel:
- messy_attila_tools.f90, DRADON: lagrangian-emission methods 1-4
- SEDI: bug-fix
- OFFLEM:
  - bug fixes for lagrangian emissions
  - /modeldata/ECHAM5/messy/raw/offlem/*.nml: infile-path corrected !
- ONLEM: update (mainly including lagrangian scheme)

Changes by Rolf Sander:
- onlem box model:
  - sea-salt emissions (previously in aeroem) added
  - box model now has its own nml file
- aeroem box model: deleted
- xecham: submit to queue on grand with "g" (instead of "o")

******************************************************************************

echam5.2.02a_messy_0.1zf (20 Sep 04)

Changes by Astrid Kerkweg and Patrick Joeckel:
- submodel TFAMILY converted to generic sub-submodel TRACER_FAMILY
- messy_check_all: loop over all submodels and messy_check_06 incorporated

******************************************************************************

echam5.2.02a_messy_0.1ze (20 Sep 04)

Changes by Rolf Sander:
- submodel aeroem deleted
- submodel emis renamed to offlem

Changes by Astrid Kerkweg:
- messy_onlem/messy_aeroem*:
  - combination of these submodels to one
  - NO/O3ice/dust/OC/BC/VOC/CH4 emissions added
  - some generalizing work to make the extension for lagrangian tracers easier.
- messy_m7_e5.f90:
  - init_coupling -> improved output
  - enable OC/BC emission calculation
  - enable DUST  emission calculation
- messy_mecca_e5.f90:
  - .not. lskipkpp added to requirements
  - names of stream containing reaction rates now read in from CPL namelist
- messy_mecca_mbl*.f90:
  - lhrate now read in as CTRL namelist
  - deleted all l_scale_aerosol code

Changes by Joachim Buchholz:
- messy_psc_e5.f90: bugfix (HCl changed to HNO3)

******************************************************************************

the next version will be:
echam5.2.02a_messy_0.1zd (16 Sep 04)

Changes by Rolf Sander:
- mo_linked_list.90, mo_grib.f90, mo_memory_base.f90: names of output
  streams can now be up to 15 characters long in total (up to 7
  characters for the name of the submodel, plus optionally an underscore
  and up to 7 characters for further info, e.g. the name of the
  subsubmodel)
- messy_attila_e5.f90, messy_convect_e5.f90, messy_cvtrans_e5.f90,
  messy_emdep_emis_e5.f90, messy_m7_e5.f90, messy_mecca_e5.f90,
  messy_mecca_mbl_e5.f90, messy_photo_e5.f90, messy_psc_e5.f90,
  messy_scav_e5.f90, messy_scout_e5.f90, messy_statatt_e5.f90,
  messy_viso_e5.f90: submodels adjusted to the correct stream names
- messy_main_data_e5.f90, scav*.nml: phy_scv renamed to messy_scav
- modstr in MECCA moved from gas.eqn to messy_mecca.f90

******************************************************************************

the next version will be:
echam5.2.02a_messy_0.1zc (16 Sep 04)

Changes by Joachim Buchholz:
- psc.nml: new namelist switches NatFormThreshold and LAdvectIceNat; three
  input files replaced by one for H2SO4
- messy_main_control_e5.f90: subroutine call psc_vdiff replaced by subroutine
  call psc_local_start; new subroutine call psc_local_end
- messy_psc.f90: function mz_psc_xH2SO4 removed; subroutine mz_psc_SedStep
  replaced by function mz_psc_SedStep; new functions mz_psc_vel, mz_psc_liq_H2O,
  mz_psc_liq_HCl, mz_psc_liq_HOCl, mz_psc_liq_HOBr; functions mz_psc_phase,
  mz_psc_ice_H2O, mz_psc_nat_HNO3, mz_psc_N_solid, mz_psc_r_solid,
  mz_psc_liq_bH2SO4, mz_psc_liq_bHNO3, mz_psc_lq_partHBr, mz_psc_liq_partHNO3,
  mz_psc_het_liq24, mz_psc_het_liq25, mz_psc_het_liq30, mz_psc_dim_liquid,
  mz_psc_surface_liquid modified
- messy_psc_box.f90: updates following the changes in messy_psc.f90
- messy_psc_e5.f90: updates following the changes in messy_psc.f90; bugfixes;
  tracers HCl_ptcl, HOCl_ptcl, HBr_ptcl, HOBr_ptcl abolished; H2SO4 is now
  directly read in from input file; new subroutine psc_local_end; new stream
  elements A_liq and r_SurfMed

******************************************************************************

echam5.2.02a_messy_0.1zb (31 Aug 04)

Changes by Patrick Joeckel:
- messy_advect_diag_e5.f90: bug fix for namelist read of CPL_DIAG
  (thank's to Holger Tost)
- WARNINGS update
- nc2dxmc update
- nc2mc update (includes now Linux-specific post-processing; mc4linux
  is therefeore obsolete)
- messy_statatt_e5.f90: bug fix; t_stream used twice; compilation crashed on
  Compaq/Alpha
- xmessy: measure for Linux and OSF1

Changes by Rolf Sander:
- mecca/zipmecca tests for boxmodel/sfmakedepend and not for
  ../util/sfmakedepend.pl anymore
- xmecca uses new kpp version 1.1-f90-alpha12 (with correct precision
  inside MAX() function)

******************************************************************************

echam5.2.02a_messy_0.1za (19 Aug 04)

Changes by Rolf Sander:
- aqueous.eqn: bugfix: test_Br2m renamed to testfac_Br2m
- GPL added to all mecca files
- messy_main_data_e5.f90: lrerun=.TRUE. added for wind10_2d because it
  is calculated AFTER subroutine messy_vdiff is called
- aqueous.eqn: "see note" added to LaTeX table for all heterogeneous reactions
- mecca box model: default is ascii output in boxmodel/main.mk
- messy_mecca_box.f90:
  - model start at day 80 (like MOCCA)
  - phsyc output file renamed to messy
  - initial values 0 pmol/mol NO and 40 pmol/mol HCl (like MOCCA)
- xmecca: chemistry selections 23 and 28 changed

******************************************************************************

echam5.2.02a_messy_0.1y (12 Aug 04)

Changes by Joachim Buchholz:
- boxmodel psc added in directory messy/box/psc and in Makefile.in
- messy_main_control_e5.f90: call of psc_init_coupling removed
- messy_psc.f90: bugfixes; function psc_read_nml new; functions T_sat, p_sat,
  density1, mz_psc_gas_H2O, mz_psc_gas_HNO3 removed
- messy_psc_e5.f90: bugfixes; new namelist CTRL; subroutine psc_init_coupling
  and use of stream tropop removed; minor improvements
- psc.nml: namelist CTRL with variable LHomNucNAT new; variables TropopStream
  and TropopIndex removed from namelist CPL

Changes by Michael Traub:
- messy/util/inifiles.sh: sh-script for making ECHAM5 initial files with
  intera (currently only OSF1)
 - ATTILA : minor change in the traject mode
 - STATATT: bug fixes and cleaned up
 - messy_main_data_e5: units for zcdh_2d and zsenkf_2d added

Changes by Patrick Joeckel:
- xmessy: memory-measure mode on psi (thank's to Joachim Buchholz)
- messy_attila_tools_e5.f90: bug fixes for removing severe memory leaks
- config/mh-linux, config/mh-aix: update of NETCDFROOT at RZG
- mo_netcdfstream.f90: bug-fix to work correctly with no_cycles > 0
- messy_convect_tiedtke_param.f90: T10
- nc2dxmc: new script for generating multi-netCDF descriptor files for the
  new openDX module mc4dx
- nc2mc update
- xmessy: handling of initialization files; start date
  ($START_MONTH can be used in RGTEVENT-namelists for CYCLIC monthly events!)
- attila: T10
- D14CO: lagrange
- messy_tropop_e5.f90: bug-fix for PV-tropopause
- mo_memory_base.f90: get_stream_element_info with status flag
- configure.in, configure: update
- mo_time_control.f90, setdyn.f90, sudif.f90, mo_cumulus_flux.f90,
  mo_cloud.f90, rad_int.f90, mo_ssodrag.f90:
  added T10 for efficient code development
- /modeldata/ECHAM5/echam5_ini/echam5.2.02a/T10

Changes by Astrid Kerkweg:
- mo_io.f90: bugfix: fileID only on I/O-pe
	     bugfix: ALLOCATE x1,x2 only on I/O-pe
- aqueous.eqn: remove Sc-label for EQ73-75
- tracdef.tex: add drydeposition for some tracers
- xmecca: add new option for scav+halogens(MBL)
- mecca_mbl_base.f90: accelerate some A/B-EQ
- messy_scav.f90: add some IF-statements for some tracers
		  in concentration calculation
- xmessy: scav_mbl.nml added
- messy_drydep_e5.f90: diagnostic output of drydep-fluxes enabled
- messy_sedi_e5.f90: bugfix for tendency calculation
- messy_main_control_e5.f90: scav_physc and sedi_physc before mecca_physc
- messy_mecca_mbl_e5.f90: enable sea salt ionemissions without clm
- mo_memory_base.f90: maxstr increased

Changes by Rolf Sander:
- messy_mecca_box.f90: bug fixes:
  - CALL initialize_kpp_variables without parameters
  - same lengths for all strings in CALL open_nc_file for hrate

******************************************************************************

echam5.2.02a_messy_0.1x (15 July 04)

Changes by Christoph Bruehl:
- PHOTO: UV heating rates by O2 and O3 implemented

Changes by Patrick Joeckel:
- D14CO: completely revised
- labrun.f90: update of diagnostic output for MESSy
- LGTMIX: update; now flexible mixing layer definition, including
	  constant mixing fraction
- Makefile.in: some "-rm" replaced by "rm"

******************************************************************************

echam5.2.02a_messy_0.1w (15 July 04)

Changes by Rolf Sander:
- xmecca: integrator (ros2, ros3,...) is determined earlier and "scale"
  is only offered for ros2-lin and ros2-log
- mecca box model: changed links (mecca/boxmodel is now the real
  directory and box/mecca is just a link to it)
- eqn2tex.awk: no error message if reference for back reaction of
  equilibrium is missing (info is stored with the forward reaction)

Changes by Holger Tost and Rolf Sander:
- xecham: new option to run xmecca twice (for mecca and scav)
- xmecca: H2O_l (and other *_l) are now always in species file (not only
  for scav)

Changes by Holger Tost:
- SCAV module:
  - several bugfixes, concerning liquid water content and pH calculation
  - cleaning up of the code (elimination of unused variables)
  - better documentation of the code
  - renaming of messy_scav_liqcoeff.f90 to messy_scav_base.f90
  - another option for transfer reaction rates following Schwartz
    (changes in messy_scav_liqcoeff.f90, namelist, read_nml)
  - correct and consistent use of the NSCAV switch (required changes in
    tracdef.tex), moving of scav - parameter - setting from
    scav_new_tracer to scav_init_coupling
  - scavenging of acetone enabled (changes in aqueous.eqn, aqueous.spc)
  - aerosol scavenging rewritten:
    (formerly in messy_scav.f90 now in new file: messy_scav_aer.f90)
    - option 1: constant scav_values as taken from P.Stier
    - option 2: radius dependent online calculated parameters for
    impaction scavenging (from literature) and nucleation scavenging
    (estimated from observations from literature)
- CONVECT, CVTRANS modules: conv_cover renamed to cv_cover

******************************************************************************

echam5.2.02a_messy_0.1v (14 Jul 04)

Changes by Laurens Ganzeveld:
- messy_emdep_xtsurf.f90: introduced the use of the water aerodynamic resistance
  and friction velocity to calculate the aerosol dry deposition velocity over
  water surfaces. This has been done to avoid the calculation of large values
  along the coastline.
- Some of the defined constants (zAS, zAL, collecter size) have been changed.
- messy_emdep_emis.f90: some changes in the calculation of the pulse and its
  effect on the NO emissions dependent on the defined switch
- in the subroutine emdep_emis_vdiff the online emission flux (emisflux) is
  reset to zero. This must be done to avoid the accumulation of sea-salt (and
  other) emissions.
- the switch ndrydep, which was normally set to 2 for using the 'big leaf' dry
  deposition code is now default set to ON/OFF.
- Not only for SO2, bit also for NO and CO, 3-D emission input files are
  available to distribute the emissions over the lower two levels. The surface
  emissions of NOx are now in the form of NO and not NO2. However, the
  aircraft emissions are now in the form of NO2 and not anymore in the form of
  NO. This is done since both emissions cannot be included yet in the same
  form. This requires some restructuring of the code to read in the off-line
  emissions.

Changes by Astrid Kerkweg:
- drydep and tracdef.tex: updated to ndrydep is ON/OFF instead of 0/1/2
- mecca(_mbl): scaling of aerosol tracer included
- mecca: calculate tendencies from zmr at the very beginning (before all changes
	in mecca(_mbl)
- mecca_mbl: KPP_Nap_* changed to idt_Nap_*

******************************************************************************

echam5.2.02a_messy_0.1u (7 Jul 04)

Changes by Astrid Kerkweg and Rolf Sander:
- aeroem: slm replaced by slf
- mecca:
 - initialize_kpp_variables does not define dt anymore
 - kpp_integrate defines dt every time step
 - lnox: stream diagLNOx has contnorest=.true.

Changes by Astrid Kerkweg:
- xmecca: options for mbl chemistry added
- messy_mecca_mbl_base.f90 and mecca/aqueous.eqn : testfac_* for all
  acid/base equilibria added
- messy_mecca_mbl_e5.f90: bugfix for emission calculation if l_tendency
	extended for the use of emdep or aeroem emissions
- mecca/integr/ros3.k: set stepmin =1.e-37
- messy_m7_e5.f90: bugfix in m7_vdiff

Changes by Patrick Joeckel and Astrid Kerkweg:
- emis.nml update for SO2 and DMS in /modeldata
- EMIS: update (fullname of tracer is always used) and a lot of bug-fixes !!!
- messy_ncregrid_tools_e5.f90: bug fix in SUBROUTINE
  RGTOOL_E5_READ_NCFILE (allocation of global field
  (not scattered))

******************************************************************************

echam5.2.02a_messy_0.1t (5 Jul 04)

Changes by Benedikt Steil:
- mass conservation is now independent of changes in gas.eqn and gas.spc .
  exceptions:
  a) gas.eqn: N2O  + O1D      = 2 NO
	      NO   + N        = O3P + N2
	      NO2  + N        = N2 + O2
  have to look like that, because sed in
  ./messy/mecca/scale/sedcopy_scale is looking for these expressions.
  So if you intend to beautify the above reactions, please beautify
  also ./messy/mecca/scale/sedcopy_scale!!!
  b) ./messy/mecca/scale/gas.spc_scale must be changed if you introduce
  a new species in ./messy/mecca/gas.spc, see README!!!!

******************************************************************************

echam5.2.02a_messy_0.1s (5 Jul 04)

Changes by Joachim Buchholz:
- messy_psc.f90:
  - function mz_psc_xH2SO4: new cutoff values for sigma: 0.05 <= rsigma <= 30.0
  - function mz_psc_dim_liquid: radmean=rm * exp(0.5_dp * log(s)**2) instead of
    radmean=rm * exp(0.05_dp * log(s)**2)
  - function mz_psc_surface_liquid: expects now mean radius as third dummy
    parameter instead of mode radius
  - function mz_psc_sed: bugfix and cutoff of negative input values
- messy_psc_e5.f90:
  - function psc_vdiff: northern psc region border changed from 55 to 45 degree
    north
  - function psc_vdiff: lower psc region cutoff value changed from 25000.0 Pa
    to 18000.0 Pa
  - function psc_physc: solid particle number density N_s0 changed from
    0.05E6 to 0.001E6
  - function psc_physc: liquid particle number density N_l0 changed from 50.0E6
    to 10.0E6
  - function psc_physc: gas phase depletion by water uptake in liquid is now
    considered
  - function psc_physc: preprocessor directive "if defined(_rs6000)" removed
    after compiler update for rs6000
  - function psc_physc: now qte, xlte, and xite from mo_sc1 are used instead of
    qte_scb, xlte_scb, and xite_scb from mo_scan_buffer

Changes by Holger Tost:
- physc.f90, vdiff.f90: xtte now directly from mo_sc1 in vdiff
			(Note: This 'fix' is only required, since vdiff
			 is no Fortran90 Module !!!)

Changes by Michael Traub:
- VISO:
  - number of levels to skip from the top of atmosphere and the surface,
    and also the search direction (surface-top/top-surface)
    to look for iso-surfaces can be set via nml
- TROPOP:
  - absolute value of Potential Vorticity (i.e., positive in the SH)
  - skipping of level '1' and 'nlev' of PV field for searching index
    of iso-surface
- rad_int.f90:
  - adding parameter zinhomi for case(42) and nlev >= 39
    because of zero values
- messy_ncregrid_mpi.f90: bug fix

Changes by Patrick Joeckel:
- nc2mc: update (now one version for grand and helios ...)
- efchk: use dirname instead of path
- EMIS: multi-level emissions (Nx2D) included
- LNOX: completely updated (thank's to Holger Tost and Laurens Ganzeveld)
- BUGFIX_MZ updated
- README_MZ renamed to README_MESSY
- WARNINGS updated
- Makefile.in: workaround for updated linker on IBM/AIX
- TROPOP: climatological tropopause added
- TNUDGE: climatological tropopause is now default for tracer nudging at
	  the tropopause

******************************************************************************

echam5.2.02a_messy_0.1r (26 May 04)

Changes by Swen Metzger:
- messy_eqsam.f90, messy_eqsam_e5.f90, eqsam.nml:
  - new tracer interface to define tracers via namelist
  - new and consistent stream definition of the wet and dry radius,
    density and sigmas of the aerosol. Name can be defined in the
    coupling namelist to be consistent with other submodels
    (e.g. scav, emdep, eqsam, gm7).
  - code cleaned up.
- messy_gm7.f90, messy_gm7_e5.f90: code cleaned up

Changes by Astrid Kerkweg and Rolf Sander:
- xecham improvement for grand and octopus (jobloc and jobkill)

Changes by Holger Tost:
- SCAV module:
   - radius dependent aerosol scavenging implemented (the fixed
     parameter used by P.Stier no longer used)
     required changes in messy_scav_e5.f90 (scav_physc, scav_convec,
     scav_init_coupling) and messy_scav.f90 (new functions and routines
     and changes in scav_cvdep)
   - distinction of effective aerosol radius for aerosol numbers and masses
   - scavenging now available for halogen gasphase species
- xmecca:
   - new choice for scavenging: all reactions or all reactions without
     halogenes
- aqueous.eqn:
   - transfer/diss reactions for HI and HIO3 use k_exf
   - several halogen reactions labeled with Sc
- CVTRANS module:
   - further use of _dp, making the code more positive definite due to
     machine precision, changing the max value of fle, limiting the
     updraft mass flux to 100 g m-2 s-1 (messy_cvtrans.f90)
   - output of negative species reduced, now only if the negative values
     are produced in the module but have positive input values

******************************************************************************

echam5.2.02a_messy_0.1q (26 May 04)

Changes by Benedikt Steil:
- xmecca to allow the choice of strict mass conservation
- mecca/integr/ros2-log10.k added
- a new subdirectory mecca/scale containing the files needed for the
  mass conservation
- README file in directory scale describing the mass conservation
- include in SUBROUTINE mr2c in messy_mecca_e5.f90 has been shifted

Changes by Astrid Kerkweg and Rolf Sander:
- update of mecca box model, see mecca/CHANGELOG for details

******************************************************************************

echam5.2.02a_messy_0.1p (25 May 04)

Changes by Astrid Kerkweg:
- messy_ncregrid_tools_e5.f90: change numbering of regrid events from n to i
- messy_mecca_mbl_e5.f90/mecca.nml: adopt code to different emission modules
- messy_mecca_mbl_e5.f90/messy_m7_e5.f90: change SVI coupling method
- messy_drydep_e5.f90/messy_sedi_e5.f90: improved error message for tracers
  from unknown aerosol modules
- messy_mecca_e5.f90: updates to mecca_mbl calls
- messy_mecca_mbl.f90 / mecca/aqueous.eqn: factor xaer(##) moved from
  eqn-File to rate calculation for k_exf and k_exb
- messy_sedi.f90: bugfix
- messy_main_control_e5.f90/messy_onlem_e5.f90: call for onlem_init_coupling
  added

Changes by Christoph Bruehl:
- photo:
  - Ly-alpha-photolysis of CO2 added
  - init-coupling: bugfix for O3-pointer

Changes by Holger Tost:
- convect.nml: default is now convparam = 1

Changes by Patrick Joeckel:
- ATTILA: simplified and cleaned up

Changes by Rolf Sander:
- chemical mechanism recreated with xmecca (necessary due to
  incompatibility with older code)
- tracdef.tex: KH(SO2) = 1.2 M/atm added
- aeroem: sea salt emissions according to Monahan added: l_seasalt_monahan

******************************************************************************

echam5.2.02a_messy_0.1o (20 May 04)

Changes by Laurens Ganzeveld:
- EMDEP module: rewritten such that it is MESSy conform:
  - emdep_e5: a subroutine emdep_init_coupling has been inclued to extract
    some of the aerosol properties needed for emissions as well as aerosol
    dry deposition, from the aerosol streams. The aerosol stream being used
    and the parameters being extracted from the streams is defined in an
    the emdep CPL in the emdep namelists.
  - emdep_emis_e5 has been splitted in an emdep_emis_e5 and emdep_emis, with
    the latter containing a selection of subroutines that can be used in
    echam5 as well as a boxmodel.
    The routine has been modified to read in also 3-D emission fluxes given
    in molecules m-2 s-1 (SO2), NOTE the difference in the namelist.
    In addition, the initialization of the soil-biogenic NO emission classes
    has been modified with changes in the emdep namelist.
  - emdep_xtsurf_e5 has been splitted in an emdep_xtsurf_e5 and emdep_xtsurf,
    with the latter containing the subroutines for the online calculations of
    big leaf gaseous and aerosol phase dry deposition velocities. Since the
    aerosol dry deposition stream needs information on aerosol properties, its
    initialization is moved to emdep_e5 in the emdep_init_coupling. In addition
    some of the settings of the switches for aerosol dry deposition are moved
    to that subroutine. For diagnostics the dry deposition flux stream has been
    added (consistent with vd_bigl), which value is assigned its values in
    messy_emdep_drydep_e5. The SO2 dry deposition is included by setting the
    required parameters in tracdef.tex.
  - emdep_xtsurf_e5: the routine to calculate the aerodynamic resistance is
    called whenever or l_xtsurf_vdbl or l_xtsurf_vdaer since both need
    information on turbulence properties.
  - The surface roughness is now calculated from the drag coefficient, which is
    being read in instead of z0m. Consequently the emdep namelist has changed
    slightly, and a new input file has been produced. Note that also the name of
    the read-in forest fraction has changed!
  - emdep_drydep_e5: the already mentioned dry deposition flux is now assigned
    to the stream ddflux for diagnostics. In addition, the calculation of the
    dry deposition flux is slightly modified using not pxtm1 but the
    concentration corrected for the pxtte including the emission tendency. This
    is especially relevant for species for which emissions as well as dry
    deposition occurs (SO2)
  - emdep_emis: the pulsing routine has been rewritten using streams to store
    the information on the rain history. The routine can be used from now on.
  - emdep_xtsurf: the aerosol dry deposition code has changed a lot. Be carefull
    to only use the non-integrating calculations (lvd_integrated=.false.). The
    integrating calculations have still to be checked!

******************************************************************************

echam5.2.02a_messy_0.1n (20 May 04)

Changes by Michael Traub;
- STATATT : now MESSy-conform
- ATTILA  : bug fixes in TRAJEC MODE in case of rerun

Changes by Patrick Joeckel:
- bug fixes in messy_main_tracer_e5.f90 and messy_main_tracer.f90
  (thank's to Astrid Kerkweg)

Changes by Christoph Bruehl:
- mecca_t_ma.nml: updated

******************************************************************************

echam5.2.02a_messy_0.1m (17 May 04)

Changes by Holger Tost:
- SCAV module:
  - update of scav code (scav_cvdep) in messy_scav.f90
  - elimintation of not used RGT_EVENT calls in messy_scav_e5.f90
  - removing time inconsistency in scav_convec with temperature now
    using tm1, tte from mo_memory_g1a, mo_sc1  (messy_scav_e5.f90)
  - removing time inconsistency in scav_cvdep with temperature by adding
    an additional parameter to the parameter list (messy_scav.f90)
  - implemetation of new feature: accessable via namelist:
    scav_easy: whenever lwc higher than threshold value than a fixed (estimated)
    precentage of a species is scavenged and entered the wet deposition
    flux. This does not call a kpp routine and is therefor much
    faster, but propably not suitable for a real integration run
- messy_main_data_e5.f90:
  - longnames and units for qtec, ilab, pqhfla added
- physc.f90:
  - used and added switch USE_Convect to determine loconv
- CVTRANS module:
  - kproma loop changed to loop in the lowest layer for better
    vectorization (messy_cvtrans_e5.f90)
- CONVECT module:
  - change in call statement for scav_cvdep (as described above)
  - new subsubmodule: Convection scheme of Zhang/Hack with two versions
    of cloud water treatment implemented
    accessible via namelist (conv_param = 4 in CTRL and alterconv in CTRL_Zhang)

Changes by Patrick Joeckel:
- configure.in/configure: update with more macros and less sh-commands
- mh-*: -l removed from blas and lapack
- xmessy: added '-p' option to all cp commands
- ONLEM, AEROEM, MECCA: main.mk: F%.f90 files excluded from SRCS
- mo_memory_base.f90: iktrac=4 for 4D-FOURIER stream elements removed
- TFAMILY: another bug-fix (thank's to Astrid Kerkweg)
- messy_ncregrid_tools_e5.f90: bug fix (thank's to Laurens Ganzeveld)

******************************************************************************

echam5.2.02a_messy_0.1l (17 May 04)

Changes by Joachim Bucholz
- cloud.f90: bugfix in the psc module dependent part; use of kind parameter dp
  improved; variable declarations rdcpd, zbb, zdskewcor, zdthdp, zdvarcor,
  zracc, zskewold, and zvarold removed; INTRINSIC statement updated
- dyn.f90: kind parameter dp applied throughout module; nproma introduced in
  if constructs which depend on ltdiag
- messy_main_control.f90: call psc_global_start added
- messy_psc.f90: psc submodel internal improvements and bugfixes
- messy_psc_e5.f90: psc submodel internal improvements and bugfixes
- mo_cloud.f90: kind parameter dp applied throughout module
- mo_diag_tendency.f90: kind parameter dp applied throughout module; INTRINSIC
  statements in DIAG_Init and DIAG_Write; SAVE attributes for pdovor, pdodiv,
  pdotep, ptfh1, ptfh2
- mo_fft.f90: kind parameter dp applied throughout module; trig and nfax got
  SAVE attributes
- mo_geoloc.f90: kind parameter dp applied throughout module, wp replaced by dp
- mo_hyb.f90: kind parameter dp applied throughout module
- mo_legendre.f90: pnmd, anmd, rnmd got SAVE attributes; kind parameter dp
  applied throughout module
- mo_scan_buffer.f90: kind parameter dp applied throughout module
- mo_semi_impl.f90: kind parameter dp applied throughout module; global SAVE
  statement added
- mo_transpose.f90: kind parameter dp applied throughout module
- mo_truncation.f90: nmp and nnp got SAVE attributes
- physc.f90: use of kind parameter dp improved; update of EXTERNAL and
  INTERNAL statement
- psc.nml: rgtevents namelist added
- si1.f90: kind parameter dp applied throughout module; nproma introduced in if
  constructs which depend on ltdiag; implicit none statement added in subroutine
  si1_extended_const
- tf2.f90: kind parameter dp applied throughout module; nproma introduced in
  if constructs which depend on ltdiag

******************************************************************************

echam5.2.02a_messy_0.1k (13 May 04)

Changes by Rolf Sander:
- xecham should now also work on grand (untested)
- *.dat files excluded from gmake zip
- update of mecca chemistry, see mecca/CHANGELOG for details
- messy/src/specific.mk: mecca files deleted (mecca core files can now
  be compiled without "-r8")
- "gmake zipall" and "gmake zip1r" call scripts in messy/util
- tracdef.tex: molar masses for gas-phase species added (except for
  hydrocarbons >= C_2)

******************************************************************************

echam5.2.02a_messy_0.1j (12 May 04)

Changes by  Patrick Joeckel:
- messy_main_control_e5.f90: call messy_advect_initialize added
  (thank's to Holger Tost)

Changes by Astrid Kerkweg and Patrick Joeckel:
- TFAMILY: a lot of bug fixes for usage of the new tracer module(s)
- scan1.f90: use nintegrate in timefilter
- messy_main_control_e5.f90: new call to main_tracer_init_tracer
- physc.f90: loconv set to USE_CONVECT for MESSy
- messy_main_tracer_e5.f90: improved diagnostic output
- mo_sc1.f90, mo_scan_buffer.f90:
     POINTER xtte(_a) => xtte_scb(:,:,:,jrow)
  instead of
     ALLOCATABLE xtte(_a)(:,:,:) = xtte_scb(:,:,:,jrow)
- messy_main_tracer.f90: bug fix in subroutine get_tracer
  (thank's to Christoph Bruehl)
- TRACER: number_advect now calculated in ADVECTION-routines

******************************************************************************

echam5.2.02a_messy_0.1i (12 May 04)

Changes by Swen Metzger:
- gm7 and eqsam now messy conform.
  - new tracer interface to define tracers via namelist
  - new and consistent stream definition of the wet and dry radius,
    density and sigmas of the aerosol. Name can be defined in the
    coupling namelist to be consistent with other submodels
    (e.g. scav, emdep, eqsam, gm7).
  - code cleaned up.
  - files deleted and content merged:
    - messy_gm7_mem.f90      => messy_gm7.f90
    - messy_gm7_mem_e5.f90   => messy_gm7_e5.f90
    - messy_gm7_nucl.f90     => messy_gm7.f90
    - messy_gm7_extfunc.f90
    - messy_eqsam_mem.f90      => messy_eqsam.f90
    - messy_eqsam_mem_e5.f90   => messy_eqsam_e5.f90
- xmecca:
  added option 17 (Minimum chemistry + S for Gas/Aerosol Partitioning)
  set wanted17  = "Tr && G && \!C  && \!Cl && \!Br && \!I"
- configure.in: 'messy/run/xmessy' -> 'messy/xmessy'
- mh-mac: options modified

******************************************************************************

echam5.2.02a_messy_0.1h (6 May 04)

Changes by Rolf Sander:
- xmecca: change to kppversion 1.1-f90-alpha11

Changes by Patrick Joeckel:
- configure.in, Makefile.in: bug-fix (Fortran77 compiler FC (used for blas
  and lapack) is now exported correctly: if FC is empty it is set to F90;
  FFLAGS, however, is NOT set to F90FLAGS, since some compilers need
  special flags for f77-code/format
- Makefile.in:
  - exclude F*.f* for target zip
  - gmake clean also removes F*.f, F*.f90, and i.*.L in LIBSRCS,
    SRCDIRS, and BOXDIRS
- messy/src/Makefile.in: SRCS  := $(filter-out F%.f90, $(SRCS0))
- mo_memory_base.f90: set iktrac=4 for 4D-FOURIER stream elements
- messy_emis.f90: workaround for IBM-AIX (thank's to Swen Metzger)

******************************************************************************

echam5.2.02a_messy_0.1g (4 May 04)

Changes by Rolf Sander:
- */Makefile.in, */Makefile.e, */Makefile, */main.mk, xmessy,
  mecca/xbox: executable files renamed to *.exe
- gmake zip now calls the sh script messy/util/zip.sh and it does not
  include *.exe files.
- doubles and triples of rate constants for PSC module are combined, and
  pseudo-species NAT, ICE, and LIQ are removed
- xmecca: MBL with both sulfate and sea salt aerosol add to $wanted:
  "Tr && !C && !Ara"
- onlem: emission switch n_dms = -1,0,1,2 is read from namelist
- util/validate: new command line parameter "ALL" to check files of all users
- xbox: change boxmodel to mecca.exe

Changes by Astrid Kerkweg:
- messy_mecca_mbl_e5.f90_vdiff: factor 1e-3 deleted
- messy_mecca_mbl_e5.f90, messy_drydep_e5.f90, messy_m7_e5.f90:
  NAMELIST moved to module header (to avoid forcheck error: "a
  private object must not be placed in a public namelist" )
- messy_drydep.o und messy_m7.o deleted in specific.mk
- mecca/tracdef.tex : delete coarse mode aerosol initial values
- messy_m7_e5.f90: probability to use aeroem emissions added
- messy_main_control_e5.f90: in call from vdiff: for MECCA "USE_GM7"
  control statement deleted
- messy_mecca_e5.f90: cmass deleted
  lmbl for C(:) = 0. in mr2c added
- messy_mecca_mbl_e5.f90: switch l_calc_emis added
  new calculation of emissions of aerosol ions
  calculation of lwc: bugfix
- mecca/aqueous.eqn: two labels corrected
  cvfac added for Hp + SO32m equilibrium
- messy_sedi.f90: bugfix pdz <-> pdp

******************************************************************************

echam5.2.02a_messy_0.1f (3 May 04)

Changes by Patrick Joeckel:
- messy_tfamily_e5.f90: for faster compilation:
  - WHERE-constructs replaced by DO-loops
  - reduced maximal number of families and tracers/family
- scan1.f90: call messy_local_end moved directly after gpc
  for time filter conformity
- messy_main_control_e5.f90, TNUDGE: update and bugfix (thank's to Holger Tost)
- xmessy can also be used if ./configure --disable-MESSy
  (see WARNINGS)
- mchlog repaired (works also with filelists (wildcards))
- gmake -f Makefile.in repaired
- messy_emis_e5.f90: bug fix

Changes by Holger Tost and Patrick Joeckel:
- messy_scav_e5.f90: rgtevents removed

******************************************************************************

echam5.2.02a_messy_0.1e (22 Apr 04)

Changes by Holger Tost and Patrick Joeckel:
- ATTILA, LNOX: convection parameters updated to CONVECT
- src/cu*f90: '#if(n)def MESSY' removed

Changes by Rolf Sander:
- reduce /modeldata/ECHAM5/messy/raw/onlem/seawater_DMS.nc to seawater
  data
- messy/src/specific.mk: r8 rule for aeroem removed

Changes by Holger Tost:
- SCAV module:
  - using coupling namelist and coupling routine for eliminating not
    messy conform use statements and use statements of messy_main_data
  - moving scav_cvdep into core (is used by messy_convect_tiedtke.f90)
- CVTRANS module:
  - using coupling maelist and coupling routine for eliminating not
    messy conform use statements and use statements of messy_main_data
  - elimination of cvtrans_mem.f90 and transferring information to
    cvtrans.f90
  - information of the convection: now only the corrected values
    of the cvtrans closure are in the cvtrans stream
- CONVECT module:
  - new module that performs the convection (implicit none, dp)
    by now the convection with Nordeng closure (dafault for ECHAM)
    gives the same results as the old source code convection
  - other closures work, too, but cannot be compared because
    formerly they did not run
  - provides an interface to other convection modules, that are
    not implemented yet (Zhang/Hack, etc.)
  - convect stream with convection data (should be used by lnox, etc.)
- TROPOP module:
  - deleting of tropop_physc and calc_conv_cover and moving these
    calculations into the convect module
- MESSY_MAIN_CONTROL:
  - implementation of the new convect submodule
  - moving of cvtrans_physc to cvtrans_convec
  - moving scav_cvtrans from messy_physc to messy_convec
  - deleting tropop_physc (obsolete because it is in convect)
- MESSY_MAIN_DATA:
  - 3 new stream elements (formerly local fileds in physc for
    convection, cloud (ilab, zqtec, qhfla))
- PHYSC:
  - changes due to stream elements mentioned above, new convect module
  - lfirst_day not longer used for convection and cloud/cover
    (exchanged by: .not.lstart)
    so there are no processes not active from the second time step

******************************************************************************

echam5.2.02a_messy_0.1d (22 Apr 04)

Changes by Rolf Sander and Patrick Joeckel:
- target depend depends on $(SRCS) in all Makefiles

Changes by Patrick Joeckel:
- iorestart.f90: CALL messy_init_tracer added (thank's to Astrid Kerkweg)
- added nc2mc and mc4linux to distribution
- added ncdx to distribution
- compiled and run on Linux-Cluster bc-c1
- ONLEM, AEROEM: main.mk, Makefile.e, Makefile updated
- config/mh-linux.lf: update for bc-c1
- messy/src/specific.mk: entry for aeroem

******************************************************************************

echam5.2.02a_messy_0.1c (04)

Changes by Rolf Sander:
- gmake zip does not include depend.mk

Changes by Patrick Joeckel:
- IBM compatibility from 0.1a is now included (but untested)
- mecca boxmodel update

******************************************************************************

echam5.2.02a_messy_0.1b (20 Apr 04)

Changes by Rolf Sander:
- based on 0.1, not 0.1a!!!
- messy_main_data_e5.f90:
  - "=> NULL()" in declaration instead of NULLIFY(...)
  - general cleanup, 2d and 3d sorted, and more
- gas-phase online emission submodel USE_ONLEM:
  - based on subroutine dms_emissions in
    echam5.1.07_m7_0.18_ori/modules/mo_chem_forcing.f90
  - for now, calculates only DMS (later also other species)
  - e5 level puts fluxes into pxtte or pxtems (and also into stream)
  - also available as box model
- aerosol emission submodel USE_AEROEM:
  - based on subroutine seasalt_emissions_lsce in
    echam5.1.07_m7_0.18_ori/modules/mo_chem_forcing.f90
  - seasalt already split between AS and CS
  - for now, calculates only seasalt (later OC, BC, dust)
  - e5 level puts fluxes into stream
  - also available as box model
- xmecca: all $wanted consistent with Ara
- util/validate:
  - first do all tests, then exit 1 if warning or exit 2 if error
  - call MESSy conformity checks from PJ
  - output to validate.log
  - check for gmake.log.sx logfile

******************************************************************************

echam5.2.02a_messy_0.1a (21 Apr 04)

Changes by Patrick Joeckel:
- now compiles and runs on IBM/AIX (see also WARNINGS)
- messy/box/Makefile.e updated:
  targets install, clean, and distclean are mandatory !
- xmessy, mh-linux.lf, mh-linux.i: preparations for 'grand'
- mo_column.f90: preprocessor directive for flush on __ibm__
- config/config.h.rs6000: new file for ./configure --host=rs6000
  (cross compilation on sp for psi ... to be tested)
- messy/e5/messy_emis_e5.f90: bug fix
- Makefile.in, messy/src/Makefile.in: updated
- messy/box/ncregrid: Makefiles updated
- messy/box/mecca: Makefiles updated
- messy/util/sfmakedepend.pl.in: filelist now optional
- messy/box/ncregrid/Makefile.in: bug-fix

******************************************************************************

echam5.2.02a_messy_0.1 (19 Apr 04)

Changes by Patrick Joeckel and Rolf Sander (with help from Astrid
Kerkweg, Holger Tost, Joachim Buchholz, and Michael Traub):
- messy_mecca_e5.f90: corrected names for photolysis rates
- Makefile.in: does not echo all commands anymore
- *.nml: physc stream renamed to messy
- messy_mecca_mem_box.f90 was made obsolete and then deleted
- xmecca: selection "11 MBL" now excludes reactios in rain (Ara)
- mecca/integr/*.k: dp added
- messy_main_data_e5.f90: physc stream renamed to messy
- xecham: correct path of xmessy added in grep commands
- util/validate: submodels emis, drydep, m7, onlem, aeroem, and sedi
  added to personal lists
- contents of messy/run/ moved to messy/ with related changes in xmecca
  and xecham
- Makefile.in changed (via autoconf?)
- messy_check_all: check 4 and 5 added
- xmessy, mo_start_dataset.f90:
  echam.nml -> ECHAM5.nml
  main.nml  -> MESSy.nml
- mo_doctor.f90, inidoc.f90, mo_start_dataset.f90, master.f90,
  messy_main_switch_e5.f90, messy_main_switch.f90, messy_main_constants_mem.f90
  update of output to log-file, netCDF-global attributes
  (modstr = MESSy, modver=0.1pre017)
- modules/*.f90: #if(n)def MESSY #else #endif, except for
  SAVE, TARGET. etc., bug-fixes, _dp, and vertical resolution
  generalization by mz_jb_
- src/*.f90 #if(n)def MESSY #else #endif, except for
  op_ck_, bug fixes, _dp, and vertical resolution generalization by mz_jb_
- configure.in, configure, Makefile.in, etc.:
  new preproessor directive MESSY (configure --disable-MESSY to switch OFF)
- configure/Makefile.in etc. completely updated to new
  DIRECTORY structure (new files specific.mk and messy/src/specific.mk)
- new DIRECTORY STRUCTURE:
  $E/include/                 -> same as before
  $E/src/                     -> same as before
  $E/modules/                 -> same as before
  $E/blas/                    -> same as before
  $E/lapack/                  -> same as before
  $E/netcdf90                 -> same as before
  $E/messy/box/<SUBMODEL>/    -> messy box models
  $E/messy/e5/                -> messy e5 (bmil) files
  $E/messy/lib/               -> messy library
  $E/messy/mecca/             -> (previously $E/mecca)
  $E/messy/run/xmessy         -> messy runscript
  $E/messy/nml                -> messy namelist files
  $E/messy/src/               -> messy core files (MUST BE COMPLETELY
				 ECHAM5 INDEPENDENT !!!)
  $E/messy/util/              -> sfmakedepend.pl.in etc.
- messy_mecca_e5.f90: photolysis stream element names corrected
- mo_doctor.f90, mo_kind.f90, mo_constants.f90, messy_main_constants_mem.f90:
  improved preprocessor directives, _mem is now MESSy-Standard conform
- messy_ncregrid_base.f90: update
- new messy_ncregrid_mpi.f90: abort ncregrid in parallel environment (MPI)
- configure.in, Makefile.in: -DECHAM5 removed, -DMESSY new,
  -DMPI new, if MPI is used (-DNOMPI as before)
- messy_sedi.f90, messy_sedi_e5.f90: new implemented
- messy_drydep_e5.f90: output of deposition velocities enabled
- messy_drydep.f90: bug-fixes
- messy_m7_e5.f90: cleaned up
- messy_gm7_e5.f90: implementation of 4d radii and density streams,
  implementation od sigma stream
- messy_mecca_e5.f90, messy_mecca_mbl_e5.f90, messy_mecca.mbl, mecca.nml:
  updated to new structure; update of emissions
- messy_main_tools.f90: PTR_5D_ARRAY
- USE_SEDI
- drydep and m7 updated
- messy_main_tracer_e5.f90: bug fix in tracer_init
- non-MESSy conform gm7 removed from physc
- messy_emdep_mem_e5.f90: #if - directive removed
- messy_attila.f90 #if - directive removed
- messy_main_data_e5.f90: bug fix for pxtems
- vdiff.f90: bug fix
- messy_main_tracer_e5.f90: bug fixes
- messy_attila.f90, messy_attila.f90: additional netcdf-dimension
  moved to messy_main_tracer_e5.f90
- mo_netcdf.f90: improved add_unknown_dim
- physc.f90, messy_main_control_e5.f90: parameters of messy_physc deleted
- mh-aix: HIGH_RESOLUTION_TIMER removed
- tracdef.tex, tracdef.awk: adjusted to new basename/subname syntax of
  new_tracer
- new names for mecca (and scav) files:
  messy_mecca_mem.f90         -> messy_mecca_base.f90
  messy_mecca_mbl_mem.f90     -> messy_mecca_mbl_base.f90
  messy_mecca_conc2mr.inc     -> messy_mecca_c2mr_e5.inc
  messy_mecca_trac.inc        -> messy_mecca_trac_e5.inc
  messy_mecca_mr2conc.inc     -> messy_mecca_mr2c_e5.inc
  messy_mecca_idt.inc         -> messy_mecca_idt_e5.inc
  messy_mecca_gdata.f90       -> messy_mecca_kpp_g_mem.f90
  messy_mecca_sprsdata.f90    -> messy_mecca_kpp_s_mem.f90
  messy_scav_gdata.f90        -> messy_scav_kpp_g_mem.f90
  messy_scav_sprsdata.f90     -> messy_scav_kpp_s_mem.f90
- messy_mecca_e5.f90: get_stream instead of USE for getting rate
  constants from PHOTO and PSC
- TRIM(modstr) replaced by modstr
- messy_main_control_e5.f90: removed parameters from *_physc
- renamed ldc% to dcl% and gdc% to dcg%
- messy switch lskipkpp to switch off kpp_integrate
- pxtems as stream element in main_data
- tracdef.tex, tracdef.awk: adjusted to new syntax of new_tracer
- search for "get_tracer(ierr" and repair
- messy_main_tracer.f90: bug fix
- messy_photo_e5.f90, messy_mecca_mbl_e5.f90,messy_d14co_e5.f90,
  messy_main_tools_e5.f90, messy_m7_e5.f90: get_tr is now obsolete
- emdep 'core' back to old tracer DO loops
- back to old tracer DO loops
- tracdef.awk, xmecca: mecca include files renamed to *.inc. They are
  now linked into modules/ and not into include/
- createMakefiles.pl now also considers include files in ./
- USE mo_tracer and USE mo_tracdef deleted and tracer loops adjusted
  accordingly: messy_tfamily_e5.f90, messy_lgtmix_e5.f90,
  messy_photo_e5.f90
- USE mo_tracer and USE mo_tracdef deleted and tracer loops adjusted
  accordingly: messy_cvtrans_e5.f90, messy_tnudge_e5.f90, messy_scav_e5.f90
- USE replaced by CALL for pointer on tracer-list
- USE mo_tracer and USE mo_tracdef deleted and tracer loops adjusted
  accordingly: messy_mecca_e5.f90, messy_mecca_mbl_e5.f90,
  messy_gm7_extfunc.f90, messy_gm7_e5.f90, messy_m7_e5.f90,
  messy_emdep_emis_e5.f90, messy_emdep_emis.f90,
  messy_emdep_xtsurf_e5.f90, messy_emdep_mem_e5.f90,
  messy_emdep_drydep_e5.f90, messy_emis_e5.f90, messy_lnox_e5.f90
- USE mo_tracer and USE mo_tracdef deleted and tracer loops adjusted
  accordingly: control.f90, cudtdq.f90, labrun.f90,
  messy_main_control_e5.f90, physc.f90, physc.f90, scan1.f90, si1.f90,
  tf1.f90, tf2.f90, vdiff.f90, mo_column.f90, mo_netcdfstream.f90,
  mo_scan_buffer.f90, mo_semi_lagrangian.f90, mo_spitfire.f90,
  mo_tpcore.f90
- cudtdq.f90 bug-fix
- mo_linked_list.90 (remove_list_element): update for lav, lsd, etc.
- mo_sub_echam.f90, mo_sub_nml.f90: deleted
- USE of tracer_init in all submodels adjusted
- messy_ncregrid_tools_e5.f90: tracer_init removed (new version in
  messy_main_tracer_e5.f90)
- mo_memory_g1a, g1b, gl: pointers used from
  messy_main_tracer_mem_e5.f90
- new: messy_main_tracer_mem_e5.f90
- new: messy_main_tracer.f90 and messy_main_tracer_e5.f90
- mo_memory_gl.f90, mo_memory_g1a.f90, mo_memory_g1b.f90,
  mo_memory_streams.f90: new tracer interface
- messy_main_control_e5.f90: new tracer interface
- initialize.f90: call messy_new_tracer, call initrac removed
- ioinitial.f90: call messy_init_tracer, call xtini removed
- iorestart.f90: call xtini removed
- messy_emis_e5.f90: bug-fix
- mo_tracer.f90: xtini, initrac obsolete
- messy_mecca_e5.f90: jrow bug fix in mecca_physc
- *_kpp_mem files renamed to *_mem: messy_mecca_mbl_mem.f90,
  messy_psc_mem_e5.f90, messy_mecca_mbl_mem.f90
- TABs removed in files from Hamburg: mo_midatm.f90,
  mo_semi_lagrangian.f90, mo_time_base.f90
- rad_int.f90: parameter pxtec deleted
- bug fixes until successful compilation on bromine (lf95)
- messy interfaces in time loop:
  - scan1.f90: call_read            -> messy_global_start
  - scan1.f90:                      -> messy_local_start
  - vdiff.f90: call_chem_bcond      -> messy_vdiff
  - physc.f90:                      -> messy_convec
  - physc.f90: call_chem1/xtdriver1 -> (removed)
  - physc.f90: call_chem2/xtdriver2 -> messy_physc
  - scan1.f90: call_diagn/xtdiagn   -> messy_local_end
  - scan1.f90: call_diagn/xtdiagn   -> messy_global_end
- mo_tracer.f90, physc.f90: xtdriver* and xtdiagn replaced by messy standard
- configure/make: automake 1.8.3 and esos included
- autoconv updated
- call_submodels from HH deleted and messy_main_control_e5 used instead
- update to 5.2.02a
- several of our bugfixes are now obsolete because they have been
  included into 5.2.02a (although unlabeled):
  - scan1.f90: "xim1 (:,:,:) = xl (:,:,:)" changed to "xim1 (:,:,:) = xi
    (:,:,:)", i.e. XL replaced by XI
  - setdyn.f90: dampth, damhih, enstdif, nlvstd1, nlvstd2, spdrag,
    enspodi, nlvspd1, and nlvspd2 were previously undefined if lmidatm=F
  - configure.in: "@AS@" added
- initialize.f90: call to submodel init. moved
- .true. and .false. changed to T and F in *.nml
- DRYDEP: minor changes
- TNUDGE: update
- EMIS: update
- some stratospheric reactions corrected as suggested by L. Grenfell:
  OClO  + hv = ClO + O3P
  CFCl3 + hv = 3 Cl
  CH3Br + hv = Br + CH3O2
  CH3Cl + hv = Cl + CH3O2
- messy_cvtrans_e5.f90, messy_emdep_drydep_e5.f90, messy_scav.f90,
  messy_scav_e5.f90, messy_scav_liqcoeff.f90, scav.nml, cloud.f90,
  cucall.f90, cudtdq.f90, cumastr.f90, physc.f90: diff between mz10zl and
  mz10zm now also introduced into mz11pre version (for details of
  changes by HT in CVTRANS and SCAV, see below)
- precip from Swen deleted again in physc.f90 and cloud files
- messy_mecca_mem.f90 and messy_mecca_mbl_mem.f90 deleted for mecca boxmodel
- messy_emdep_drydep_e5.f90: "zdrydepflux(:,jt)=0." changed to
  "zdrydepflux(1:kproma,jt)=0." as suggested in email from LG
- CVTRANS:
  - nullifying stream_element trac_field (messy_cvtrans_e5)
- SCAV:
  - reaction rate for fhet N2O5 changed (messy_scav_liq_coeff)
  - wdepflxcv in out_rain_cv not added up, but calculated in each layer
    from the liquid phase concentrations (messy_scav)
  - aerosol scav only for tracers with nphase ge 2 (messy_scav_e5)
  - average cloud droplet radius changed from 1e-6 m to
    2.5e-5 m (more realistic value)
- messy_m7: mem-files obsolete
- strict separation of MBL from MECCA
- messy_mecca_mem.f90 and messy_mecca_mbl_mem.f90 deleted
- messy_mecca*_e5.f90: jk, jp, jrow changed to local variables
- started to rename CPL to CPL_MBL (not compiled and not tested yet)
- updates of xmessy_drydep.f90, xmessy_drydep_e5.f90, drydep.nml:
  bugfixes and namelist extended, tracers are now determined by namelist
- inclusion of new-old m7 scheme
- messy_emdep_emis_mem.f90 set logicals to .false. when initialize
- messy_emdep_emis_e5.f90/messy_emdep_emis.f90:  set basename to fullname
- messy_m7_e5.f90: introduce 4d radius stream
- introduce 4D aerosol streams into drydep (not ready yet)
- mo_nudging_sst.f90: bug fix
- new submodel EMIS for OFF-LINE emissions of
  - GRIDPOINT TRACERS
  - LAGRANGIAN TRACERS
- messy_main_tools_e5.f90:
  - TYPE PTR_?D_ARRAY moved to messy_main_tools.f90
  - PTR_4D_ARRAY added
- messy_scout.f90: using 'strcrack' from messy_main_tools.f90
- messy_main_tools.f90: new subroutine 'strcrack'
- NCREGRID:
  - update to v1.2
  - output to log-file reduced
  - complete FORCHECK analysis of stand-alone NCREGRID
- messy_scav_liqcoeff.f90: use correct gdata in fhet now
- cuflx.f90: bug fix (copies of local variables in stream elements must be
		      re-initialized every time step ...!)
- submodel M7 renamed to GM7
- messy_main_tools.f90: new SUBROUTINE int2str
- messy_ncregrid_nc.f90 to messy_ncregrid_netcf.f90
- messy_regrid_*.f90 renamed to messy_ncregrid*.f90
- messy_regrid_tools_e5.f90: update
- new submodel LNOX detached from EMDEP
- control.f90: call messy_init_cpl
  -> call XXX_init_cpl for ATTILA, D14CO, DRYDEP, LGTMIX, MECCA, PHOTO,
     PSC, SCAV, STATATT, LNOX
- xmessy:
  - replaced .true. and .false. by .TRUE. and .false. since ISO-Standard
    allows T,F and .T, .F for logicals in namelists
  - submodels sorted in alphabetical order
  - submodels.nml renamed to main.nml (GENERIC SUBMODEL)
  - new switch LAMIP for echam.nml
- messy_main_switch_e5.f90, messy_main_switch_mem.f90
  -> messy_main_switch_e5.f90, messy_main_switch.f90
     = GENERIC messy-SUBMODEL ('main')
  - submodels sorted in alphabetical order
- messy_attila_e5.f90: bug fix for normal mode after restart
- attila.nml : comment for definition of trajectories
- messy_statatt_e5.f90: bug fix in calculation of mass fluxes
  (still some work to do)
- messy_statatt.f90: update
- messy_tropop.f90:  function jqif changed
- mecca/boxmodel: correct usage of cair
- messy_main_constants_mem.f90 now provides nout and nerr
- MESSy submodels now use the ECHAM5-independent
  messy_main_constants_mem instead of mo_kind and mo_constants
- new module and file names in modules/:
  mo_mz_advect                   messy_advect
  mo_mz_advect_diag              messy_advect_diag
  mo_mz_advect_diag_e5           messy_advect_diag_e5
  mo_mz_advect_e5                messy_advect_e5
  mo_mz_advect_mem_e5            messy_advect_mem_e5
  mo_mz_dlr_attila               messy_attila
  mo_mz_dlr_attila_e5            messy_attila_e5
  mo_mz_attila_tools             messy_attila_tools
  mo_mz_attila_tools_e5          messy_attila_tools_e5
  mo_mz_cvtrans                  messy_cvtrans
  mo_mz_cvtrans_e5               messy_cvtrans_e5
  mo_mz_cvtrans_mem              messy_cvtrans_mem
  mo_mz_d14co                    messy_d14co
  mo_mz_d14co_e5                 messy_d14co_e5
  mo_mz_dradon                   messy_dradon
  mo_mz_dradon_e5                messy_dradon_e5
  mo_mz_drydep                   messy_drydep
  mo_mz_drydep_e5                messy_drydep_e5
  mo_mz_emdep                    messy_emdep
  mo_mz_emdep_drydep             messy_emdep_drydep
  mo_mz_emdep_drydep_e5          messy_emdep_drydep_e5
  mo_mz_emdep_e5                 messy_emdep_e5
  mo_mz_emdep_emis               messy_emdep_emis
  mo_mz_emdep_emis_e5            messy_emdep_emis_e5
  mo_mz_emdep_emis_mem           messy_emdep_emis_mem
  mo_mz_dlr_emdep_lnox           messy_emdep_lnox
  mo_mz_emdep_lnox_e5            messy_emdep_lnox_e5
  mo_mz_emdep_mem_e5             messy_emdep_mem_e5
  mo_mz_emdep_xtsurf             messy_emdep_xtsurf
  mo_mz_emdep_xtsurf_e5          messy_emdep_xtsurf_e5
  mo_mz_eqsam                    messy_eqsam
  mo_mz_eqsam_e5                 messy_eqsam_e5
  mo_mz_eqsam_mem                messy_eqsam_mem
  mo_mz_eqsam_mem_e5             messy_eqsam_mem_e5
  mo_mz_h2o                      messy_h2o
  mo_mz_h2o_e5                   messy_h2o_e5
  mo_mz_lgtmix                   messy_lgtmix
  mo_mz_lgtmix_e5                messy_lgtmix_e5
  mo_mz_hh_m7                    messy_m7
  mo_mz_hh_m7_e5                 messy_m7_e5
  mo_mz_hh_m7_ext_func           messy_m7_extfunc
  mo_mz_hh_m7_mem                messy_m7_mem
  mo_mz_hh_m7_mem_e5             messy_m7_mem_e5
  mo_mz_hh_m7_nucl               messy_m7_nucl
  mo_mz_messy_constants          messy_main_constants_mem
  mo_mz_physc_interface          messy_main_data_e5
  mo_mz_submodels_switch         messy_main_switch_e5
  mo_mz_submodels_switch_mem     messy_main_switch_mem
  mo_mz_messy_tools              messy_main_tools
  mo_mz_messy_tools_e5           messy_main_tools_e5
  mo_mz_messy_tools_pre          messy_main_tools_pre
  mo_mz_column                   messy_main_tools_pre_e5
  mo_mz_transform_e5             messy_main_transform_e5
  mo_mz_mecca                    messy_mecca
  mo_mz_mecca_e5                 messy_mecca_e5
  mo_mz_mecca_gdata              messy_mecca_gdata
  mo_mz_mecca_kpp                messy_mecca_kpp
  mo_mz_mecca_kpp_mem            messy_mecca_kpp_mem
  mo_mz_mecca_mbl                messy_mecca_mbl
  mo_mz_mecca_mbl_e5             messy_mecca_mbl_e5
  mo_mz_mecca_mbl_kpp_mem        messy_mecca_mbl_kpp_mem
  mo_mz_mecca_mbl_mem            messy_mecca_mbl_mem
  mo_mz_mecca_mem                messy_mecca_mem
  mo_mz_mecca_mem_e5             messy_mecca_mem_e5
  mo_mz_mecca_sprsdata           messy_mecca_sprsdata
  mo_mz_photo                    messy_photo
  mo_mz_photo_e5                 messy_photo_e5
  mo_mz_psc                      messy_psc
  mo_mz_psc_e5                   messy_psc_e5
  mo_mz_psc_kpp_mem              messy_psc_kpp_mem_e5
  mo_mz_ptrac                    messy_ptrac
  mo_mz_ptrac_e5                 messy_ptrac_e5
  mo_mz_regrid_base              messy_regrid_base
  mo_mz_regrid_control           messy_regrid_control
  mo_mz_regrid_diag              messy_regrid_diag
  mo_mz_regrid_geohyb            messy_regrid_geohyb
  mo_mz_regrid_interface         messy_regrid_interface
  mo_mz_regrid_nc                messy_regrid_nc
  mo_mz_regrid_tools             messy_regrid_tools
  mo_mz_regrid_tools_e5          messy_regrid_tools_e5
  mo_mz_scav                     messy_scav
  mo_mz_scav_aqchem              messy_scav_aqchem
  mo_mz_scav_e5                  messy_scav_e5
  mo_mz_scav_cloud_gdata         messy_scav_gdata
  mo_mz_scav_cloud_kpp           messy_scav_kpp
  mo_mz_scav_liq_coeff           messy_scav_liqcoeff
  mo_mz_scav_mem                 messy_scav_mem
  mo_mz_scav_cloud_sprsdata      messy_scav_sprsdata
  mo_mz_scout                    messy_scout
  mo_mz_scout_e5                 messy_scout_e5
  mo_mz_statatt                  messy_statatt
  mo_mz_statatt_e5               messy_statatt_e5
  mo_mz_tfamily                  messy_tfamily
  mo_mz_tfamily_e5               messy_tfamily_e5
  mo_mz_tnudge                   messy_tnudge
  mo_mz_tnudge_e5                messy_tnudge_e5
  mo_mz_tropop                   messy_tropop
  mo_mz_tropop_e5                messy_tropop_e5
  mo_mz_viso                     messy_viso
  mo_mz_viso_e5                  messy_viso_e5
- xmecca, tracdef.awk, mecca boxmodel etc. adjusted to new names
- mecca include files adjusted to new names:
  mz_idt.f90     -> messy_mecca_idt.f90
  mz_conc2mr.f90 -> messy_mecca_conc2mr.f90
  mz_mr2conc.f90 -> messy_mecca_mr2conc.f90
  mz_trac.f90    -> messy_mecca_trac.f90
- createMakefiles.pl.in: architecture specific rules adjusted to new names
- call_submodels.f90 renamed to messy_main_control_e5.f90
- renamed messy subroutines: (also for each submodel XXX)
  XXX_alloc_mem                     XXX_init_memory
  XXX_chem                          XXX_physc
  XXX_chem_bcond                    XXX_vdiff
  XXX_dealloc_mem                   XXX_free_memory
  XXX_diagn                         XXX_local_end
  XXX_gdiagn                        XXX_global_end
  XXX_init                          XXX_init_ctrl
  XXX_read                          XXX_global_start
  XXX_request_tracer                XXX_new_tracer
- new submodel drydep
- xmessy: USE_PREREGRID_MESSY switched off

******************************************************************************

echam5.1.07_mz10zm (15 Mar 04)

THIS IS THE LAST MZ VERSION BASED ON ECHAM5.1.07!

Changes by Rolf Sander:
- mo_mz_cvtrans_e5.f90, mo_mz_scav_e5.f90: bug fixes

******************************************************************************

echam5.1.07_mz10zl (9 Mar 04)

Changes by Holger Tost:
- CVTRANS:
  - whole code structure changed for the independence of scav and cvtrans
  - split of the old transport routine plumetrans in two subroutines,
    one dealing with the closure of the input parameters from base model
    (closure) and one for the transport (cv_transport) (mo_mz_cvtrans)
  - new CASE construct depending of USE_SCAV as coupling parameter
  - cleaning up the code of unused variables
- SCAV:
  - new subroutine for convective scavenging with cvtrans (column wise)
    including gas and aerosol scavenging and calculation of conv. cloud
    cover for scav purposes (mo_mz_scav_e5)
  - several stream elements from cvtrans imported by get_stream_elements
    in new subroutine scav_init_cpl in scav_init_tracer (mo_mz_scav_e5)
  - two new functions for aerosol scavenging: free mean path and air
    viscosity (mo_mz_scav)
  - several changes/bugfixes in the convective scavenging core routines
    (mo_mz_scav)
  - CO2 is scavenged but tracer concentration remains constant
  - cleaning up the code of unused variables
  - nullifying of zcover_conv in cuflx.f90
- CALL_Submodels:
  - call of the new subroutines for convective transport and scavenging
    (cvtrans_chem is necessarily called two times)
  - call of scav_init_tracer for scav_init_cpl

******************************************************************************

echam5.1.07_mz10zk (9 Mar 04)

Changes by Laurens Ganzeveld and Swen Metzger:
- mo_mz_emdep*.f90:
  - generalized code so that offline and online emissions of the same
    tracer are added.
  - volcanic SO2 is now added again to either EDGAR (offline) or M7
    (online) SO2
  - mo_mz_emdep_emis.f90: bug fix for SO2. SO2 volcanic (included
    division of zdz)
- createMakefiles.pl.in: special treatment (less optimization) for
  mo_mz_emdep_emis_e5 on SX6.

******************************************************************************

echam5.1.07_mz10zj (8 Mar 04)

Changes by Patrick Joeckel:
- mo_mz_messy_tools.f90: bug-fix
- mo_mz_dlr_emdep_lnox.f90: USE mo_geoloc deleted

Changes by Joachim Buchholz
- mh-aix: improved compiler options
- mo_mz_psc.f90, mo_mz_psc_e5.f90, psc.nml:
  - chemistry calculation now depends on namelist parameter LCalcChem
  - use of tropopause stream element now controlled via namelist
  - improved definition of psc relevant region as stored in flt_pscreg
  - minor improvements
- mo_mz_psc_kpp_mem.f90: global PRIVATE statement added
- nudge.nml: added nudging parameters LNUDGFRD, NUDGD, NUDGV, NUDGT, NUDGP
- WARNINGS:
  - submodule tropop does not run on alphas
  - mo_mz_emdep_emis_e5.f90 cannot be compiled by NEC SX 6 cross compiler
- xmessy: environment variable F_SYSLEN for formatted string output on
  SUPER-UX

Changes by Rolf Sander:
- xmecca: uses kpp version 1.1-f90-alpha10 where 1.d0 was replaced by
  1.e0 and DSQRT by SQRT
- xmessy: default for NPROMA is 101. This odd number ensures that there
  is always a small rest which is needed to test if the code is
  compatible with the nproma vectorization.
- mo_mz_mecca_mbl.f90: new values for alpha(ClNO3) and alpha(BrNO3)

******************************************************************************

echam5.1.07_mz10zi (4 Mar 04)

Changes by Rolf Sander:
- mo_mz_mecca*.f90: minor changes to reduce number of forcheck
  errors/warnings/infos

Changes by Swen Metzger:
- mo_mz_emdep_drydep_e5.f90: fixed bug with switch l_xtsurf_vdbl.
  Namelist switch can now be used to switch deposition off
- mo_mz_hh_m7.f90: bug fix for BC_ks in M7
- mo_mz_emdep_emis_e5.f90, mo_mz_emdep_emis.f90: bug fix for SO2 so that
  it is not accumulating anymore.
- mo_mz_emdep_emis_mem.f90, mo_mz_emdep_mem_e5.f90: echam-dependent USE
  statements moved into e5 file. Now forcheck works again.
- mo_mz_emdep_xtsurf_e5.f90: bug fix (however, xtssurf still tries to
  write undefined values to netcdf output if l_xtsurf=.true.)
- emdep.nml: l_emis_volc_SO2 and l_xtsurf_vdaer = .false.

******************************************************************************

echam5.1.07_mz10zh (3 Mar 04)

Changes by Joachim Buchholz and Patrick Joeckel:
- xmessy, echam.nml: LNMI switch for normal mode insertion (nudging)

Changes by Patrick Joeckel:
- mo_mz_regrid_nc.f90: bug fix for string attributes of length 0
- echam*.nml: T,F -> .TRUE., .FALSE.
- xmessy: update for Sun-Grid-Engine (SGE) on octopus
- mo_mz_tropop.f90: bug fix in calculation of boundary layer level index
- DRADON, PTRAC, LGTMIX: updates and bug-fixes
- ATTILA: code cleaned up; bug-fixes
- mo_mz_advect_e5.f90, mo_mz_attila_tools_e5.f90, mo_mz_dlr_attila_e5.f90,
  mo_mz_statatt_e5.f90:
  bugfixes for usage of trp_gpdc_gpgl(-1, ...) of mo_mz_transform_e5.f90
- mo_mz_attila_tools.f90, mo_mz_attila_tools_e5.f90:
  - new subroutine for usage of gridpoint surface emissions for
    Lagrangian tracers;
  - other routines revised

Changes by Swen Metzger:
- changed m7.nml

Changes by Rolf Sander:
- updated mecca chemistry
- mo_mz_messy_constants.f90: provides dp and physical constants as
  Fortran PARAMETERs for MESSy (similar to mo_kind and mo_constants but
  independent of ECHAM). MECCA already uses mo_mz_messy_constants, other
  submodels still need to be adjusted.
- mo_mz_mecca*.f90: for conversion between mixing ratio and
  concentrations, "cair" and its inverse "riac", which also consider the
  effect of humidity, are used consistently
- mo_tracer.f90: unused output of info about grib code table deleted

******************************************************************************

echam5.1.07_mz10zg (2 Mar 04)

Changes by Swen Metzger:
- included bug fix for CH4 from Laurens in mo_mz_emdep_emis.f90
- emdep_emis_mem now split into core and e5
- emdep now produces no more tracers
- new tracer propoerty (for aerosols): maxmod, sigma
- nc file for Edgar SO2 added to the namelist.
  also pre-regridded and included in T21
- volcanic so2 emissions are now added to either offline SO2 (edgar)
  or online SO2 (m7). see emdep_emis_so2_volcanic.
  something similar could be done in general for all emssions
- put the switch lvd_integrated in the namelist
- cleaned up /modeldata/ECHAM5/messy/T* (*.log etc. -> contents are
  identical to raw/) except two new files: emis_annual.nc and
  emis_monthly.nc which should be also compiled for 'raw'
- moved parameters kproma, kbdim, klev, and ktrac to _e5 file, i.e.
  IF (USE_M7)      CALL     m7_chem(pxtm1, pxtte)
- mo_mz_emdep_emis.f90: emdep_emis_bio_NOpulse: modified output file name
  from fname='../data' to fname='./'
  Should be removed completely (e..g put into namelist)
- all "USE mo_mz_hh_m7*" ... statements deleted
  cmr2mmr, sigmaln are calculated from sigma, which is now a tracer property
- mo_mz_emdep_e5.f90: now obsolete "IF (L_EMIS) CALL
  emdep_emis_request_tracer"
- README for all *m7*.nc in /modeldata
- lturb_emis switch is now in the namelist
- added comments to entries in emdep.nml switches
- deleted DMS_M7, SO2_M7, SO4_M7 from aerosol (m7), instead DMS, SO2, H2SO4
  are now (consistently) used from mecca
- made CH4 independent of tracer idt (nothing was be written out for
  l_emis_out_lforce=.true.)
- excluded m7_chemistry, since SO2 oxidation is done in MECCA and
  scavenging in SCAV!
- note:  chem_bcond := "chemical boundary conditions"
- EDGAR, M7 and volcanic SO2 emissions are updated and OK
- OC/BC emissions are updated and OK, files regridded
- Sea salt (monhan, lsce), OK
- Dust (lsce) updated, OK? (low values)
- DMS update piston velocities, OK (vertical distribution?)
- replaced jptrac used in mo_mz_emdep_xtsurf_e5 for e.g. diff(jptrac)
  by the actual value ntrac, by using the f95 feature ALLOCATABLE ...
- included new, optional tracer properties:
  (defaults are defined according to M7, for nmod = 7)
  maxmod, sigma(nmode), cmode(nmode)
- physc removed dependency on M7/lfirst_day for CALL m7_sedimentation
- cufl removed dependency on M7/lfirst_day for CALL m7_wetdep
- emdep_drydep_chem_bcond removed dependency on M7/lfirst_day for CALL
  emdep_xtsurf_vdaer
- m7_chemistry removed dependency on lfirst_day for CALL m7_wetdep
- cuflx SCAVENGING IN CONVECTIVE CLOUDS by P.Stier excluded!
- mo_mz_physc_interface added 2D stream for pxtems_2d from
  emdep_emis_chem_bcond in mo_mz_emdep_emis_e5.f90
- mo_mz_emdep_mem.f90 deleted
- new files in /modeldata:
  - Included EDGAR SO2 emissions
  - renamed  emis_1995_SO2.nc to emis_SO2_1995.nc and regridded (T21)
    (needs to be also done in raw)
  - updated the OC/BC emissions, including README and new data, i.e.
    T21/emdep/README_m7
    emiss_fields_monthly_.5x.5.nc
    emiss_fields_monthly_T63.nc

******************************************************************************

echam5.1.07_mz10zf (2 Mar 04)

Changes by Rolf Sander:
- updated mecca chemistry

Changes by Holger Tost:
- Scavenging:
   - change of number of layers in which convective scavenging takes place
     in mo_mz_cvtrans.f90
   - internal covective cloud cover (used only for internal purposes)
   - in cloud scavenging (nucleation) adapted from the old m7 routine for
     the liquid phase
   - cleaning up of the code in mo_mz_scav_e5.f90 using sub-routines in the
     core module to become more consistent with the MESSy - Structure on
     several occasions (also in the different e5-routines)
   - several changes in mo_mz_scav_liq_coeff.f90 for the unification of one
     aqueous equation file
   - new labels in aqueous.eqn: Ara (Aqueous, rain only)
				Sc  (Scavenging)
				Scm (Scavenging minimum mechanism)
- xmecca:
    some small changes to adapt the new equation file and the label
    selection, several sed - Command lines

******************************************************************************

echam5.1.07_mz10ze (24 Feb 04)

Changes by Rolf Sander:
- xmecca: dvips changed so that it also works on hydra

Changes by Patrick Joeckel:
- ADVECT: interface for species-decomposition finished
- new SUB-SUBMODEL ADVECT_DIAG
- new SUBMODEL VISO for Values on horizontal ISO-surfaces
- mo_mz_dlr_lnox.f90: renamed to mo_mz_dlr_emdep_lnox.f90
- mo_mz_messy_tools.f90: update
- mo_mz_tropop_e5.f90, mo_mz_tropop.f90: update
- mo_mz_transform_e5.f90: update
- mo_mz_dc_tools_e5.f90 is now OBSOLETE
- transition from mo_mz_sc_tools_e5 to mo_mz_transform_e5 for
  SCOUT, mo_mz_messy_tools_e5.f90, ATTILA, STATATT, ADVECT
  mo_io.f90, mo_grib.f90, mo_memory_base.f90

Changes by Michael Traub:
- STATATT: filenames changed (stat_attila -> statatt)
- call_submodels.f90: new names
- CPL namelist entry for ATTILA and STATATT added
- some further changes in ATTILA and STATATT, see header of modules
- cucall.f90: line "jrow = nrow(2)" moved to top of routine

******************************************************************************

echam5.1.07_mz10zd (24 Feb 04)

Changes by Rolf Sander:
- xmecca: check if CTRL namelist is okay
- updated mecca chemistry

Changes by Astrid Kerkweg:
- mecca/aerosol.eqn -> mecca/aqueous.eqn
- mecca/aerosol.spc -> mecca/aqueous.spc
- mo_mz_mecca_mbl.f90, mo_mz_mecca_mbl.f90_e5,
  mo_mz_mecca_mbl_kpp_mem.f90, aqueous.eqn, xmecca:
  changes according to unification of cloud.eqn and aerosol.eqn i.e. new
  calc. of exchange and acid/base equilibrium
- mo_mz_mecca_e5.f90: subroutine mecca_check_nml_e5 renamed according to
  MESSy-structure to mecca_init_cpl

Changes by Holger Tost:
- Scavenging:
  - changed use statements in several subroutines in mo_mz_scav to
    prevent compiler crashes due to changes in KPP
  - implementation of impaction scavenging of aerosols in the scav - routines
    (mo_mz_scav_e5, mo_mz_scav) similar to the old subroutine m7_wetdep
  - new switch in scav.nml for selection of use aer_scav and gas_scav
  - clearing of unused variables in mo_mz_scav_e5, mo_mz_scav
  - clearing of use_statements in mo_mz_scav_liq_coeff (now consistent with
    MESSy structure)
  - removing of unnecessary calculations of liq_chem in mo_mz_scav_e5
    (increasing performance)
  - using the "real convective cover" also below the convective column
  - moving the calculation of henry coefficient into core module (now a field of
    KPP - Species and independent of ECHAM)
  - correction of the temperature dependence of henry coefficients
  - correction of dissociation of CO2 in the liquid phase
  - use mo_kind in cuflx.f90 for convective scavenging parameters
- xmecca:
  - using the same species file for scav as for aerosols, several species added
- mo_mz_physc_interface.f90: new stream elements precflx_cv

Changes by Patrick Joeckel and Holger Tost:
- scan1.f90: initial values of zero for lvo, ld, ltp, and lu0

******************************************************************************

echam5.1.07_mz10zc (19 Feb 04)

Changes by Rolf Sander and Holger Tost:
- mo_mz_scav*.f90: temporary bug fixes to adapt scav submodel to new kpp
  version: USE mo_mz_scav_cloud_gdata, nu_dp => dp

******************************************************************************

echam5.1.07_mz10zb (11 Feb 04)

Changes by Rolf Sander:
- correct treatment of scav option in new xmecca
- iodine chemistry updated (still under construction)

Changes by Holger Tost:
- Scavenging:
  - major bug fix in convective scavenging in mo_mz_scav_e5
  - clearing of undefined values in mo_mz_cvtrans, checking of bounds of loops
- Convection:
  - bug fix with stream elements in mo_mz_cvtrans, mo_mz_cvtrans_e5
  - convective cloud cover in tropop
    routine added in mo_mz_tropop, mo_mz_tropop_e5 (chem), call_submodels
- xmecca:
  - new 6 step integrator to try to stabilize chem system in gas phase
  - new equation set option

******************************************************************************

echam5.1.07_mz10za (8 Feb 04)

Changes by Rolf Sander:
- major update to version 10 of mecca chemistry: Many changes, e.g.
  elemental functions are now used, see mecca/CHANGELOG for details

******************************************************************************

echam5.1.07_mz10y (6 Feb 04)

Changes by Patrick Joeckel:
- mo_legendre.f90: bug fixes 'IF (PRESENT(...)) &'
- mo_mz_emdep_lnox_e5.f90, mo_mz_emdep_e5.f90, emdep.nml:
  stream element of updraft velocity now via CPL_LNOX-namelist
- mo_io.f90: bug-fix (thank's to Michael Traub) zptr is now always associated
  (needed for zx1, zx2)
- ADVECT: update (still under construction !)

Changes by Michael Traub:
- new SUBMODEL STATATT (STAtistics with ATTila) calcutes residence times of
  trajectories in stratosphere, regions of enhanced transition from
  troposphere to stratosphere, maximum pressure height after crossing the TP,
  mass fluxes across PV tropopause, WMO tropopause, user defined isentrope,
  turbulence indices for the whole atmosphere
- ATTILA:
  - can now be run in a trajectory mode
  - lagrangian convection added
- cucall.f90, mo_mz_physc_interface.f90: up- and downdraft massfluxes,
  convection type now available in streams
- cuasc.f90: initialization of an old variable added, otherwise E5 will crash
  after one simulated day with all checks an hydra
- mo_mz_tropop_e5.f90: added isentrope diagnostics (see tropop.nml) and tp_p_PV
  and tp_p_WMO are made PUBLIC
- mo_mz_messy_tools.f90: iso2ind added : calculation of the level index
  of an iso-surface in a 3d-field (e.g. pv, potential temp.), ind2p
  added: calculates the pressure at a certain level
- mo_memory_g2a: ' * cos(lat)' added to the longname of um1 and vm1
- createMakefiles.pl.in: on ALPHA: compilation of mo_mz_messy_tools.f90
  without optimization

******************************************************************************

echam5.1.07_mz10x (5 Feb 04)

Changes by Swen Metzger:
- mo_mz_emdep*.f90:
  - emdep*.nml: adapted to new structure
  - modified and restructured various emdep/m7 routines (not yet
    completed). Caution: Do not use emdep/m7 of this version. They are
    still in progress. However, just have a look at the new structure.
    Some switches for the online emissions are removed. Online emissions
    now depend on the corresponding tracer. Only if the tracer exists,
    they are read in and assigned to the tracer. To test particular
    online emissions either the required tracer can be defined below, if
    the corresponding submodel is switched off. This allows to test the
    distribution of sea salt, dust or OC/BC over the M7 modes/tracers,
    even if only emdep is switched on. Alternatively, all emsisions can
    be forced to be read in and stored in streams, if l_emis_out_lforce
    = .true.
  - An optional conversion factor is included to convert the mass fluxes
    of aerosol from kg m-2 s-1 to molecules m-2 s-1. This now depends on
    the tracer property unit. However, needs to be applied consistently
    throughout the code.
  - Introduced the posibility to define tracer (and properties) via
    namelist. This works already for emdep, but not yet for M7, although
    started to include it (EQSAM will be adopted later).
- mo_mz_hh_m7.f90, mo_mz_hh_m7_e5.f90, m7.nml: read tracers via
  namelist, option for mol/mol
- mecca.nml: bug fix with sigma
- xmessy: special treatment for m7 input deleted
- mo_mz_hh_m7_ext_func.f90, mo_mz_hh_m7_mem.f90, mo_mz_hh_m7_mem_e5.f90
- mo_mz_physc_interface.f90, cloud.f90, cudtdq.f90, surf.f90: 2 new
  elements: zprecip_2d, smelt_2d
- mo_tracdef.f90, mo_tracer.f90:
  - tracer property "density" added (now different order of optional
    parameters of subroutine new_tracer)
  - new struct t_io for tracers via namelist
- echam*.nml: aerosol namelists deleted
- mo_mz_hh_m7_chem_forcing.f90: deleted
  all emission routines are now included in emdep_emis
- mo_constants.f90: new molar masses
- new files: mo_mz_emdep_emis_mem.f90, modules/mo_mz_emdep_mem.f90

******************************************************************************

echam5.1.07_mz10w (5 Feb 04)

Changes by Holger Tost:
- Convective Tracer Transport:
   - mo_mz_cvtrans.f90, mo_mz_cvtrans_e5.f90, mo_mz_cvtrans_mem.f90:
     several bug fixes
   - cvtrans now really works under several tested conditions
   - interface created to calculate convective scavenging at the same
     time as transport
- Scavenging:
   - cleared of undefined values
   - new subroutine to calculate the convective scavenging (mo_mz_scav_e5)

******************************************************************************

echam5.1.07_mz10v (28 Jan 04)

Changes by Rolf Sander:
- version 9 of mecca chemistry included: see mecca/CHANGELOG
- mo_mz_scav.f90: bug fix: several definitions "INTEGER :: ntrac" moved
  before corresponding "REAL :: xyz(ntrac)"
- Makefile.in: *.nc and */mecca/boxmodel/boxmodel excluded from gmake zip

Changes by Holger Tost:
- cloud.f90: bug fix with paphm1

******************************************************************************

echam5.1.07_mz10u (22 Jan 04)

Changes by Patrick Joeckel and Rolf Sander:
- mo_mz_tools*.f90 renamed to mo_mz_messy_tools*.f90

Changes by Patrick Joeckel:
- mo_tracer.f90
  - get_tracer, new_tracer: test if (TRIM(subname) == '')
  - SAVE-attribute added to ntrac_a
- mo_mz_submodels_switch_mem.f90, mo_mz_submodels_switch.f90,
  call_submodels.f90, xmessy:
  new submodel TFAMILY (mo_mz_tfamily.f90, mo_mz_tfamily_e5.f90,
  tfamily.nml)
  -> see WARNINGS
- mo_memory_streams.f90 check (and fix) consistency between
  stream settings and stream-element settings:
  element%(laccu,lav,lsd,lrerun) requires stream%lrerun,
  because rerun- and output- intervals can be specified independently
  -> WARNINGS updated
- preliminary_xmessy_m7update: applied changes for changed m7 (from Swen
  Metzger)
- mo_linked_list.f90, mo_grib.f90, mo_io.f90, mo_netcdf.f90:
  number of steps since last output added to stream-structure
  (needed to be stored in rerun-files; required for changing output time
   interval after rerun for average/standard deviation and accumulation)
- mo_scan_buffer.f90: initialization of xtte_a with 0.0
- mo_grib.f90: bug-fixes: use number of time steps since last output for
  calculations of average and standard deviation
- mo_mz_submodels_switch_mem.f90, mo_mz_submodels_switch.f90,
  call_submodels.f90, xmessy:
  new submodel LGTMIX (mo_mz_lgtmix.f90, mo_mz_lgtmix_e5.f90,
  lgtmix.nml)
- xmessy: host ds8 (cumulus.dkrz.de) added
- mo_tracdef.f90, mo_tracer.f90:
  new tracer attribute 'nlgmix' for mixing of Lagrangian tracers
- mo_tracdef.f90, mo_tracer.f90, mo_column.f90:
  tracer attribute 'force' renamed to 'nforce' for consistency
- h2o.nml, ptrac_t.nml: inserting i_p0 in regrid-namelist, which is
  required for successful offline pre-regridding (thank's to Swen Metzger)
- PTRAC: - coupled to ATTILA
	 - dynamic tracer definitions via namelists
- mo_mz_d14co_e5.f90: new subroutine d14co_init_cpl
- mo_mz_photo_e5.f90: new subroutine photo_init_cpl
- mo_mz_tools_e5.f90: start_message_e5, end_message_e5
- mo_mz_tools.f90:    start_message, end_message
- mo_mz_*_e5.f90 updated (scout, tnudge, dlr_attila, ptrac, h2o, ptrac
			  dradon, photo, advect, tropop)
- mo_mz_*.f90 updated (d14co, photo)
- mo_mz_regrid_tools_e5.f90: update

Changes by Patrick Joeckel and Christoph Bruehl:
- mo_mz_photo.f90, mo_mz_photo_e5.f90: now indepenent on vertical HALOE-grid
  -> WARNINGS updated

******************************************************************************

echam5.1.07_mz10t (21 Jan 04)

Changes by Holger Tost:
- Scavenging:
  - some small bug fixes
  - convective scavenging now scaled by an estimate of convective
    cloud cover due to the values of the updraft mass flux and no
    longer over the whole box
- Convective Tracer Transport:
  - new submodel CVTRANS to calculate convective tracer transport
    from the existing convective mass fluxes including a closure with
    entrainment/detrainment that leads to nmass conserving, monotone and
    homogeneous tracer fields
  - new stream in which the massfluxes and entrainment/detrainment rates
    of ECHAM before and after the closure and rescaling can be found (cvtrans)
  - code adapted from M. Lawrence
  - several stream elements taken from cumastr, cuasc, cuddraf

******************************************************************************

echam5.1.07_mz10s (12 Jan 04)

Changes by Astrid Kerkweg:
- mo_mz_hh_m7_e5.f90:
  WARNING: ONLY TO BE USED AFTER unitchange for tracer from kg/kg to mol/mol
	read and check of CPL-namelist
	therefore    - subroutine m7_read_nml_e5
		     - subroutine m7_check_nml_e5
	added
- mo_mz_mecca.f90:
	subroutine mecca_read_nml rewritten
	(= uses now subroutine of mo_mz_tools_e5 by P. Joeckel)

- mo_mz_mecca_e5.f90; mo_mz_mecca_mbl_e5.f90:
	- use t_stream from definition place: mo_linked list
	- new redistribution of namelist reading and checking:
		-  reading of CPL moved to mecca_init
		-  subroutines mecca(_mbl)_check_e5 added
	- activate subroutines mecca_mbl_alloc_mem and(!) mecca_mbl_init_tracer

- mo_mz_hh_m7_e5.f90; mo_mz_hh_m7_mem_e5.f90; mo_mz_hh_m7_ext_func.f90
	rnummed and densaer changed from 4d-stream-element to pointer-array
	introduction of ARRAY1D- and od streams for aerosol parameter
	needed in other modules

- mo_mz_emdep_xtsurf_e5.f90:
	code changed accordingly to changes in M7

- mo_mz_hh_m7_chem_forcing.f90; mo_mz_hh_m7_mem_e5.f90;
  vdiff.f90:
	velo10m changed to wind10_2d from physc_interface

- mo_mz_emdep_drydep_e5.f90:
	".not.lfirst_day" added to call of emdep_xtsurf_vdaer

- xecham:
  question for ESH_NO = 0 for "no don't delete any file" added

******************************************************************************

echam5.1.07_mz10r (12 Jan 04)

Changes by Rolf Sander:
- Makefile.in: output changed if zip file exists

Changes by Joachim Buchholz:
- call_submodels.f90: comment in call_chem_bcond corrected
- cloud.f90: The former mz_psc_cloud.f90 and cloud.f90 are merged. The changes
  in cloud.f90 include tidying up the USE statements, applying the kind
  parameter dp througout the module, adding intent attributes to all dummy
  variables and explicit declarations for all variables. Furthermore, if
  USE_PSC then cloud.f90 has now no effect in the psc relevant region, like in
  the old mz_psc_cloud.f90.
- host.list: changed to psi24s.rzg.mpg.de
- mh-aix: comment regarding host.list changed (see host.list)
- mh-mac: changed architecture name ARCH to "darwin"
- mo_advection.f90: global SAVE statement added
- mo_cloud.f90: resolution dependency of cauloc has been rewritten in a more
  flexible way based on the values found in echam5.2.02; minor improvements
- mo_constants.f90: kind paramter dp applied throughout module
- mo_cumulus_flux.f90: resolution dependency of cmfctop and cprcon has been
  rewritten in a more flexible way based on the values found in
  echam5.2.02; kind parameter dp applied throughout module
- mo_diag_tendency.f90: SAVE attributes added for pdiga, pdsga, pdigaa,
  pdigas, pdsgaa, pdsgas, pdigb, pdigba, pdigbs, pdigs, pdigsa, pdigss,
  pdsgs, pdsgsa, pdsgss
- mo_gwspectrum.f90: kind parameter dp applied throughout module;
  parameter emiss_press new; former namelist parameter emiss_lev is no
  longer in namelist gwsctl and has new initial value
- mo_memory_g2a.f90: SAVE attributes added for um1, vm1, dudlm1, dvdlm1,
  dtlm1, dtmm1
- mo_memory_g3a.f90: global SAVE statement added
- mo_mz_hh_m7_ext_func.f90: use of kind parameter i4 in subroutine m7_chemistry
  modified
- mo_mz_physc_interface.f90: kind parameter dp used for declaration of
  2-dimensional fields
- mo_mz_psc_e5.f90: preprocessor directive for darwin added
- mo_mz_psc.f90: new model version name ("20040108")
- mo_nmi.f90: SAVE attributes added for dh_t, dh_m, dh_l, buf_t, buf_m, buf_l
- mo_physc1.f90: SAVE attribute removed; global SAVE statement added, kind
  parameter dp applied throughout module
- mo_sc1.f90: SAVE attributes removed; global SAVE statement added, IMPLICIT
  NONE statement added, PUBLIC statement added, kind parameter dp applied
  throughout module
- mo_ssortns.f90: kind parameter dp applied throughout module
- mo_time_control.f90: resolution dependency of set_delta_time has been
  rewritten in a more flexible way based on values found in echam5.2.02;
  minor improvements
- mo_timer.f90: global SAVE statement added
- mo_tmp_buffer.f90: kind parameter dp applied throughout module
- mo_tracdef.f90: kind parameter dp applied throughout module
- mo_tracer.f90: kind parameter dp applied throughout module
- mz_psc_cloud.f90: removed (see cloud.f90)
- physc.f90: call of mz_psc_cloud removed; abs, epsilon, max, min, sqrt, tanh
  added to INTRINSIC statement; EXTERNAL statement adapted; kind parameter dp
  applied throughout module
- physctl.inc: tab removed
- rad_int.f90: resolution dependency of zinpar and zinhomi has been rewritten
  in a more flexible way based on the values found in echam5.2.02; kind
  parameter dp applied throughout module; minor improvements
- setgws.f90: emiss_lev is now calculated from the gwsctl namelist parameter
  emiss_press; kind parameter dp applied throughout module
- WARNINGS: changed parameterisations mentioned in WARNINGS (see mo_cloud.f90,
  mo_cumulus_flux.f90, mo_gwspectrum.f90, mo_time_control.f90 and rad_int.f90)

******************************************************************************

echam5.1.07_mz10q (7 Jan 04)

Changes by Patrick Joeckel:
- mo_linked_list.f90, mo_memory_base.f90, mo_grib.f90, mo_netcdfstream.f90,
  mo_io.f90: added SCALAR and ARRAY1D representations
- xmessy:
  - modified modifications (from Swen) for modified m7
  - modifications for octopus
- emiss_fields_volc.txt: moved from
  /modeldata/ECHAM5/messy/raw/m7
  to
  /modeldata/ECHAM5/messy/raw/m7/misc
- mo_mz_transform_e5.f90: bugfix (initialization of f) in fas2f

Changes by Swen Metzger:
- xmessy:
  aerosol subdirectory removed and replaced by INPUTDIR_MESSY
  for consistency with USE_m7 USE_eqsam (both submodels are now part of MESSy)
- new subdirectories for preregridded files: /modeldata/ECHAM5/messy/T*
- call_submodels.f90:
  - 'IF (USE_EQSAM)  CALL  eqsam_chem' activated
- physc.f90:
  - 'm7_chem' removed (since called in call_submodels.f90)
- mz_psc_cloud.f90:
  Pointer dimension modified to avoid IBM compiler crash on Apple.
- createMakefiles.pl.in: "-Wf,-A idbl4" included as compiler option for
  mo_mz_hh_m7_chem_forcing.f90 for consistency with call_submodels.f90

Changes by Astrid Kerkweg:
- aerosol.eqn: references added
- mecca/latex/*.awk:
  - scripts adapted to aerosol chemistry

Changes by Rolf Sander:
- /modeldata/ECHAM5/messy/raw now contains two more subdirectories,
  m7/ and eqsam/
- gas.eqn:
  - references added
  - several rate constants updated (Atkinson 2003, JPL 2003 etc.)
  - unimportant reactions labeled with Box and Jh which were previously
    included as comments are now deleted
  - consistent reaction numbers
- Makefile.in:
  - gmake validate tests if code fulfills some necessary conditions for
    check-in
- mo_mz_mecca_e5.f90, mo_mz_mecca.f90: definitions of special rate
  constants (k_G2108 etc.) moved from _e5 to core file.
- mecca/boxmodel: Makefile includes dependencies.inc
- return if lfirst_day added to m7_chem

******************************************************************************

echam5.1.07_mz10p (22 Dec 03)

Changes by Rolf Sander:
- xecham:
  - quits immediately if xmecca returns with exit status 1
  - new option "config" creates Makefile via configure, then exits

Changes by Christoph Bruehl:
- mo_mz_photo.f90 and mo_mz_photo_e5.f90: subroutine 'haloe_prof'
  removed, HALOE-O3 for upper boundary is read instead by 'photo_read'
  from nc-file monthly. photo.nml changed accordingly. Code now
  resolution independent. Bug-fixes.

******************************************************************************

echam5.1.07_mz10o (19 Dec 03)

Changes by Swen Metzger and Astrid Kerkweg:
- M7 and EQSAM re-implemented according to MESSy structure.
  - All include files have been removed and separate namelist (m7.nml,
    eqsam.nml) and switches for M7 (USE_M7) and EQSAM (USE_EQSAM) have
    been introduced, replacing USE_AEROSOL and aerosol.nml (including
    lm7, leqsam).
  - ALL M7 core (source) routines are now included in mo_mz_hh_m7.f90,
    accordingly, EQSAM core is in mo_mz_eqsam.f90.
  - Parameter are defined in mo_mz_hh_m7_mem_e5.f90 and
    mo_mz_eqsam_mem_e5.f90.
  - deleted files: aero_eqsam_ctl.inc aeroctl.inc aerom7ctl.inc
    aerosol.nml m7_2.nml m7_averageproperties.f90 m7_coaset.f90
    m7_concoag.f90 m7_cumnor.f90 m7_dconc.f90 m7_delcoa.f90 m7_dgas.f90
    m7_dnum.f90 m7_equil.f90 m7_equimix.f90 m7_equiz.f90
    m7_interface.f90 m7_nuck.f90 m7.f90 mo_aero_m7_eqsam.f90
    mo_aero_m7.f90 mo_aero_mem.f90 mo_aero_nucl.f90 mo_aero_trac.f90
    mo_aero.f90 mo_aerosol_e5.f90 mo_chem_forcing.f90
    mz_eqsam_interface.f90 mz_eqsam.f90 runM7column runM7mpi runM7nec
    xt_aero_prop.f90 xt_burden.f90 xt_chemistry.f90 xt_sedimentation.f90
    xt_wetdep.f90
  - new files: m7.nml eqsam.nml mo_mz_eqsam_e5.f90 mo_mz_eqsam_mem.f90
    mo_mz_eqsam_mem_e5.f90 mo_mz_eqsam.f90 mo_mz_hh_m7_chem_forcing.f90
    mo_mz_hh_m7_e5.f90 mo_mz_hh_m7_ext_func.f90 mo_mz_hh_m7_mem_e5.f90
    mo_mz_hh_m7_mem.f90 mo_mz_hh_m7_nucl.f90 mo_mz_hh_m7.f90
  - modified files:
    physc.f90 : callings of m7_interface, eqsam_interface and
		xt_aero_prop removed.
    xmessy    : USE_AEROSOL replaced by USE_M7 and USE_EQSAM
    echam.nml : m7/eqsam namelist removed
  - modified files according to replacement of USE_AEROSOL by USE_M7 and
    USE_EQSAM: mo_mz_emdep_emis_e5.f90 mo_mz_emdep_xtsurf_e5.f90
    mo_mz_mecca_e5.f90 mo_mz_scav.f90 mo_mz_scav_e5.f90
    mo_mz_submodels_switch.f90 mo_mz_submodels_switch_mem.f90
    call_submodels.f90 cloud.f90 cudtdq.f90 cuflx.f90 mz_psc_cloud.f90
    surf.f90 vdiff.f90

Changes by Astrid Kerkweg:
- mo_physc1.f90: dp and SAVE for REAL declaration of cdisse added
- util/createMakefiles.pl.in: special case for
  mo_mz_hh_m7_chem_forcing.f90 for SX included

******************************************************************************

echam5.1.07_mz10n (18 Dec 03)

Changes by Patrick Joeckel and Rolf Sander:
- xecham: question "write 0 to ESH_NO?" moved to s1r partial_cleanup

Changes by Patrick Joeckel:
- new README file for input files in /modeldata/ECHAM5/messy/raw/
  directories: d14co, dradon, ptrac
- mpich-library v1.2.5.2 installed
- config/mh-linux:   - update (mpich v1.2.5.2_lf) -> SEE WARNINGS
		     - preparations for octopus
- config/mh-linux.i: (EXPERIMENTAL !) configuration for
		     INTEL ifort 8.0 on Linux
- mo_time_manager.f90: preprocessor option for INTEL ifort 8.0 on Linux
- mo_mz_tropop_e5.f90: two PUBLIC attributes removed
- call_submodels.f90: submodel TNUDGE
- mo_mz_tnudge.f90, mo_mz_tnudge_e5.f90, tnudge.nml:
  namelist control for flexible tracer nudging
- mo_mz_h2o_e5.f90:
  - conversion of tendencies q <-> H2O corrected (thank's to Christoph Bruehl)
  - I_H2O_TENDENCY = -2 : no tendency, no initialization

Changes by Michael Traub and Patrick Joeckel:
- mo_mz_attila_tools.f90: bug fix for mass conservation in
  GP <-> LG transformation
- mo_mz_tropop.f90: bug fix in if_PVtropop for index of PV tropopause at
  low latitudes

Changes by Benedikt Steil:
- mo_mz_mecca_kpp_mem.f90:
  - all functions elemental, merged and optimized
  - results can be checked by the activation of  CALL check_new_func

******************************************************************************

echam5.1.07_mz10m (17 Dec 03)

Changes by Rolf Sander:
- several changes in mecca/: see mecca/CHANGELOG
- Makefile.in:
  - exclude directory -x '*/tmp/*' added to gmake zip
  - gmake zip1r creates zip file without data/ directory in path
- mo_mz_psc.f90, mo_mz_psc_e5.f90, mo_mz_submodels_switch.f90:
  renamed modver_psc=>modver
- physc.f90, mo_mz_physc_interface.f90: ptp_2d deleted because better
  tropopause is available from TROPOP
- mo_netcdfstream.f90: time_step_len changed to delta_time

Changes by Christoph Bruehl:
- mo_mz_photo.f90:
  month_haloe = month/2
  IF(month.EQ.1)  month_haloe = 6

******************************************************************************

echam5.1.07_mz10l (11 Dec 03)

Changes by Patrick Joeckel:
- new SUBMODEL SCOUT (Selectable Column OUTput) for high frequency (HF)
  output at dedicated locations
- mo_linked_list.f90, mo_memory_base.f90, mo_grib.f90, mo_netcdfstream.f90,
  mo_io.f90:
  added COLUMN representation for HF-Station-Sounding-Output
  and rerun-handling in 3D mode
- mo_mz_tropop_e5.f90, mo_mz_tropop.f90:
  bug-fixes (thank's to Michael Traub)
- mo_mz_h2o_e5.f90: bug fixes (time filter)

Changes by Christoph Bruehl:
- (undocumented changes in photo* and h2o*)

Changes by Rolf Sander:
- mo_mz_mecca_e5.f90: back again to CALL kpp_integrate(time_step_len)
  until time-filter consistency is clarified

******************************************************************************

echam5.1.07_mz10k (11 Dec 03)

Changes by Laurens Ganzeveld:
- mo_mz_emdep_emis: the seasalt emission routine of M7, written by
  Philip Stier and developed by Michael Schultz, has been included as an
  extra subroutine in the emdep file structure. At the moment this
  routine is only called whenever USE_AEROSOL=.false. but which will be
  changed in updated versions.
- In mo_mz_emdep_emis_e5.f90 and mo_mz_emdep_emis.f90 some changes have
  been introduced to include a subroutine to perform sensitivity
  analyses of snow-atmosphere O3 exchanges: emdep_emis_snice_O3, which
  is being called whenever l_emis_snice_O3 is set to true in the emdep
  namelist and which initializes a prescribed snow/ice ozone emission
  flux. The switch is not included in the default namelist and
  consequently not used.
- mo_mz_emdep_xtsurf_e5.f90: emdep_xtsurf_vdaer, in the aerosol dry
  deposition code some modifications have been introduced based on
  comments by Philip Stier who found some inconsistencies in the
  parameters, e.g., alpha, bubble etc.
- mo_mz_emdep_xtsurf_e5.f90: line 168: The statement :
	 IF (trlist%ti(jt)%ndrydep.EQ.2.) THEN
  has been replaced by:
	 IF (trlist%ti(jt)%ndrydep.EQ.2.AND.   &
	     trlist%ti(jt)%nphase.EQ.GAS) THEN
  This is done to avoid the assignment of an index number to aerosol species
  for which ndrydep is also set to 2. The parameter VD_BIGL, which is a
  diagnostic parameter, should only contain the gaseous-phase dry deposition
  velocities. The statements with the VD_BIGL parameter have been reinforced
  again.
- mo_mz_emdep_xtsurf_e5.f90: line 1251: the next switch settings have been
  removed since the first two were already set in in mo_mz_emdep_xtsurf.f90.
  Definition of lvd_intergrated is also moved to that subroutine.

    !@@@ Define switches and parameters until interfaces are defined:

    LOGICAL :: lwhitecap      = .TRUE.
    LOGICAL :: ldr_rh         = .FALSE.
    LOGICAL :: lvd_integrated = .TRUE.
- mo_column.f90, mo_mz_column.f90, columnctl.inc: new lat_1d_deg,
  lon_1d_deg: longitude and latitude in degrees with negative values
  referring to western and southern locations
- new submodel TNUDGE with mo_mz_tnudge.f90, mo_mz_tnudge_e5.f90,
  tnudge.nml (tracer nudging): up to now only the ozone at the PV level
  is included and still hardcoded used to nudge ozoone concentrations
  using mo_my_tropop_e5.f90 parameters.

******************************************************************************

echam5.1.07_mz10j (11 Dec 03)

Changes by Rolf Sander:
- mo_mz_mecca_e5.f90: CALL kpp_integrate(delta_time) instead of
  time_step_len
- Makefile, Makefile.in:
  - rm data/* added to distclean again. New option veryclean is like
    distclean but keeps data/* and html/*.
  - "gmake zip1r" creates zip file with 1d and rerun files.
- xecham:
  - "gmake distclean" changed to "gmake veryclean" when starting from scratch
  - writing 0 to ESH_NO (to ensure that new binary will be used) now also
    for option 'r'
  - queueing system mandatory on hydra
  - since the cleanup options "1" for 1D and "r" for rerun are usually
    not needed individually, they now only consist in the combined form
    "s1r".
- xmessy: "cat $WORKDIR/nudge.nml >> $WORKDIR/echam.nml" changed to:
  "sed 's|!.*||g' $WORKDIR/nudge.nml >> $WORKDIR/echam.nml" This deletes
  comments before adding the contents to the end of echam.nml (also for
  columnctl).
- mo_machine.f90: dd = 0.0_dp (not 0.0_sp)
- mo_mz_mecca_e5.f90, mo_mz_mecca_mem_e5.f90, mecca.nml: sulfate_gas
  renamed to H2SO4_gas
- new README file for input files in /modeldata/ECHAM5/messy/raw/mecca
- vdiff.f90, mo_aero_mem.f90, mo_chem_forcing.f90: velo10m from
  mo_aero_mem replaced by wind10_2d from mo_mz_physc_interface
- mo_mz_mecca.f90, mo_mz_mecca_e5.f90, mo_mz_submodels_switch.f90,
  gas.eqn, tracdef.awk: for consistency with other submodels,
  modstr_mecca renamed to modstr
- mo_mz_mecca_e5.f90: during initialization, only mecca tracers are now
  set to zero if negative
- gas.eqn: khet* variables changed from 3d-arrays to scalars
- mo_mz_mecca_e5.f90, mo_mz_mecca_mbl_e5.f90: loc_idt* renamed to zidt*

******************************************************************************

echam5.1.07_mz10i (10 Dec 03)

Changes by Joachim Buchholz:
- config/mh-aix: due to changes at the computing center Garching psi01s became
  psi24 in "echo 'psi24.rzg.mpg.de' > host.list'"
- mecca/gas.eqn: Khet1(jp,jk,jrow) became Khet1, similar for other heterogeneous
  reaction rates (bugfix)
- modules/mo_aero_mem.f90: SAVE attribute added for zprcip
- modules/mo_cloud.f90: SAVE attribute added for tbetai0, tbetai1, rbetak
- mocules/mo_mz_mecca.f90: dummy_time changed from typ real(dp) to type double
  precision (workaround for bug)
- modules/mo_memory_gl.f90: SAVE attribute added for q, xl, xi
- modules/mo_mz_psc.f90: elemental functions T_nat, T_ice now public
- modules/mo_mz_psc_e5.f90: by means of preprocessor directives, parts of
  psc_chem are now system dependent (necessary due to compiler bug of the
  IBM xlf95-compiler); pointer array val_psc replaced by stream element;
  val_psc now calculated in new subroutine psc_chem_bcond, subroutines
  psc_check and psc_dealloc_mem removed; bugfixes and minor improvements
- modules/mo_param_switches.f90: global SAVE statement added
- src/call_submodels.f90: subroutine call psc_chem_bcond added, subroutine call
  psc_dealloc_mem removed
- src/cuflx.f90: explicit type conversion from real to integer added (bugfix)
- src/mz_psc_cloud.f90: new version based on new cloud.f90; val_psc now stream
  element

Changes by Patrick Joeckel:
- mo_mz_tropop.f90, mo_mz_tropop_e5.f90: bugfixes:
  REAL, DIMENSION(:), INTENT(OUT) :: lpblh_idx
  USE mo_constants,           ONLY: api, rd, cpd, g, alv, als

******************************************************************************

echam5.1.07_mz10h (4 Dec 03)

Changes by Patrick Joeckel:
- mo_mz_tropop_e5.f90: bug-fix (missing p_bcast) (thank's to Michael Traub)
- mo_io.f90: bug-fix (thank's to Astrid Kerkweg)
- mo_mz_h2o_e5.f90, mo_mz_h2o.f90, h2o.nml, h2o_t.nml: rewritten,
  simplified, bug-fixes, code-cleanup, MESSy-conform code, time-filter
  conformance, ...
- Makefile.in: define architecture-specific preprocessor directive

Changes by Christoph Bruehl:
- new module for chemical changes of stratospheric H2O and initialization by
  satellite data (done when USE_H2O = .true. or USE_MECCA = .true.) introduced:
  mo_mz_h2o_e5.
- Changes in src/call_submodels, mo_mz_submodels_switch, and xmessy, additional
  namelists h2o_t.nml and h2o.nml (for the chemical source climatology).
- changes also in mo_mz_mecca_e5 for interactive water

Changes by Rolf Sander:
- config/mh-linux: --pca option (protect constant arguments) deleted
  because it could hide errors

******************************************************************************

echam5.1.07_mz10g (2 Dec 03)

Changes by Rolf Sander:
- TODO file moved into echam distribution

Changes by Holger Tost:
- whole structure of the scavenging code changed (most of the
  calculation now done in the core routines in mo_mz_scav.f90)
  mo_mz_scav_e5.f90 now almost only an interface (as it should be)
- several bugfixes with concentrations from the former timestep of
  mo_mz_scav_e5.f90 and now in mo_mz_scav.f90
- several changes in the equilibrium constants for dissociation
- added variable zrainh in cuflx.f90
- stream phy_scav only if use_scav = .true.
  required changes in cloud.f90, cudtdq.f90
- new switch in scav.nml for a first atempt of scavenging of
  eqsam-tracer (in development)
- changes in xmecca for building the cloud/rain chemistry (ROS3 necessary !!!!)
- convective scavenging now in the whole convective rainflux and not as
  before in the part of newly produced convective rain (within and below
  the column of convection)
- evaporation now calculated as change in the rainflux
- new sream elements: wdflxcv_sum and wdflxls_sum are the accumulated convective
  and large-scale wet deposition rates already integrated over the modeled time

******************************************************************************

echam5.1.07_mz10f (2 Dec 03)

Changes by Rolf Sander and Astrid Kerkweg:
- mo_mz_mecca.f90: parameters for CALL integrate changed back from
  (0.,dt) to (dummy_time, dummy_time+dt) to avoid compiler problem

Changes by Astrid Kerkweg:
- mo_tracdef.f90, mo_tracer.f90, mo_column.f90, mecca/tracdef.tex,
  mecca/tracdef.awk: individual forcing for each tracer enabled
- tracdef.awk: possibility to add rerun=OFF and force=OFF to all tracers
- mo_mz_mecca.f90, mo_mz_mecca_e5.f90, mo_mz_mecca_mbl_e5.f90,
  mecca.nml:
  - namelist splitted in CTRL and CPL
  - mecca is now ready to use another aerosol module (other than m7)

******************************************************************************

echam5.1.07_mz10e (27 Nov 03)

Changes by Patrick Joeckel:
- mo_mz_dradon*.f90, dradon.nml: update
- mo_mz_d14co*.f90, d14co.nml: update
- mo_mz_attila_tools.f90,mo_mz_dlr_attila.f90: update
- xmessy, mo_mz_submodels_switch.f90, src/call_submodels.f90:
  new submodel 'ptrac'

Changes by Michael Traub:
- mo_mz_physc_interface.f90, vdiff.f90: new fields added:
  convtype, zust_2d, zsenkf_2d, zlatkf_2d, zcdh_2d
- mo_mz_tropop.f90,mo_mz_tropop_e5.f90,tropop.nml:
  added boundary layer diagnostics

Changes by Patrick Joeckel and Michael Traub:
- mo_mz_dlr_attila.f90: bug-fixes (INT...)

Changes by Patrick Joeckel and Christoph Bruehl:
- 'stratos' removed from photo.nml, 'lmidatm' from ECHAM used instead in
  mo_mz_photo_e5
- 'force'-switch in photo.nml forces calculation and output of all
  photolysis rates independent of tracers or 'lmidatm' (default .false.)

******************************************************************************

echam5.1.07_mz10d (20 Nov 03)

Changes by Astrid Kerkweg:
- aerosol.eqn: Label N added
- tracdef.tex: ndrydep for aerosol components changed to 3
- mo_aero_trac.f90: ndrydep for m7 aerosol components changed to 3 (but
  not for eqsam)
- emdep_drydep_e5, emdep_xtsurf_e5: check for ndrydep ==3 instead of >0
  for aerosol components
- mo_mz_mecca_e5.f90: incorrect factor 1e3 deleted in sulfur emission
  calculation
- mo_mz_mecca_mbl_e5.f90: for halogen ion emission check for KPP_Clm_**
  added

Changes by Rolf Sander:
- mecca/integr/ros3.k: STEPMIN and STEPMAX defined here (see also
  mecca/CHANGELOG)
- mecca/* and mo_mz_mecca_e5.f90: new integrator ros3-diag (like ros3
  but with diagnostics output for time step control)

Changes by Astrid Kerkweg and Rolf Sander:
- USE_XXX moved from mo_mz_submodels_switch.f90 to
  mo_mz_submodels_switch_mem.f90 and USE statements changed accordingly.

******************************************************************************

echam5.1.07_mz10c (25 Nov 03)

Changes by Rolf Sander:
- Makefile.in: distclean option does not "-rm -fr data/*"
  (it destroys rerun and forcing files when recompiling with new
  compiler options)
- mecca/xmecca: new option to create mecca box model
- mecca/mbl: even stricter separation between core and e5 files
  (necessary to run mecca also as a box model, independent of echam):
  - mo_mz_mecca_mem.f90: t_stream POINTER mecca moved to
    mo_mz_mecca_e5.f90 (also change in mo_mz_mecca_mbl_e5.f90)
  - mecca/gas.eqn: see mecca/CHANGELOG
  - modules/mo_mz_emdep_emis_e5.f90: "USE mo_mz_mecca_mem" deleted
  - echam-specific commands "USE mo_mz_psc_kpp_mem" and "USE
    mo_mz_photo" moved from gas.eqn to mo_mz_mecca_e5.f90
  - mo_mz_mecca_e5.f90: echam-specific stream elements for J-values and
    heterogeneous psc rate constants are transferred to scalars, e.g.:
    "RJ_NO2 = RJ_NO2_3d(jp,jk,jrow)"
  - mo_mz_mecca_kpp_mem.f90: declarations of scalars RJ_* and khet*
  - mo_mz_mecca_mem_e5.f90: New module. idt_* are now here and not in
    mo_mz_mecca_mem.f90 anymore. USE commands in mo_mz_mecca_e5.f90,
    mo_mz_mecca_mbl_e5.f90, and mo_mz_scav_mem.f90 are changed
    accordingly.

******************************************************************************

echam5.1.07_mz10b (27 Oct 03)

Changes by Patrick Joeckel:
- mo_doctor.f90: updated version
- WARNINGS: updated
- xmessy: embedded flags for NQS deactivated (use NQSII on hurrikan2)
  (see WARNINGS)
- config/mh-aix: update to netCDF v3.5.1b11
- config/mh-linux: updated compiler options for lf95 v6.20a
    --f95 --chk a,e,s,u --pca --ap -g --trap --verbose -O0 -Cpp
- submodels D14CO, DRADON, ATTILA, TROPO, EMDEP-LNOX checked
  with updated compiler options on Linux
- mo_gaussgrid.f90, mo_hyb.f90:
  (global) SAVE added
- mo_io.f90: bug-fixes (undefined statusx1/x2 for lav,lsd after rerun)
- mo_grib.f90: bug-fixes and improved diagnostic output
- mo_linked_list.f90: bug-fixes for potential NULL-pointers (lav, lsd)
- mo_memory_base.f90: corrected for LAGRANGIAN stream-elements with
  length < #CPUs
- mo_memory_g1a.f90, mo_memory_g1b.f90, mo_memory_gl.f90,
  mo_memory_streams.f90: simplified link to ATTILA for LAGRANGIAN tracers
- mo_mz_dc_tools_e5.f90: bug-fixes
- mo_mz_dlr_lnox.f90, mo_mz_emdep_lnox_e5.f90:
  applied bug-fixes reported by Volker Grewe (DLR)
- run/nml/emdep.nml, run/nml/emdep_min.nml: updated CTRL_LNOX namelist
  (see WARNINGS)
- mo_mz_tropop_e5.f90: lrerun = .false.
- mo_mz_tropop.f90: bug-fix
- mo_scan_buffer.f90:
  - (global) SAVE added
  - restore commands for .NOT. (ntrac > 0)
- mo_tracer.f90: restore commands for .NOT. (ntrac > 0)
- call_submodels.f90: updates for ATTILA
- dyn.f90: initialization and simplified condition for calculation of
  (p)etadot
- scan1.f90:
  - restore commands for .NOT. (ntrac > 0)
  - bug-fix for LAGRANGIAN tracers
- si1.f90: bug-fix for LAGRANGIAN tracers
- util/createMakefiles.pl.in: added \$(F90DEFS) for special rules on
  NEC-SX6
- mo_mz_attila_tools_e5.f90: new module
- physc.f90:  "IF (ntrac>0)" for "CALL xtdiagn" deleted

Changes by Michael Traub and Patrick Joeckel:
- mo_mz_attila_tools_e5.f90, mo_mz_attila_tools.f90,
  mo_mz_dlr_attila.f90, mo_mz_dlr_attila_e5.f90,
  mo_mz_dc_tools_e5.f90: updated
- run/nml/attila.nml: CPL-namelist added
- mo_mz_dradon.f90, mo_mz_dradon_e5.f90, dradon.nml:
  updated, coupling to ATTILA
- mo_mz_regrid_tools_e5.f90:
  updated for LAGRANGIAN tracers (INIT_TRACER)

Changes by Astrid Kerkweg:
- dyn.f90: IF (ldc% col_1d) petadot(jl,jk+1,jrow) = 0.

******************************************************************************

echam5.1.07_mz10 (8 Oct 03)

Changes by Rolf Sander:
- xecham: option "d" is now included in "c" and thus obsolete
- chemistry code updated to mecca version 08

Changes by Patrick Joeckel:
- stepon.f90, scan1.f90: original position of out_streams reestablished
- xmessy: queuing system NQSII for NEC-SX6 added
- mo_io.f90: bug fix for SPECTRAL representation
- xmessy: simplified and correction of INPUT-PATHs for NEC-SX6
- Makefile.in: added target 'make' to target 'all'
- mo_scan_buffer.f90: bug-fixes
- mo_mz_transform_e5.f90: move #ifdef EXPLICIT ... #endif blocks
  commented-out behind END MODULE (!!!) to make it compilable on SX6/cross
  (otherwise multiply defined. first defined in ../modules/mo_transpose.f90)
- Makefile.in, configure.in, configure: define LITTLE_ENDIAN
  (for nudging routines)

******************************************************************************

echam5.1.07_mz09y (2 Oct 03)

Changes by Patrick Joeckel and Rolf Sander:
- xecham, xmecca: tcsh path changed to /bin/tcsh
- mz_echam renamed to xmessy (changes also in xecham, configure.in,
  mo_exception.f90)
- xkpp renamed to xmecca (changes also in xecham, Makefile.in, mecca/decomp/*)

Changes by Michael Traub:
- cleaning of attila module files
- changing some parameters in attila-nml
- mo_mz_physc_interface.f90: units for etadot

Changes by Patrick Joeckel and Michael Traub:
- mo_tracdef.90, mo_tracer.f90, mo_memory_g1a.f90, mo_memory_gl.f90,
  mo_memory_streams.f90, mo_memory_base.f90, mo_memory_g1b.f90,
  mo_scan_buffer.f90, mo_sc1.f90 tf1.f90, tf2.f90, scan1.f90, si1.f90,
  mo_netcdf.f90, mo_netcdfstream.f90: add Lagrangian tracers
- mo_scan_buffer.f90: add TARGET attribute
- mo_linked_list.f90: minor changes

Changes by Patrick Joeckel:
- new module mo_mz_transform_e5.f90 (based on mo_transpose.f90)
  for the transformation between different representations
- update NCREGRID
- stepon.f90, scan1.f90: moved out_streams and call_read
- mo_mz_tools_e5.f90: update

******************************************************************************

echam5.1.07_mz09x (2 Oct 03)

Changes by Swen Metzger:
- update of M7 src code form box model version 1.2 to 1.3. Changed files:
  - in src/ directory: m7.f90, m7_dconc.f90, m7_dgas.f90, m7_dnum.f90,
    m7_equil.f90, m7_equimix.f90, m7_equiz.f90, m7_interface.f90,
    m7_nuck.f90
  - in modules/ directory: mo_aero.f90, mo_aero_m7.f90, mo_aero_trac.f90
  - in include/ directory: aeroctl.inc, aerom7ctl.inc
  - in run/nml/ directory: aerosol.nml, echam.nml

******************************************************************************

echam5.1.07_mz09w (1 Oct 03)

Changes by Rolf Sander:
- mo_io.f90: call message if expected stream element is not in rerun
  file and contnorest=T

Changes by Christian Kurz and Michael Ponater, DLR OP, Aug. 2003:
- cuini.f90, cuasc.f90, cuflx.f90, cudlfs.f90, cuddraf.f90, cubasmc.f90,
  cumastr.f90, cudtdq.f90, vdiff.f90: Update from Sabine Brinkop to
  ensure positive tracer concentration during the model integration.
  Look for string "op_ck_20031001" to identify the modifications.

  Reference: Brinkop, S., Sausen, R.: A Finite Difference Approximation
  for Convective Transports which Maintains Positive Tracer
  Concentrations. Beitraege zur Physik der Atmosphaere, 3, (1997), S.
  245-248

******************************************************************************

echam5.1.07_mz09v (1 Oct 03)

Changes by Astrid Kerkweg and Rolf Sander:
- mo_mz_physc_interface.f90: contnorest=.TRUE. added to streams
- mecca_mbl_calc_hrate and mecca_mbl_xaer moved from mo_mz_mecca_mbl.f90
  to mo_mz_mecca_mbl_e5.f90
- mecca/mbl: stricter separation between core and e5 files
- mo_mz_mecca_mbl_e5.f90: slf>0.8 instead of slm=1

Changes by Astrid Kerkweg:
- mz_echam and mh-linux: Getafix added as computer name
- gas.eqn, mo_mz_mecca_mbl*.f90: aerosol mode specifier AS/CS defined
  locally for submodel mecca_mbl
- tracdef.tex: Nap_cs tracer added

Changes by Holger Tost:
- mo_mz_scav*.f90: Bugs solved if it rains from above into a cloud: Now
  all rain that is falling into a box triggers below-cloud scavenging,
  all cloud water with a LWC > 1e-7 triggers in-cloud scavenging.
- mo_mz_scav_mem.f90: include new species for a more complex liquid
  phase chemistry scheme
- mo_mz_scav*.f90: unnecessary lines have been removed from the code

Changes by Joachim Buchholz:
- mo_mz_psc_e5.f90: psc stream elements khet1, ..., khet30 are no longer
  defined if USE_MECCA==.false. + minor improvements
- mz_psc_cloud.f90: new version, based on cloud.f90, not on old
  mz_psc_cloud.f90, which had a bug
- mo_memory_gl.f90: now tracer output can be switched off by optional parameter
  nwrite of subroutine new_tracer

Changes by Rolf Sander:
- inside the mecca files, "dp" is only defined in mo_mz_mecca and all
  other files use it from there
- gas.eqn: several updates from Rolf von Kuhlmann included (see
  mecca/CHANGELOG for details)

******************************************************************************

echam5.1.07_mz09u (27 Sep 03)

Changes by Laurens Ganzeveld:
- mz_echam, columnctl.nml: warnings added that 1D mode needs NPROMA=0
- mo_mz_emdep_emis.f90: the switch lemis_bio_NO_pls for pulsing is set
  to FALSE, until the rain history will be included.
- mo_mz_emdep_emis_e5.f90: Modified subroutine emdep_emis_chem_bcond to
  deal with the update of the tracer tendencies/pxtems for the off-line
  and on-line code
- emdep.nml: ef_3D_NO switched on again

Changes by Astrid Kerkweg:
- mecca_mbl: slm added for aerosol chemistry yes/no
- mecca_e5: subroutine save_emis 1/avo changed in 1/32. because sulfur mass
  and not number is needed.

Changes by Rolf Sander:
- vdiff.f90, mo_mz_dlr_attila_e5.f90, mo_mz_physc_interface.f90: zri_3d
  renamed to ri_3d because it is not a local variable
- mh-linux: syntax for lf95 option corrected to "--chk a,e,s,u,x"
- trailing spaces deleted in *mz*.f90
- mo_mz_emdep_xtsurf_e5.f90: Due to a problem of vd_bigl, all lines
  containing vd_bigl are commented out.

Changes by Astrid Kerkweg and Rolf Sander:
- physc.f90:
  - aerosol block     ! testing if .NOT. USE_AEROSOL makes no sense
  - "IF (USE_AEROSOL) THEN ... CALL m7_interface, CALL eqsam_interface
    ..." moved before vdiff because m7 aerosol radii are needed in vdiff

******************************************************************************

echam5.1.07_mz09t (24 Sep 03)

Changes by Swen Metzger:
- EQSAM aerosol composition model included (runs with and without Mecca
  chemistry)
- optionally the equilibrium model isorropia can be used on request (ask Swen).
- new or changed aerosol files: aero_eqsam_ctl.inc aeroctl.inc,
  aerosol.nml, mo_aero.f90, mo_aero_m7_eqsam.f90, mo_aero_mem.f90,
  mo_aero_trac.f90, mo_aerosol_e5.f90, mo_chem_forcing.f90,
  mz_eqsam.f90, mz_eqsam_interface.f90, eqsam_TM3_p07a_1997tavg.nc
- modified base files: cloud.f90, cudtdq.f90, cuflx.f90, physc.f90,
  surf.f90, vdiff.f90, echam.nml
- modified files in other submodels: mz_psc_cloud.f90, mo_mz_mecca_e5.f90
- changes for Mac: mh-mac, mz_echam

******************************************************************************

echam5.1.07_mz09s (23 Sep 03)

Changes by Rolf Sander:
- MECCA dummy stream deleted
- zriat_3d renamed to zri_3d
- xkpp produces requirements for submodel selections: REQ_PSC,
  REQ_PHOTO, REQ_AEROSOL (corresponding consistency check in
  mo_mz_submodels_switch.f90 deleted)
- mecca/mbl: stricter separation between core and e5 files
- H2O is now a regular MECCA tracer
- tracdef.tex: vini for accumulation soluble (as) deleted
- new uniform structure of input data files implemented
  (/modeldata/ECHAM5)

Changes by Michael Traub:
- mo_mz_physc_interface.f90: longname and unit of zri added

Changes by Holger Tost:
- mo_geoloc.f90, mo_tmp_buffer.f90, mo_memory_g1a.f90: duplicate SAVEs
  deleted

******************************************************************************

echam5.1.07_mz09r (10 Sep 03)

Changes by Rolf Sander:
- output of geoloc stream switched off

Changes by Michael Traub:
- mo_mz_physc_interface.f90: added some stream elements for attila

Changes by Patrick Joeckel:
- mz_echam / echam.nml: LMIDATM-switch for middle atmosphere version
- mz_echam: improved help
- submodel D14CO: tropopause for OH, STE now controlled via namelist
		  -> coupling to TROPOP possible
- submodel TROPOP: namelist control, O3(PV, month) added

******************************************************************************

echam5.1.07_mz09q (10 Sep 03)

Changes by Michael Traub and Patrick Joeckel:
- new submodel ATTILA:
  - added to mo_mz_submodels_switch.f90 and mz_echam
- new files mo_mz_dlr_attila_e5.f90 and mo_mz_dlr_attila.f90
- physc.f90, scan1.f90, stepon.f90, vdiff.f90, call_submodels.f90, dyn.f90:
  a few lines necessary to run *ATTILA* are added

******************************************************************************

echam5.1.07_mz09p (9 Sep 03)

Changes by Astrid Kerkweg:
- tracdef.tex: nrerun=OFF deleted for all aerosol species

Changes by Holger Tost:
- major changes in the scavenging code to prevent the scavenging of tracers
  that do not exist in mecca (structural changes, new module)
- the parameters necessary for the solution of the species as well as their
  tracer number is now in the new module MO_MZ_SCAV_MEM
- the I_ - Variables are replaced by the equivalent KPP_ - variables
- every local allocated variable is deallocated

Changes by Rolf Sander:
- mz_echam: if [ $ESH_NR -eq 1 ] ; then overwrite existing files in $WORKDIR
- bug fix in gas.eqn: H+O2 also for troposphere
- xecham: echo 0 >! data/ESH_NO to ensure that new binary will be used
- Makefile.in: distclean removes also src/*.log and modules/*.log

Changes by Astrid Kerkweg and Rolf Sander:
- CH3I emissions added

******************************************************************************

echam5.1.07_mz09o (8 Sep 03)

Changes by Patrick Joeckel:
- bug fixes in mo_io.f90 and mo_memory_base.f90
- new module mo_mz_tools_e5.f90 with ECHAM5-dependent MESSy tools
  currently: get tracer information usable on I/O-processor for unified
	     namelist read
- submodels d14co and dradon updated for unified namelist read
- submodel photo updated for unified namelist read
- submodel photo: output stream renamed to 'photo'
- update mo_mz_tools.f90
- update NCREGRID (v1.2b-dev)
- new submodel ADVECT
- new submodel TROPOP
- files in /modeldata: BIOSPH renamed back to XTSURF

Changes by Laurens Ganzeveld:
- BIOSPH renamed back to XTSURF
- more changes were done but precise details are not known anymore

Changes by Patrick Joeckel:
- new module mo_mz_tools.f90 with ECHAM5-independent MESSy tools
  usable in various submodels
  currently: routines to simplify NAMELIST input
- /modeldata/echam5_ini/mainz/emdep
  now contains files for BIOSPH and EMIS
- files renamed (XXX = tracer, yyyy = year, zzzzzzzzz = text, ??? = domain)
    emis_XXX_???.nc         -> offline emissions
    emis_ol_XXX_zzzzzz.nc   -> fields for online emission calculation
    emis_airc_XXX_yyyy.nc   -> aircraft emission data
    sfconc_XXX.nc           -> surface concentration
    biosph.nc
    biosph_soilpH.nc
- run/nml/emdep/nml: paths/filenames adjusted accordingly
- only one stream per sub-submodel: emis, biosph, lnox
- submodel EMDEP: STOP statements replaced by status/finish

******************************************************************************

echam5.1.07_mz09n (3 Sep 03)

Changes by Patrick Joeckel and Rolf Sander:
- submodels EMIS, XTSURF (now: BIOSPH), LNOX and DRYDEP combined into
  new submodel EMDEP (= emissions and deposition)

******************************************************************************

echam5.1.07_mz09m (2 Sep 03)

Changes by Laurens Ganzeveld:
- mo_column.f90: bug fix if LAT_1D or LON_1D are defined such that they
  are outside the grid of the selected model resolution. -> Call finish
- more changes were done but precise details are not known anymore

Changes by Holger Tost:
- mo_mz_scav_aqchem.f90: bug with N2O5_l fixed

******************************************************************************

echam5.1.07_mz09l (1 Sep 03)

Changes by Holger Tost:
- mo_geoloc, mo_tmp_buffer, mo_memory_g1a: SAVE included
- The scavenging routines are updated:
  - The liquid chemical reactions are updated now including the SO2
    oxidation and the heterogeneous loss of N2O5 whose reaction rate is
    still to be tested.....
  - The cloud reaction table has got new labels. Be careful that all the
    gasphase species used in the cloud.eqn exist in mecca. This still
    has to be developed.

******************************************************************************

echam5.1.07_mz09k (29 Aug 03)

Changes by Christoph Bruehl:
- photolysis controlled by tracer list, in mo_mz_photo_e5 a logical array
  is set to define stream elements and to calculate photolysis in
  mo_mz_photo only for species used. (iodine switch not needed anymore
  but stratos switch stays for special cases). The modules work in
  parallel environment.
- CH3Br and Halons introduced in MECCA and mecca_t.nml
- gas.eqn:
  - ALD + hv new RJ value: RJ_CH3CHO_3D
  - PAA + hv new RJ value: RJ_PAH_3d

******************************************************************************

echam5.1.07_mz09j (29 Aug 03)

Changes by Joachim Buchholz:
- mo_mz_psc.f90: all subroutines have been replaced by elemental functions, all
  functions have been made elemental
- mo_mz_psc_e5.f90: structure of subroutine psc_chem changed; bugs fixed
- psc_t.nml: i_hyar changed for 2d_Dez2000.nc; i_ps new, i_p0 changed for
  echam4chem.nc
- psc.nml: var from Aliq_sage.nc now A_LIQ_92 instead of A_LIQ_99

Changes by Rolf Sander:
- xecham:
  - new option sx to use cross compiler on hydra
  - optionally call xkpp
  - option "s" renamed to "snompi" and option "sm" renamed to "s"
- master.f90, inidoc.f90, mo_doctor.f90: new version string echam_version
- inidoc.f90: writing correct advection scheme to nc file
- mo_mz_mecca_gdata.f90: definition of modstr_mecca and modver_mecca is
  now here
- run/nml/*.nml: $RES changed to ${RES} in all outfile names

******************************************************************************

echam5.1.07_mz09i (13 Aug 03)

Changes by Laurens Ganzeveld:
- emission code now works in parallel environment
- tracer basename vs. full name inconsistency removed
- mo_tracer.f90: grmass [kg] (NEW UNIT!!!) and grvol [m3] for
  mo_mz_physc_interface are defined
- emis and xtsurf are now independent of MECCA
- mo_mz_emis_e5.f90: call finish if bioemis=true and USE_XTSURF=false
- mo_physc_interface: units for prc=m, prl=m
- output of drydep stream elements only for species that deposit
- bugs fixed in both offline and online (biogeo) emissions.

******************************************************************************

echam5.1.07_mz09h (12 Aug 03)

Changes by Patrick Joeckel:
- mz_echam: several bug fixes
- mo_mz_regrid_tools_e5.f90: TRACER_INIT skipped after restart (untested)
- mo_mz_dlr_lnox*.f90, lnox.nml, mo_mz_submodels_switch.f90, mz_echam,
  call_submodels.f90: new SUBMODEL LNOX (not yet giving scientific
  reasonable results !!!)
- config/mh-nec: update NETCDFROOT
- mo_linked_list: empty_info is no PARAMETER on SX6

Changes by Rolf Sander:
- xecham: info how to view log file on hydra while job is running

******************************************************************************

echam5.1.07_mz09g (11 Aug 03)

Changes by Christoph Bruehl:
- mo_mz_photo*.f90, photo*.nml:
  - Fixed dimension of HALOE-ozone array changed to T106.
  - Stratospheric photolysis rates can be switched off from namelist
  - arrays in 'photo_cal' reordered for better vectorization and easy
    introduction of general species switches.

Changes by Benedikt Steil:
- new scripts in mecca/decomp/
- mo_mz_mecca_kpp_mem.f90: Currently all functions appear twice. The old
  functions are still active. The new functions will be called soon to
  check for potential differences. The check is done, and there are no
  differences.

Changes by Rolf Sander:
- changes in mecca/ directory (see mecca/CHANGELOG)
- mo_mz_physc_interface.f90: tslm1 from g3b added

******************************************************************************

echam5.1.07_mz09f (7 Aug 03)

Changes by Astrid Kerkweg:
- tracdef.tex: label CONSTANT deleted for aerosol initialisation
- mo_mz_mecca_e5.f90, mo_mz_mecca_mbl_e5.f90:
  subroutines "mecca_mbl_save_pH" and "mecca_mbl_diag_output" added
- mo_mz_mecca_mbl.f90: limit for mbl chemistry set to lwc>1E-12

******************************************************************************

echam5.1.07_mz09e (6 Aug 03)

- NOTE: There are many small changes in mo_nudging*.f90 by Joachim which
  are not marked individually with mz_jb_* labels. If you have any
  questions, please ask Joachim or Patrick.

Changes by Joachim Buchholz:
- mo_control.f90: SAVE attributes removed, global SAVE statement added
- mo_diag_tendency.f90: SAVE attributes added for pdvor, pddiv, pdtem, pdprs,
  pdprl, p4prs
- mo_memory_g3b.f90: global SAVE statement added
- mo_memory_sp.f90: global SAVE statement added
- mo_netcdf.f90: SAVE attributes added for BELOWSUR, SURFACE, ABOVESUR2,
  ABOVESUR10, HYBRID, HYBRID_H
- mo_nudging*.f90: modifications for use of nudging with nproma /= 0 + minor
  improvements
- mo_physc2.f90: global SAVE statement added
- mo_post.f90: global SAVE statement added
- mo_time_control.f90: SAVE attributes added for nudg_start, nudg_stop,
  ndg_date0, ndg_date1, ndg_date2, ndg_date3, ndg_inp_date
- mo_transpose.f90: "USE mo_kind, ONLY: dp" added and used for dummy arguments
  and local variables in overloaded subroutines scatter_sp, scatter_gp

Changes by Patrick Joeckel:
- mo_memory_base.f90: bug fix in add_stream_reference (info copied to reference)

Changes by Rolf Sander:
- changes in mecca/ directory (see mecca/CHANGELOG)

******************************************************************************

echam5.1.07_mz09d (1 Aug 03)

Changes by Rolf Sander:
- changes in mecca/ directory (see mecca/CHANGELOG)
- mz_echam: logfile contains job-id

Changes by Holger Tost:
- xecham: infos about log file on hydra

Changes by Benedikt Steil:
- mo_mz_mecca_kpp_mem.f90: all kpp functions optimized as ELEMENTAL.
  Currently all functions appear twice. The old functions are still
  active. The new functions will be called soon to check for potential
  differences

******************************************************************************

echam5.1.07_mz09c (31 Jul 03)

Changes by Rolf Sander:
- changes in mecca/ directory (see mecca/CHANGELOG)

Changes by Patrick Joeckel:
- util/createMakefiles.pl.in : - architecture specific rules cleaned up
- d14co, dradon: transition to 'kind'-parameter
- config/mh-aix, config/mh-alpha: updates for NCPUS > 1
- config/mh-*: minor changes
- mo_mz_dc_tools_e5.f90: new SUBROUTINES for index decomposition
  of 1D and 4D fields
- mo_netcdf.f90: SAVE added
- mo_grib.f90, mo_io.f90, mo_linked_list.f90, mo_memory_base.f90,
  mo_netcdfstream.f90, mo_mz_dc_tools_e5.f90:
  added LAGRANGIAN representation for I/O and rerun-handling of
  1D fields (LAGRANGIAN information)
- mz_echam: update, preparations for new $INPUTDIR_* path-structure
- new info for howto setup on the IBM (AIX) ->
  www.mpch-mainz.mpg.de/~sander/echam/mz_echam.pdf
- mo_mz_regrid_base.f90: USE mo_kind / USE typesizes instead of
  hard-coded kind-parameters
- clean up all paths in *.nml
- *.nml:
  - comment-out 'outfile' in regrid-namelists
  - standard name of 'outfile' is now ncrg_$RES_*.nc without explicit path !
- nec_gmake: deleted, not necessary anymore

******************************************************************************

echam5.1.07_mz09b (25 Jul 03)

Changes by Rolf Sander:
- xecham: mpi and queueing updated
- mo_memory_g3b.f90: lines >132 characters truncated
- *.awk: [A-z] replaced with [A-Za-z] because of bug in old gawk version
  on hydra

Changes by Christoph Bruehl:

- The bugs in the photoroutine in case of 'iodine=.true.' are corrected:
  a broadcast of 'iodine' in 'mo_mz_photo_e5' is added; fint in
  'photo_cal' in 'mo_mz_photo' has now also the levels as dimension to
  allow correct splitting of loop
- Code runs on multi-processors on alpha and linux!
- photo.nml with consistent path (as in mz08)
- mz_echam_ma and echam_ma.nml for middle atmosphere version (timestep
  for T21, for T42 it has to be 900).

Changes by Patrick Joeckel:

******************************************************************************

echam5.1.07_mz09 (18 Jul 03)

- Alpha/OSF:                only 1 CPU with --disable-MPI
- Linux-PCs, Linux-Cluster: O.K.
- NEC-SX6/SUPER-UX          O.K., but netCDF I/O veeeery slow !!!
- IBM-SP2/AIX               only 1 CPU

Changes by Patrick Joeckel:
- util/createMakefile.pl.in: changes required for IBM/AIX
- update in configure and Makefiles
- mo_mz_d14co.* and mo_mz_dradon.*: jp for kproma loop variables etc.
- mo_mz_emis_e5.f90 and mo_mz_scav_e5.f90: bug fixes for standard f90
- mz_echam: delete comments in namelists when copying to working directory

******************************************************************************

echam5.1.07_mz08f (14 Jul 03)

Changes by Michael Traub and Patrick Joeckel:
- new MODULE mo_mz_dc_tools_e5.f90

Changes by Patrick Joeckel:
- mo_memory_base.f90:
  - bug-fix: for average and standard deviation for stream-references
    (lsd requires lav !)
- mz_echam: new switch/namelist for nudging
  (implementation similar to column-switch)
  - new namelist nudge.nml
  - changed echam.nml
- new submodel DRADON
- for consistency, mo_mz_14co*.f90 renamed to mo_mz_d14co*.f90

Changes by Laurens Ganzeveld:
- submodel structure rearranged: EMIS, DRYDEP, XTSURF
- improved netcdf stream output by emis
- emis_out_lforce independent of ntrac

Changes by Holger Tost:
- The module structure has been made similar to the mecca structure.
  Because of this the kpp generated files were renamed as well as the
  generated and used modules.
- Basic module:
  - mo_mz_scav_e5 calls mo_mz_scav and mo_mz_scav_aqchem
  - mo_mz_scav_aqchem calls mo_mz_scav_liq_coeff, mo_mz_scav_cloud_kpp,
    mo_mz_scav_cloud_gdata, mo_mz_scav_cloud_sprsdata
- The mecca_scav directory is no longer neccessary as the scavenging
  kpp-files are now generated with the xkpp script in an additional run
  to the mecca-files.
- The scavenging routines run but do not yet produce reasonable results
  for all species !!!!!

Changes by Astrid Kerkweg:
- changes in mecca/ directory (see mecca/CHANGELOG)
- aerosol emission in pxtems (mo_mz_mecca_mbl_e5.f90)
- mo_aero_mem.f90: diag stream: lrerun and lpost equal false

******************************************************************************

echam5.1.07_mz08e (9 Jul 03)

Changes by Joachim Buchholz:
- mo_mz_psc.f90: minor changes
- mo_mz_psc_e5.f90: second order heterogeneous reaction rates khet1,
  khet2, ..., khet30 are now limited to range 0.0 <= khet?? <= 1.0E-5; some
  more minor changes
- mz_psc_cloud.f90: updated according to changes in cloud.f90; variable
  declarations and implicit none statement added

Changes by Christoph Bruehl:
- mo_mz_photo.f90, mo_mz_photo_e5.f90: reading HALOE data works for
  NCPUS>1, but correctly only for T42.
- photo.nml: iodine switch
- mecca_t_ma.nml: entries for middle atmosphere

Changes by Patrick Joeckel:
- mo_exception.f90 (SUBROUTINE finish):
  - file 'END' written when ECHAM5 is terminated
  - IF (p_parallel_io) not used because any processor can CALL FINISH
- mo_netcdfstream.f90: bug-fix for 3D/4D stream elements with 1 level
- mo_memory_base.f90:
  - bug-fix: average and standard deviation now also works for stream-references
  - added optional error-status for add_stream_reference
- master.f90: corrections for proper termination of ECHAM5
  (lstop, lbreak, labort)
- mz_echam:
  - Blade-Center (Linux-Cluster) rerun-facility working using bc-c1
    as qsub-host
  - IBM Load Leveler (AIX) added
  - separate SWITCHES and NAMELIST-FILES
  - -h option for online-help
- new compile script 'nec_gmake' for all NEC-SX6 cross-compiler hosts

******************************************************************************

echam5.1.07_mz08d (8 Jul 03)

- Some files renamed to show that they belong to the submodel MECCA. Now
  the modules contained in these files have the same names as the files
  mo_mz_kpp.f90          -> mo_mz_mecca_kpp.f90
  mo_mz_kpp_gdata.f90    -> mo_mz_mecca_gdata.f90
  mo_mz_kpp_sprsdata.f90 -> mo_mz_mecca_sprsdata.f90

- since add_stream_reference cannot be used for stream elements with
  laccu=T, attempting this now produces a CALL FINISH. tsurf and wind10
  are now defined correctly in physc stream. The stream elements aprc,
  aprl, and evap are not defined anymore.

- several changes in kpp files, e.g. substeps are now defined separately
  for each integrator in integr/*.k. For details, see versions 7 and 8
  in mecca/CHANGELOG

- vdiff.f90: discard negative tracer values with
  zdxtdt = MAX(-pxtm1(jl,jk,jt)/time_step_len-pxtte(jl,jk,jt), zdxtdt)

- mo_memory_base.f90: call finish if trying add_stream_reference for
  element with laccu = T

- src/xt_vdrydep_presc.f90 deleted because it was not used

- physc.f90: CALL xt_burden switched off

******************************************************************************

echam5.1.07_mz08c (2 Jul 03)

- several changes by Astrid Kerkweg for mecca_mbl subsubmodel:

  - src/xt_sedimentation.f90: calculation of sedimentation for aerosol comp. added

  - src/xt_chemistry.f90 : calculation of wetdeposition for aerosol comp. added

  - mo_mz_xtsurf_e5.f90 : calculation of deposition velocities for aerosol
			  components  added

  - mo_mz_xt_emis.f90: Division by g for emission calculation with geopoti

  - mo_mz_meca_mbl_e5.f90: Division by g added 1.d6 => 1.d-6
			   for emission calculation

  - KPP_ /= 0  for every hrate-calculation ?
	  modules/mo_mz_mecca_mbl.f90

  - changes according to forcheck errors, warnings, informations in
	  nearly all modules/mo_mz_mecca*.f90  files
	  modules/mo_control.f90:  SAVE added for maxrow

  - changes from AEROSOLMASS (for mecca_mbl tracer) to AEROSOLVMR:
	  mecca/tracdef.tex
	  modules/mo_tracer.f90
	  modules/mo_mz_mecca_e5.f90
	  modules/mo_mz_xtsurf_e5.f90

  - changes from a3/a4 =>  as/cs   and tracerflag mode AS=13, CS=14:
	  mecca/mecca.spc
	  mecca/xkpp
	  mecca/aerosol.eqn
	  mecca/tracdef.tex
	  modules/mo_tracer.f90
	  modules/mo_mz_mecca_mbl_kpp_mem.f90
	  modules/mo_mz_mecca_mbl.f90
	  modules/mo_mz_mecca_mbl_mem.f90
	  modules/mo_mz_mecca_e5.f90

  - gas.eqn: change k_H2 into a function

  - mo_mz_mecca*.f90: change calculation of cmass and massc
		      change k_H2 into a function
		      insert emission calculations (rewrite existing dummies)

  - xt_chemistry.f90:  exclude the wetdeposition if tracers modulename
		       not equal m7

  - xt_aero_prop.f90:   if tracers modulename not equal m7 do not recalculate
			mixing ratios

  - cuflx.f90 : exclude the whole wetdeposition block if tracers modulename
		not equal m7

- new submodel USE_SCAV from Holger Tost:

  - new files: mo_mz_scav.f90, mo_mz_scav_e5.f90,
    mo_mz_scav_aqchem_kpp.f90, mo_mz_scav_liq_coeff.f90,
    mo_mz_cloud_kpp.f90, mo_mz_cloud_kpp_gdata.f90,
    mo_mz_cloud_kpp_sprsdata.f90

  - currently needs mecca idt_*

  - The kpp files are made automtically by kpp using the script
    xkpp_cloud in the mecca_cloud directory (by now tested only with
    ros3)

  - call_submodels.f90, mo_mz_submodels_switch.f90, mz_echam: USE_SCAV
    added

  - mo_mz_physc_interface.f90: the stream_element tm1_3d und tte_3d must
    be given the lrerun=.true. for runs with rerun values because these
    values are needed in convective scavenging before their actual
    calculation.

  - cloud.f90: several elements of the phy_scav stream filled in this
    routine

  - cuflx.f90: the convective scavenging is called in this routine added
    some parameters needed for the scavenging routine coming from
    cumastr

  - cumastr.f90: call cuflx changed with the now neede elements of cuflx

- ncregrid: minor bug fixes, see CHANGELOG of ncregrid

- mo_grib.f90: bug-fixes for average + standard deviation

- configure.in and configure: message to set NCPUS=0 in run/mz_echam if
  configured with --disable-mpi

- mz_echam:

  - SYSTEM=Darwin (on MAC) included

  - NCPUS=0 -> run ECHAM5 without mpirun (configured with --disable-mpi)

  - new feature: set horizontal-resolution dependent input paths for
    using pre-regridded data (Swen)

- special workaround for the NEC-SX6: The tcsh-scripts
  (nec_compile.suncross and nec_compile.mainz) are required for compilation
  of ECHAM5 for the NEC-SX6 on suncross.dkrz.de and on our Linux-PCs,
  respectively. The scripts
  - combine the usage of two compiler releases (rev267 and rev270)
    (both available also on linux-/soft !!!)
  Usage: ./configure --host=sx6
	 gmake make
	 ./nec_compile.<machine>

******************************************************************************

echam5.1.07_mz08b (24 Jun 03)

- mh-linux: different MPI for hydra

- mh-*: MPIROOT cannot be used as $(MPIROOT) here

- mz_echam: adapted for NEC-SX6

- gmake zip produces a file in the echam base directory again. However,
  it now complains if there is one already and it does not archive zip
  and tar files. This way consecutive calls of "gmake zip" do not
  accumulate previously created zip files.

- new option "gmake etags" creates TAGS file for emacs

- mo_mz_mecca_e5.f90: zq added again

- call new_tracer only for those species that are in kpp mechanism (see
  mecca/CHANGELOG)

- mo_mz_physc_interface.f90, mo_gaussgrid.f90: SAVE attributes added

- cuflx.f90: USE_AEROSOL switch added

- mo_mz_emis_e5.f90: preliminary bug fixes

******************************************************************************

echam5.1.07_mz08 (12 Jun 03)

- mo_memory_base: subroutines get_stream and get_stream_element now return
  ierr=1 if stream does not exist (like get_tracer)

- psc module updated

- mo_mz_xtsurf_e5.f90: dry deposition velocities for mecca_mbl species
  included in xtsurf_vdaer

- gas.eqn, aerosol.eqn: fhet* unified to fhet; TABs deleted; 1e0 changed
  to 1d0 etc.

- xkpp: modstr_mecca and modver_mecca deleted (moved to mo_mz_mecca.f90)

- mo_aero_mem.f90: awc_m* deleted

- mo_control.f90, mo_geoloc.f90, mo_memory_g1a.f90, mo_memory_gl.f90,
  mo_mpi.f90, mo_tmp_buffer.f90: SAVE attributes added

- mo_aero_nucl.f90, mo_chem_forcing.f90, mo_midatm.f90,
  mo_mz_psc_e5.f90, mo_scan_buffer.f90, mo_semi_lagrangian.f90,
  mo_time_base.f90, mo_tmp_buffer.f90, m7_averageproperties.f90,
  m7_coaset.f90, m7_delcoa.f90, m7_equiz.f90: all TABs deleted

******************************************************************************

echam5.1.07_mz07d (10 Jun 03)

- updated emission and deposition routines: (sea-salt emissions not
  killed anymore, all TABs deleted, etc.)

- mz_echam: setting the new variable $INPUTDIR_MZ allows the Mainz input
  files to be in a subdirectory completely independent of echam5_ini/

- xkpp uses new kpp version v1.1-f90-devel

- gmake zip now produces a file in ".." not in the echam base directory.
  This way consecutive calls of "gmake zip" do not accumulate previously
  created zip files.

******************************************************************************

echam5.1.07_mz07c (09 Jun 03)

- radau5 added to kpp

- prerad.f90, m_solang.f90: SZA>90 is now possible

- photolysis works with nproma

******************************************************************************

echam5.1.07_mz07b (29 May 03)

- mo_mz_emis_e5.f90, mo_mz_xt_emis.f90, mo_mz_xtsurf_e5.f90: new
  filenames for USE mo_mz_mecca_mem

- mo_mz_mecca renamed to mo_mz_mecca_e5

- mbl submodel:

  - mo_mz_mbl_e5.f90, mo_mz_mbl.f90: restructured

  - new files: mo_mz_mbl_kpp_mem.f90, mo_mz_mbl_mem.f90

- xecham: only contents of data/ is moved to $TRASH, not the directory
  itself. It should now also work if data/ is a link.

******************************************************************************

echam5.1.07_mz07 (26 May 03)

- psc submodel adapted to nproma

- some kpp/mecca changes (see mecca/CHANGELOG)

- hrate and DUMMY_EMISSION moved from mo_mz_mbl.f90 to mo_mz_mbl_e5.f90

- several subroutines moved from mo_mz_kpp_interface to mo_mz_mbl_e5.f90

******************************************************************************

echam5.1.07_mz06e (22 May 03)

- new submodel MBL:

  - added to mo_mz_submodels_switch.f90, call_submodels.f90:

  - new files: mo_mz_mbl.f90, mo_mz_mbl_e5.f90,
    mo_mz_mbl_kpp_interface.f90, mbl.nml

  - mo_mz_mecca.f90:
    - gas-phase halogen tracers added
    - modstr_mecca and modver_mecca moved to mo_mz_kpp
    - submodel USE_MBL added

- new mecca version 05 (see mecca/CHANGELOG)

- changes in aerosol and xtsurf models to ensure they work with MBL submodel:

  - mo_aero_mem.f90: stream elements awc_M3 and awc_M4 added

  - mo_aero_trac.f90, mo_chem_forcing.f90, cuflx.f90, m7_interface.f90,
    xt_chemistry.f90: all tracers (idt_*) renamed to idt_*_m7

  - m7.f90: pww added for mbl

  - mo_mz_xtsurf_e5.f90:
    - idt_SO4 renamed to idt_H2SO4
    - CALL new_tracer deleted

- run/nml/emis.nml: emis_bio_NO = .false. until it works with nproma

- CALL update_physc moved from driver to mo_mz_mecca

- physc.f90, vdiff.f90: Additions from Philip only active IF USE_AEROSOL

- xecham:

  - environment variable TRASH introduced (moving insteat of deleting
    old data/* files)

  - operating system dependent options for qsub

  - optional disable-MPI for configure

******************************************************************************

echam5.1.07_mz06d (19 May 03)

- run/mz_echam: goedel and bromine added

- xkpp handles markers A3 and A4

- the mecca/ subdirectory was moved into the echam base directory. This
  makes synchronization of echam and mecca versions much easier.

- mo_mz_emis.f90, mo_mz_emis_e5.f90, mo_mz_xt_drydep.f90,
  mo_mz_xt_emis.f90, mo_mz_xtsurf.f90, mo_mz_xtsurf_e5.f90: submodels
  EMIS and XTSURF adapted to nproma

- submodels EMIS and XTSURF are now independent of MECCA

- some changes to allow setting USE_AEROSOL=.false.:
  - src/cloud.f90: CALL xt_chemistry only IF USE_AEROSOL=.true.
  - src/cudtdq.f90: calculation of zprecip only if USE_AEROSOL=.true.
  - src/physc.f90: CALL m7_interface, CALL xt_aero_prop, and CALL
      xt_sedimentation only if USE_AEROSOL=.true.
  - src/surf.f90: calculation of smelt only if USE_AEROSOL=.true.
  - src/vdiff.f90: calculation of velo10m only if USE_AEROSOL=.true.

******************************************************************************

echam5.1.07_mz06c (13 May 03)

- run/mz_echam: completely rewritten

- xecham:
  - adapted to new mz_echam
  - cleanup of data/ directory before model start

- mecca subdirectory moved into echam directory

- no check if (USE_MECCA=.false. and USE_XTSURF=.true.) because this
  should be possible in the future

- no check if (USE_MECCA=.false. and USE_EMIS=.true.) because this
  should be possible in the future

- Makefile.in:
  - @DEFOPT@ECHAM5 added to F90DEFS
  - gmake zip and tar exclude i.*.L

- config/mh-nec: now for compilation on NEC-SX6, cross.dkrz.de, and
  Linux-PCs (with /soft !). The two latter need ./configure --host=sx6

- configure.in: AC_SUBST(DEFOPT,$DEFOPT) added

- call_submodels.f90, mo_mz_mecca.f90: dummy subroutine mecca_read deleted

- netcdf90/netcdf_overloads.f90, netcdf90/typeSizes.f90,
  mo_mz_regrid_base.f90: compiler directives for NEC-SX6

- netcdf90/Makefile: $(DNECSX) deleted because it is obsolete

- modules/mo_mz_regrid_base.f90: #ifdef ECHAM5

- mo_mz_regrid_tools_e5.f90: 3D fields and 2d-ps are distributed with
  scatter_gp, if 3D regridding, or horizontal regridding has been
  performed, respectively ; via p_bcast else...

- submodel d14co adapted to nproma

- util/createMakefiles.pl.in: special -Cvsafe option for
  mo_mz_regrid_nc.f90 on SX

******************************************************************************

echam5.1.07_mz06b (6 May 03)

- aeroctl.inc: CR added at end of file

- Makefile.in: "test -e" changed to "test -r"

- mo_mz_regrid_tools_e5.f90, mo_mz_mecca.f90, mo_mz_14co_e5.f90: adapted
  to nproma

- data from mo_memory_g2a and mo_memory_g3b (e.g., albedo, aclc, slf)
  can now be accessed via USE mo_mz_physc_interface

- mo_mz_xtsurf_e5.f90: no gdims and ldims for standard-shape streams

- mo_mz_photo_e5.f90: CALL photolysis switched off because it doesn't
  work with nproma

- run/mz_echam: USE_D14CO=.false., USE_EMIS=.false. and
  USE_XTSURF=.false. because they don't work with nproma

- physc.f90, radiation.f90, vdiff.f90: stream elements for
  mo_mz_physc_interface adapted to nproma

- xecham: configure with option --disable-MPI

******************************************************************************

echam5.1.07_mz06 (30 Apr 03)

- run/mz_echam:

  - currently using mini initialization for chemistry (mecca_t_min.nml)
    to make model start faster

  - NPROMA=0 (other values don't work yet)

- mo_mz_mecca.f90: new subroutine check_range tests, if tracer mixing
  ratios are 0 < mr < 1

- submodel d14co changed to nproma

- $NPROMA added to echam.nml

- util/createMakefiles.pl.in and Makefile.in: special treatment for
  mo_grib.f90 because of compiler bug on alpha machines

- mo_aero_trac.f90, src/xt_chemistry.f90 and run/nml/aerosol.nml:
  chemistry tracers OH, H2O2, O3, and NO2 renamed to OH_m7, H2O2_m7,
  O3_m7, and NO2_m7 to avoid conflict with mecca tracers

- mo_mz_physc_interface.f90: add_stream_reference activated

******************************************************************************

echam5.1.07_mz05f (28 Apr 03)

- modstr  = 'aerosol' and modver  = '0.18' moved to modules/mo_aero.f90
  to avoid cyclic redundancy in Makefile

- mo_physc_interface renamed to mo_mz_physc_interface

- gmake check starts forcheck

- basic statistics (average and standard deviation) for tracer and
  stream netcdf output re-introduced

- d14CO submodel added and renamed to d14co

******************************************************************************

echam5.1.07_mz05e (28 Apr 03)

- kpp chemistry currently switched off!!!

- several changes to make xtsurf and aerosol submodels compatible

- mo_mz_submodels_switch.f90: WRITE(*,*) changed to WRITE(nout,*)

- all the Mainz modification re-introduced from version
  echam5.1.04_mz05. The following files were changed:

  modules/mo_constants.f90
  modules/mo_doctor.f90
  modules/mo_geoloc.f90
  modules/mo_memory_streams.f90
  modules/mo_netcdfstream.f90
  modules/mo_parameters.f90
  modules/mo_physc_interface.f90
  modules/mo_tracer.f90
  src/cuadjtq.f90
  src/cumastr.f90
  src/daystat.f90
  src/inidoc.f90
  src/physc.f90
  src/radiation.f90
  src/setdyn.f90
  src/vdiff.f90

- All the submodels from Mainz were re-introduced. The following files
  were added and/or changed:

  modules/mo_mz_*.f90       (14CO not yet!!!!!!!!!!!)
  src/call_submodels.f90
  include/substeps.f90
  src/mz_psc_cloud.f90

- Some features from the preliminary run/mz_echam_new were introduced in
  run/mz_echam.

******************************************************************************

echam5.1.07_mz05d (26 Apr 03)

- src/call_submodels.f90: CALL radionucl_sink, CALL request_tracer_nml
  and CALL set_tracer_nml re-inserted

- mo_aerosol_e5.f90:
  - CALL radionucl_sink, CALL request_tracer_nml and CALL set_tracer_nml
    deleted
  - xt_read_emiss_fields is now a local sub-subroutine

- mo_chem_forcing.f90: subroutines xt_read_chem_fields and
  xt_read_emiss_fields completely deleted here

- mo_mz_submodels_switch.f90: CALL put_submodel_nc_att activated

- mz_echam is a generalization of the previous mz_m7

- run/nml/echam.nml is now in a separate file, not in mz_echam anymore

- src/vdiff.f90: velo10m(jl,jrow)=... activated

******************************************************************************

echam5.1.07_mz05c (24 Apr 03)

- modules/mo_tracer.f90: leapfrog bug fix for xtm1
  IF (PRESENT(xtm1)) xtm1(:,:,jt,:) = (1. - eps) * xt(:,:,jt,:)

- run/mz_m7: since 5.1.07, use TSLCLIM2.nc instead of TSLCLIM.nc for all
  resolutions

- src/ltd.f90 updated from recent clearcase version to fix bug in 1D
  mode (P. Stier, pers. comm.): IF ( nlnm0 > 0 ) THEN ... END IF

- model start moved from 18:00 to midnight: DT_START = 1978,01,01,0,0,0

- Several changes by Patrick Joeckel:

  - configure.in: F90R8, F90FLAGS, LDFLAGS, final message modified ;
		  simplified ;
		  SRCDIRS, LIB(S), and INCLUDES automatically generated
		  (i.e. not longer needed in config/mh-*) ;

  - config/
    - mh-linux:   simplified
    - mh-alpha:   new
    - other mh-*: not yet available
    - config.guess, config.sub, install-sh from automake version 1.7

  - configure: generated from configure.in with GNU Autoconf 2.57:
    - default: --enable-MPI (where possible)
    - no MPI : --disable-MPI or --enable-MPI=no

  - Makefile.in: F90R8, F90NOR8, ARFLAGS, NMFLAGS, ... (simplified)

  - util/createMakefiles.pl.in: add special rules (F90NOR8)

  - modules/mo_mz_submodels_switch.f90:
    - new switch USE_MZ_M7
    - all other submodels commented out

  - run/mz_echam_new  + modules/mo_start_dataset.f90:
      namelist.echam -> echam.nml

  - run/mz_echam_new: echam.nml also copied from run/nml - subdirectory

  - src/call_submodels.f90: all submodels commented out, except for mz_m7

  - changed call statements in:
	  src/initialize.f90
	  modules/mo_memory_streams.f90
	  modules/mo_tracer.f90
	  src/stepon.f90

  - new modules/file mo_mz_m7_e5.f90 (almost consistent with submodel structure)

  - regridder:
    - NCREGRID v1.1b-dev and modified
    - used in modules/file mo_mz_m7_e5.f90
    - commented out routines, using the old regridder in
      modules/mo_chem_forcing.f90

  - dry deposition is temporarily switched off until it is
    re-implemented by Laurens:
    - src/vdiff.f90:
      - CALL xt_drydep in line 987 commented out
      - calculation of velo10m in line 2084 commented out
    - src/xt_drydep.f90               --> src/xt_drydep.f90.bak
    - modules/mo_mz_xtsurf_init.f90   --> modules/mo_mz_xtsurf_init.f90.bak
    - modules/mo_mz_xtsurf_drydep.f90 --> modules/mo_mz_xtsurf_drydep.f90.bak

******************************************************************************

echam5.1.07_mz05b (22 Apr 03)

- starting from Philip's ori/echam5107_m7_AEROSOL_M7_E5107_0.18.tar.gz
  and re-introducing all Mainz additions again.

- cp xecham CHANGELOG README_MZ from echam5.1.04_mz05

- chmod -R u+w *

- mh-alpha, mh-linux: NETCDFROOT =  /soft/netcdf/v3.5.1b

- mh-linux:

  - "-llapackmt -lblasmt" changed to "-llapack -lblas" (the optimized
    *mt libraries are not included in our Linux express version)

  - F90FLAGS changed

- new or improved gmake options in Makefile.in: zip, zipall, help, tar,
  tarall, make, purge, clean, distclean

- configure: alpha-*-* changed to alpha*-* because $host = alphaev56-dec-osf5.1

- src/master.f90: duplicate line "USE mo_exception, ONLY: finish,
  message" removed

- src/setdyn.f90: dummy default values defined for enspodi, nlvspd1,
  nlvspd2

******************************************************************************

echam5.1.04_mz05 (2 Apr 03)

- photolysis code updated. It should now also work properly in 1D SCM

- psc code updated:

  - deleted: mo_mz_psc_check.f90 mo_mz_psc_init.f90 mo_mz_psc_interface.f90

  - new: mo_mz_psc_e5.f90

- modules/mo_mz_mecca.f90: some molar masses ("moleweight") added to
  new_tracer

- mz_1d integrated into mz_echam

******************************************************************************

echam5.1.04_mz04d (18 Mar 03)

- new: run/mz_echam_new can handle parallel runs (currently under
  construction)

- config/mh-* updated for MPI

- mo_exception.f90, master.f90: last parameter deleted in SUBROUTINE
  finish (name, text)

- mo_mpi.f90: CALL MPI_ABORT (MPI_COMM_WORLD, 1, p_error) -> exit status 1

- bug in mo_io.f90 fixed (rerun)

- update of 14CO modules

- mo_mz_photo*.f90:
  - V2_H deleted (was defined but not used)
  - replaced STOP statements by 'CALL finish'

- regridder updated to v1.1b

- mecca now uses troposheric initial values from t63nmhc8_8.nc (the
  previous t21nmhc8_12.nc is obsolete)

- mo_mz_emis_e5.f90: bug fixes in strings

- mo_mz_submodels_switch.f90: bug fixes

- mz_1d currently under construction

******************************************************************************

echam5.1.04_mz04c (17 Feb 03)

- input data files via namelist in mo_mz_photolysis_e5.f90
     - new CTRL-namelist in run/nml/photo.nml
     - 3 links to datafiles removed from run/mz_echam
     - modstr moved from mo_mz_photo_e5.f90 to mo_mz_photo.f90
     - modver in mo_mz_photo.f90
     - modver_photo and modstr_photo activated in mo_mz_submodels_switch.f90

- *.jnl files excluded from 'gmake zip' and 'gmake tar' (Makefile.in)

- update of 14CO modules

******************************************************************************

echam5.1.04_mz04b (13 Feb 03)

- photolysis code:

  - files renamed from mo_mz_photolysis* to mo_mz_photo*. This prevents
    confusing it with the old code (and the old lookthal.dat).

  - 1D runs now (maybe) possible. Question about ngl still unresolved.

  - night-time photolysis for halogen species deleted

  - only 2 values for C4_INO3 in lookthal (used to be 3)

  - lookthal.dat changed and renamed to lookthal_v2.dat. There is no
    backward compatibility!

  - new species: PAH and CH3COCHO

  - IMPLICIT NONE

  - tf changed to the correct and consistent temp_3d = tm1 + delta t * tte

  - fj_corr added to several species

******************************************************************************

echam5.1.04_mz04 (7 Feb 03)

- restructuring of emission and deposition submodels from Laurens

- updated version of psc submodel included

- the run script mz_mecca was restructured, made more user-friendly, and
  renamed to mz_echam.

- xecham uses grid engine instead of codine.

- modules/mo_tracer.f90: tracer number added to logfile

- submodel name (modstr) and version (modver) added to netcdf output

- new names in call_submodels.f90 for consistency:
  call_read_forcing   -> call_read
  call_init_tracers   -> call_init_tracer
  call_init_submodels -> call_init

- photolysis_init split into photo_init and photo_init_tracer

******************************************************************************

echam5.1.04_mz03b (31 Jan 03)

- emission and deposition submodels from Laurens Ganzeveld included

  - new files: modules/mo_mz_emis.f90 modules/mo_mz_emis_e5.f90
    modules/mo_mz_xt_drydep.f90 modules/mo_mz_xt_emis.f90
    modules/mo_mz_xtsurf.f90 modules/mo_mz_xtsurf_e5.f90

  - modules/mo_mz_mecca.f90: additional properties for some tracers in
    new_tracer, e.g.: moleweight=63., ndrydep=2, henry=1.e4, dryreac=1.

  - modules/mo_mz_submodels_switch.f90: USE_XTSURF and USE_EMIS added

  - modules/mo_physc_interface.f90: many streams added

  - src/call_submodels.f90: several new SUBROUTINE calls

  - src/physc.f90:

    - Some values are collected for mo_physc_interface.

    - geopoti_3d is height below current level. It is calculated using
      the dummy array zalpha_hp which only contains zeros.

  - src/vdiff.f90:

    - Some values are collected for mo_physc_interface.

    - new parameter zxtems in CALL call_chem_bcond

- namelist files for run scripts (mz_*) are now in the subdirectory
  run/nml

- regridder update (some bug fixes, RGTEVENT_STATUS
  (mo_mz_regrid_tools_e5.f90) with optional LOGICAL parameter lstop:
  stops on error)

- mo_mz_psc_kpp_interface: default value for khet_tot = 0. needed if
  USE_PSC=.false.

- Initialization of N2O from 2d_Dez2000.nc

******************************************************************************

echam5.1.04_mz03 (23 Dec 02)

- kpp and mecca changes:

  - new module mo_mz_kpp_interface provides kpp with access to variables
    and functions that describe rate constants (not vectorized yet).

  - Variables ilon, ilat, and ilev were moved from mo_geoloc to
    mo_mz_kpp_interface. (also changed in mo_mz_psc_init)

  - extended checks for existence of kpp variables: IF
    (idt_XXX*KPP_XXX/=0)

  - kpp variables VAR(I_*) replaced by C(KPP_*)

- always call xtdriver, not only if tracers exist

- parameters (klon,klev) re-inserted into CALL photolysis_chem which
  erroneously contained nlon and nlev

- psc module:

  - structure adapted to mo_mz_psc_kpp_interface

  - decoupling of the tracer initialization from MECCA

  - tf etc. changed to tm1, tte...

  - aerosol initialization via H2O, temperature, and surface climatology

- basic statistics (average and standard deviation) for tracer and
  stream netcdf output:

  - optional logical parameters lav (average) and lsd (standard
    deviation) for SUBROUTINEs new_tracer, default_stream_setting,
    set_stream_element_info, and add_stream_element

  - creation of additional stream <name>_sd for field <name> in case of
    lsd=.true.

  - This only works for netCDF output, not GRIB.

  - The information is saved in the rerun files.

  - changed files: mo_linked_list.f90, mo_memory_base.f90, mo_grib.f90,
    mo_netcdfstream.f90, mo_tracdef.f90, mo_tracer.f90,
    mo_memory_gl.f90, and mo_io.f90

- mo_mz_14CO_e5.f90: output of average and std.dev for all diagnostic
  fields and tracers

- xecham: the script continues as long as status = 0 and no user
  interaction is required.

- mo_netcdfstream.f90: time_step_len added to netcdf output. This is
  necessary for plot programs to calculate current temperature: temp =
  tm1 + time_step_len * tte.

******************************************************************************

echam5.1.04_mz02k (13 Dec 02)

- TRIGRAD deleted in run scripts (now default = 2h is used)

- d14CO: get_stream -> USE pointer transition

- regridder:

  - improved time step control

  - bug fixes in mo_mz_regrid_tools.f90 and mo_mz_regrid_tools_e5.f90

- mo_mz_submodels_switch.f90: new entry 'CHECK' in submodels.nml
  (default: .true.); if set to false echam5 does NOT terminate on
  unfulfilled submodel-interdependencies

******************************************************************************

echam5.1.04_mz02j (27 Nov 02)

- mo_mz_submodels_switch.f90: dependency between USE_PSC and USE_PHOTO deleted

- physc.f90 and mo_physc_interface.f90: qm1_3d, qte_3d, tm1_3d, tte_3d,
  xim1_3d, xite_3d, xlm1_3d, and xlte_3d added

- tm1, tte, paphp1, and papp1 deleted from parameter list of call_chem
  in call_submodels.f90 and xtdriver in mo_tracer.f90

******************************************************************************

echam5.1.04_mz02i (25 Nov 02)

- psc module restructured:

  - mo_mz_psc_mecca.f90 from smeili integrated into mo_mz_mecca.f90

  - rest of psc module in separate files (mo_mz_psc*.f90)

******************************************************************************

echam5.1.04_mz02h (22 Nov 02)

- mo_mz_14CO*.f90: update 3.0b

- mo_mz_regrid_*.f90 updated

- mo_mz_photolysis.f90:

  - split into 2 files: mo_mz_photolysis.f90 and mo_mz_photolysis_e5.f90

  - works in parallel environment

  - switch for online/offline O3 via namelist photolysis.nml

- call_submodels.f90: names adjusted to submodel conventions (e.g. d14co_chem)

- physc.f90: CALL xtdriver moved to end of latitude loop

- mo_physc_interface.f90: default_stream_setting for physc is lrerun=.FALSE.

******************************************************************************

echam5.1.04_mz02g (18 Nov 02)

- new option r = 'run' in xecham script

- mo_mz_submodels_switch.f90: consistency check of submodel interdependencies

- mo_mz_regrid_tools_e5.f90 updated

- USE_PHOTO can be set to .TRUE. even if USE_MECCA is .FALSE.

- updated mo_mz_photolysis.f90:

  - bug fixes from Christoph and Benedikt

  - should now work for resolutions other than T42

  - input suitable for parallel processing

  - photolysis of halogen species added (lookthal.dat instead of lookt.dat)

******************************************************************************

echam5.1.04_mz02f (14 Nov 02)

- a lot of bug-fixes in mo_mz_regrid*.f90

- new xecham script

- mpi configuration on linux, osf1, and aix

******************************************************************************

echam5.1.04_mz02e (7 Nov 02)

- each submodel (e.g. mecca) should define a global identification
  string:

  CHARACTER(LEN=*), PARAMETER :: modstr = 'mecca'

  This string is used to identify:

  - namelist files <modstr>.nml

  - tracer initialization namelist files <modstr>_t.nml

  - regridding trigger event restart files <modstr>.rst

- tracer initialization not in xtini in mo_tracer.f90 anymore but now in
  mo_mz_regrid_tools_e5.f90. It can be used by any submodel via:

  call_submodels.f90:        SUBROUTINE call_init_tracers
			     IF (USE_<modstr>) CALL <modstr>_init_tracer

  mo_mz_<modstr>.f90:        SUBROUTINE <modstr>_init_tracer
			     CALL tracer_init('<modstr>')

  mo_mz_regrid_tools_e5.f90: SUBROUTINE tracer_init()
			     ...
			     ! read <modstr>_t.nml and initialize tracer field

- this file renamed from history.txt to CHANGELOG

- run/mz_* adapted to initialize tracers

- update for mo_mz_14CO*.f90 (active only if USE_D14CO=.TRUE.)

- util/createMakefiles.pl.in: compile mo_mz_regrid_tools_e5.f90 w/o
  optimization on DEC-alpha and IBM RS6000

******************************************************************************

echam5.1.04_mz02d (6 Nov 02)

- new config/mh-aix

- updated mo_mz_14CO*.f90 (active only if USE_D14CO=.TRUE.)

- new ncregrid included:

  - see /soft/ncregrid/v0.9a1.10/CHANGELOG

  - updated mo_tracer.f90

  - new: mo_mz_regrid_tools*.f90 (connection between 'event-handler'
    and 'regridder'  --> RGTEVENTS (Regridding Trigger Events) (example
    in run/mz_pj* and mo_mz_14CO*.f90)

- new Makefile.in from Patrick. For more info, run "configure", then type
  "gmake help"

******************************************************************************

echam5.1.04_mz02c (21 Oct 02)

- psc module from smeili included but not activated

- xecham (previously called xmecca) now asks which run script should be used

- mo_physc_interface uses xi, xl, and q instead of xif, xlf, and qf

******************************************************************************

echam5.1.04_mz02b (16 Oct 02)

- new ncregrid included: see /soft/ncregrid/v0.9a1.09/CHANGELOG

- compilation of blas, lapack, and netcdf90 not needed anymore because
  the libraries are at /soft/ECHAM5/lib/* and /soft/netcdf/v3.5.1b/*

- changed files: configure, Makefile.in, config/mh-*,
  util/createMakefiles.pl.in

- the run scripts mz_1d and mz_mecca can now also be used on linux pc's
  without any changes

******************************************************************************

echam5.1.04_mz02 (15 Sep 02)

- new ncregrid included: version 0.9a1.08 + patch in TIME CONTROL
  CORRECTIONS, SUBROUTINE READ_NAMELIST, mo_mz_regrid_control.f90

- new submodel interface with mo_mz_submodels_switch.f90 added

- initialize.f90:

  - CALL initrac moved to end

  - new: CALL call_init_submodels

******************************************************************************

echam5.1.04_mz01c (13 Sep 02)

- modules/mo_memory_g3b.f90: longname corrected for stream_element az0i

- modules/mo_mz_photolysis.f90:

  - albedo used instead of albedo_2d (local variable renamed to zalbedo)

  - aclc used instead of frac_3d

- modules/mo_physc_interface.f90: many new entries

- src/physc.f90: several variables saved in physc stream

- src/radiation.f90: palbedo and pclc not used for physc stream anymore

- src/vdiff.f90: several variables saved in physc stream

******************************************************************************

echam5.1.04_mz01b (3 Sep 02)

- modules/mo_geoloc.f90: bugfix according to email from Philip (24 Jul 02)

- modules/mo_mz_mecca.f90: suggestion added how to affect qf(ilon,ilev,ilat)

******************************************************************************

echam5.1.04_mz01 (23 Jun 02)

- first working version with complete kpp gas-phase chemistry

******************************************************************************
**                     other saved ECHAM/MECCA versions                     **
******************************************************************************

echam5_aerosol_m7.0.09.tar.gz     Philip's m7
echam5.1.04_ori.tar.gz            original from Hamburg
echam5.1.06_ori.tar.gz            original from Hamburg

******************************************************************************
**                           end of CHANGELOG                               **
******************************************************************************
